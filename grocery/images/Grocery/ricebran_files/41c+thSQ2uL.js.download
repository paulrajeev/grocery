'use strict';mix_d("CustomerReviewsProductInsightsCards__cr-product-insights:cr-product-insights__FvIj7Nn6","require exports tslib @c/scoped-dom @c/logger @c/metrics @c/browser-window @c/browser-operations @p/a-button".split(" "),function(ea,Q,f,z,fa,ha,ia,ja,ka){function v(c){return c&&"object"===typeof c&&"default"in c?c:{"default":c}}function la(c){if(c&&c.__esModule)return c;var a=Object.create(null);c&&Object.keys(c).forEach(function(b){if("default"!==b){var d=Object.getOwnPropertyDescriptor(c,
b);Object.defineProperty(a,b,d.get?d:{enumerable:!0,get:function(){return c[b]}})}});a["default"]=c;return a}function A(c){switch(c){case m.RIO_ASPECT_BUTTON:case m.CALL_TO_ACTION:return"."+k.rioAspectButton;case m.HYPERLINK:case m.HYPERLINK_SYMBOL:return"."+k.aspectLink;default:return"."+k.aspectButton}}function F(c){c.hasAttribute("href")&&c.removeAttribute("href")}function G(c){return c===m.HYPERLINK||c===m.HYPERLINK_SYMBOL}var l=v(z),ma=v(fa),na=v(ia),oa=v(ja),w=v(ka),k={isDesktopView:"_cr-product-insights_style_is-desktop-view__2JQOI",
isMobileView:"_cr-product-insights_style_is-mobile-view__1gjvY",dataContainer:"_cr-product-insights_style_data-container__1LUVN",contentContainer:"_cr-product-insights_style_content-container__RTJWu",sentimentSection:"_cr-product-insights_style_sentiment-section__6zKPq",sentimentHeader:"_cr-product-insights_style_sentiment-header__3a273",sentimentAspects:"_cr-product-insights_style_sentiment-aspects__1cN4k",controlOverflow:"_cr-product-insights_style_control-overflow__2cRQZ",aspectButtons:"_cr-product-insights_style_aspect-buttons__14VA3",
aspectButtonGroup:"_cr-product-insights_style_aspect-button-group__nm_MR",aspectSymbolList:"_cr-product-insights_style_aspect-symbol-list__ToGcg",insightBottomSheetButtonGroup:"_cr-product-insights_style_insight-bottom-sheet-button-group__3u2Wk",aspectList:"_cr-product-insights_style_aspect-list__SDxlt",aspectListWrapper:"_cr-product-insights_style_aspect-list-wrapper__2VWcs",aspectLink:"_cr-product-insights_style_aspect-link__24OW5",aspectListTitle:"_cr-product-insights_style_aspect-list-title__1RRdp",
rioAspectButton:"_cr-product-insights_style_rio-aspect-button__3PlKa",aspectLinkSymbol:"_cr-product-insights_style_aspect-link-symbol__1TomH",rioAspectButtonList:"_cr-product-insights_style_rio-aspect-button-list__2Cpxx",bottomSheetRioAspectButtonList:"_cr-product-insights_style_bottom-sheet-rio-aspect-button-list__1bbru",aspectButton:"_cr-product-insights_style_aspect-button__1BFiu",selected:"_cr-product-insights_style_selected__2jTZU",aspectLinkList:"_cr-product-insights_style_aspect-link-list__2sage",
divider:"_cr-product-insights_style_divider__3X30O",positiveButton:"_cr-product-insights_style_positive-button__2jm-N",negativeButton:"_cr-product-insights_style_negative-button__36vrZ",mixedButton:"_cr-product-insights_style_mixed-button__yur1e",subtitleAspectButton:"_cr-product-insights_style_subtitle-aspect-button__3XYnW",bottomSheetWrapper:"_cr-product-insights_style_bottom-sheet-wrapper__3w1tU",hideBottomSheet:"_cr-product-insights_style_hide-bottom-sheet__2sOtf aok-hidden",insightBottomSheet:"_cr-product-insights_style_insight-bottom-sheet__xeFzj",
insightBottomSheetRedesign:"_cr-product-insights_style_insight-bottom-sheet-redesign__5tYsD",insightBottomSheetContent:"_cr-product-insights_style_insight-bottom-sheet-content__1KIl7",insightBottomSheetSubtitle:"_cr-product-insights_style_insight-bottom-sheet-subtitle__3UgC6",endingLine:"_cr-product-insights_style_ending-line__3oDJK",firstLink:"_cr-product-insights_style_first-link__ZehWa",snippet:"_cr-product-insights_style_snippet__26rjA",fragment:"_cr-product-insights_style_fragment__20x3L",snippetSeeMore:"_cr-product-insights_style_snippet-see-more__3TMW7",
statTextBox:"_cr-product-insights_style_stat-text-box__3wwg6",statTextBoxRow:"_cr-product-insights_style_stat-text-box-row__19H7j",statTextBoxTitle:"_cr-product-insights_style_stat-text-box-title__shF7P",statTextBoxSubtitle:"_cr-product-insights_style_stat-text-box-subtitle__1B94u",statCustomerMentionsBox:"_cr-product-insights_style_stat-customer-mentions-box__1Y9KR",statTextBoxLabelRow:"_cr-product-insights_style_stat-text-box-label-row__2ZAPB",statNumber:"_cr-product-insights_style_stat-number__2NfvD",
statInfoBox:"_cr-product-insights_style_stat-info-box__1W00j",closeButton:"_cr-product-insights_style_close-button__2GuzU",textPositive:"_cr-product-insights_style_text-positive__1rcqp",textNegative:"_cr-product-insights_style_text-negative__3EvTS",aspectSummaryLink:"_cr-product-insights_style_aspect-summary-link__dEy4S",aspectSummaryLabel:"_cr-product-insights_style_aspect-summary-label__1xeRT"},H={rendered:0,content:0,empty:0,"aspect-button-clicked":0,"aspect-button-dp-clicked":0,"aspect-button-bottomsheet-clicked":0,
"snippet-clicked":0,"aspects-scrolled":0,"bottomsheet-closed":0},r=function(c){var a,b=null!==(a=H[c])&&void 0!==a?a:0;H[c]=b+1;ha.count("cr-product-insights:dp:"+c,H[c])},R=function(c,a){if(c=l["default"].cardRoot.getElementsByClassName(c))for(var b=0;b<c.length;b++){var d=c[b];d&&d.addEventListener("click",function(){r(a)})}},x=function(c,a){c&&c.addEventListener("click",function(){r(a)})},pa=function(c,a){var b=l["default"].cardRoot.getElementsByClassName(c),d=Array(b.length);if(b){c=function(g){d[g]=
!1;var h=b[g];h&&h.addEventListener("scroll",function(){d[g]||(d[g]=!0,r(a))})};for(var e=0;e<b.length;e++)c(e)}},qa=function(){try{r("rendered");var c=l["default"].cardRoot.getElementsByClassName(k.contentContainer);r(0===c.length?"empty":"content");c&&(R(k.aspectButton,"aspect-button-clicked"),R(k.snippetSeeMore,"snippet-clicked"),pa(k.sentimentAspects,"aspects-scrolled"))}catch(a){}};z=function(){function c(){}c.prototype.show=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,
function(a){throw Error("not implemented");})})};c.prototype.hide=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(a){throw Error("not implemented");})})};c.prototype.updateContent=function(a){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(b){throw Error("not implemented");})})};return c}();var ra=function(c){function a(b){var d=c.call(this)||this;b=d.getContentSelector(b.sentimentIndex);d.contentHTML=l["default"].cardRoot.querySelector("#"+
b);return d}f.__extends(a,c);a.prototype.show=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(b){this.contentHTML&&(this.contentHTML.style.display="block");return[2]})})};a.prototype.hide=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(b){this.contentHTML&&(this.contentHTML.style.display="none");return[2]})})};a.prototype.updateContent=function(b){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,
function(d){this.hideAllContentList();this.showCurrentSelectedAspect(l["default"].cardRoot,b.aspectButtonsSize,b.aspectIndex,b.sentimentIndex);return[2]})})};a.prototype.getContentSelector=function(b){return"second-bottom-sheet-"+b};a.prototype.hideAllContentList=function(){l["default"].cardRoot.querySelectorAll("."+k.insightBottomSheetContent).forEach(function(b){b.style.display="none"})};a.prototype.showCurrentSelectedAspect=function(b,d,e,g){if(b=b.querySelector("#aspect-bottom-sheet-"+g+"-"+e))b.style.display=
"block"};return a}(z),S=function(c){function a(b){var d=c.call(this)||this;d.bottomSheetName=b.bottomSheetName;d.bottomSheetHTML=b.bottomSheetHTML;d.bottomSheet=b.bottomSheet;return d}f.__extends(a,c);a.build=function(b){return f.__awaiter(this,void 0,void 0,function(){var d,e,g,h;return f.__generator(this,function(n){switch(n.label){case 0:return[4,new Promise(function(p,B){ea(["@c/aui-bottom-sheet"],function(C){p(la(C))},B)})];case 1:return d=n.sent().default,e=this.getBottomSheetName(b.sentimentIndex),
g=l["default"].cardRoot.querySelector("#"+e),h=d.create(e,"#"+e,{height:na["default"].innerHeight*this.HEIGHT_PERCENTAGE}),h.on("afterHide",function(){h.render(function(p){a.hideAllBottomSheets(p,b.aspectBottomSheetCount,b.sentimentIndex)});r("bottomsheet-closed")}),[2,new a(f.__assign(f.__assign({},b),{bottomSheetName:e,bottomSheetHTML:g,bottomSheet:h}))]}})})};a.prototype.show=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(b){switch(b.label){case 0:return[4,
this.bottomSheet.show()];case 1:return b.sent(),[2]}})})};a.prototype.updateContent=function(b){return f.__awaiter(this,void 0,void 0,function(){var d=this;return f.__generator(this,function(e){switch(e.label){case 0:return[4,this.bottomSheet.render(function(g){return f.__awaiter(d,void 0,void 0,function(){return f.__generator(this,function(h){this.showOnlySelectedBottomSheet(g,b.aspectButtonsSize,b.aspectIndex,b.sentimentIndex);return[2]})})})];case 1:return e.sent(),[4,this.bottomSheet.show()];
case 2:return e.sent(),[2]}})})};a.getBottomSheetName=function(b){return"second-bottom-sheet-"+b};a.prototype.showOnlySelectedBottomSheet=function(b,d,e,g){for(var h=0;h<d;h++){var n=b.querySelector("#aspect-bottom-sheet-"+g+"-"+h);n&&(n.style.display=h===e?"block":"none")}};a.hideAllBottomSheets=function(b,d,e){for(var g=0;g<d;g++){var h=b.querySelector("#aspect-bottom-sheet-"+e+"-"+g);h&&(h.style.display="none")}};a.HEIGHT_PERCENTAGE=.85;return a}(z),t=function(c,a,b){var d=oa["default"].setup(),
e=d.define;d=d.attach;e(a,"click",b);d(a,c)},I=function(c,a){for(var b=c.classList.contains(k.rioAspectButton),d=0;d<a.length;d++){var e=a[d];e.classList.contains(k.selected)&&e.classList.remove(k.selected);b&&e.classList.contains("a-button-selected")&&w["default"]("#"+e.id).setStatus("normal")}b&&w["default"]("#"+c.id).setStatus("selected");c.classList.add(k.selected)},T;(function(c){c.MOBILEWEB="MOBILEWEB";c.MOBILEAPP="MOBILEAPP";c.DESKTOP="DESKTOP"})(T||(T={}));var m;(function(c){c.CONTROL="CONTROL";
c.RIO_ASPECT_BUTTON="RIO_ASPECT_BUTTON";c.HYPERLINK="HYPERLINK";c.HYPERLINK_SYMBOL="HYPERLINK_SYMBOL";c.CALL_TO_ACTION="CALL_TO_ACTION"})(m||(m={}));var U;(function(c){c.POSITIVE="POSITIVE";c.NEGATIVE="NEGATIVE";c.MIXED="MIXED";c.COMBINED="COMBINED"})(U||(U={}));var V=function(){function c(a){var b=a.sentimentHTML,d=a.aspectButtons,e=a.aspectButtonsInBottomSheet,g=a.aspectButtonType,h=a.updater;this.sentimentIndex=a.sentimentIndex;this.sentimentHTML=b;this.aspectButtons=d;this.aspectButtonsInBottomSheet=
e;this.aspectButtonType=g;this.updater=h}c.build=function(a){var b=a.sentimentIndex,d=a.sentimentHTML,e=a.aspectButtonType;return f.__awaiter(this,void 0,void 0,function(){var g,h,n;return f.__generator(this,function(p){switch(p.label){case 0:return g=this.getAspectButtons(d,b,e),h=this.getAspectButtonsInBottomSheet(b,e),[4,S.build({aspectBottomSheetCount:h.length,sentimentIndex:b})];case 1:return n=p.sent(),[2,new c({sentimentIndex:b,sentimentHTML:d,aspectButtons:g,aspectButtonsInBottomSheet:h,aspectButtonType:e,
updater:n})]}})})};c.prototype.bind=function(){this.bindEventForButtonGroupInFirstPage();this.bindEventForButtonGroupInBottomSheet();this.bindEventTracking()};c.getAspectButtonsInBottomSheet=function(a,b){return(a=l["default"].cardRoot.querySelector("#second-bottom-sheet-"+a))?(a=a.querySelector("."+k.insightBottomSheetButtonGroup),Array.from(a.querySelectorAll(A(b)))):[]};c.getAspectButtons=function(a,b,d){return(a=d==m.HYPERLINK?a:a.querySelector("#aspect-button-group-"+b))?Array.from(a.querySelectorAll(A(d))):
[]};c.prototype.isRioButton=function(a){return a===m.RIO_ASPECT_BUTTON||a===m.CALL_TO_ACTION};c.prototype.bindEventForButtonGroupInFirstPage=function(){var a=this;this.aspectButtons.forEach(function(b,d){t(b,b.id,function(){return f.__awaiter(a,void 0,void 0,function(){var e;return f.__generator(this,function(g){switch(g.label){case 0:e=this.aspectButtonsInBottomSheet[d];if(!e)return[3,2];this.updateSelectedAspectButton(e,this.aspectButtonsInBottomSheet);return[4,this.updater.updateContent({aspectButtonsSize:this.aspectButtonsInBottomSheet.length,
aspectIndex:d,sentimentIndex:this.sentimentIndex})];case 1:g.sent(),this.isRioButton(this.aspectButtonType)&&w["default"]("#"+b.id).setStatus("normal"),g.label=2;case 2:return e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),[2]}})})});G(a.aspectButtonType)&&F(b)})};c.prototype.bindEventForButtonGroupInBottomSheet=function(){var a=this;this.aspectButtonsInBottomSheet.forEach(function(b,d){t(b,b.id,function(){return f.__awaiter(a,void 0,void 0,function(){return f.__generator(this,
function(e){switch(e.label){case 0:return this.updateSelectedAspectButton(b,this.aspectButtonsInBottomSheet),[4,this.updater.updateContent({aspectButtonsSize:this.aspectButtonsInBottomSheet.length,aspectIndex:d,sentimentIndex:this.sentimentIndex})];case 1:return e.sent(),[2]}})})});G(a.aspectButtonType)&&F(b)})};c.prototype.bindEventTracking=function(){this.aspectButtons.forEach(function(a){x(a,"aspect-button-dp-clicked")});this.aspectButtonsInBottomSheet.forEach(function(a){x(a,"aspect-button-bottomsheet-clicked")})};
c.prototype.updateSelectedAspectButton=function(a,b){I(a,b)};return c}(),sa=function(){function c(a){var b=a.sentimentHTML,d=a.aspectButtons,e=a.updater,g=a.aspectButtonType,h=a.asin;this.sentimentIndex=a.sentimentIndex;this.sentimentHTML=b;this.aspectButtons=d;this.updater=e;this.asin=h;this.aspectButtonType=g}c.build=function(a){var b=a.sentimentIndex,d=a.sentimentHTML,e=a.asin,g=a.aspectButtonType;return f.__awaiter(this,void 0,void 0,function(){var h,n;return f.__generator(this,function(p){h=
this.getAspectButtons(d,b,g);n=new ra({sentimentIndex:b});return[2,new c({sentimentIndex:b,sentimentHTML:d,aspectButtons:h,asin:e,aspectButtonType:g,updater:n})]})})};c.prototype.bind=function(){var a=this;this.aspectButtons.forEach(function(b,d){t(b,b.id,function(){return f.__awaiter(a,void 0,void 0,function(){return f.__generator(this,function(e){switch(e.label){case 0:return[4,this.onClick(b,d)];case 1:return e.sent(),[2]}})})});G(a.aspectButtonType)&&F(b);a.fetchPreviousStateOfButton(d,b)});this.bindEventTracking();
this.bindEventSeeMoreButtons();this.bindCloseButtons()};c.prototype.bindEventSeeMoreButtons=function(){var a=this;l["default"].cardRoot.querySelectorAll("."+k.snippetSeeMore).forEach(function(b){b.addEventListener("click",function(){a.seeMoreStateToSessionStorage()})})};c.prototype.onClick=function(a,b){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(d){switch(d.label){case 0:a.classList.contains("a-button-selected")&&w["default"]("#"+a.id).setStatus("normal");
if(!a.classList.contains(k.selected))return[3,2];a.classList.remove(k.selected);return[4,this.updater.hide()];case 1:return d.sent(),this.resetStateInSessionStorage(),[3,5];case 2:return this.updateSelectedAspectButton(a),[4,this.updater.updateContent({aspectButtonsSize:this.aspectButtons.length,aspectIndex:b,sentimentIndex:this.sentimentIndex})];case 3:return d.sent(),[4,this.updater.show()];case 4:d.sent(),this.saveStateToSessionStorage(b,this.sentimentIndex),d.label=5;case 5:return[2]}})})};c.prototype.bindCloseButtons=
function(){return f.__awaiter(this,void 0,void 0,function(){var a,b=this;return f.__generator(this,function(d){a=l["default"].cardRoot.querySelectorAll("."+k.closeButton);a.forEach(function(e){t(e,e.id,function(){b.updater.hide();b.resetAllAspectButtons()})});return[2]})})};c.prototype.fetchPreviousStateOfButton=function(a,b){this.isSelectedAspect(a)&&(this.updater.updateContent({aspectButtonsSize:this.aspectButtons.length,aspectIndex:a,sentimentIndex:this.sentimentIndex}),this.updateSelectedAspectButton(b))};
c.getAspectButtons=function(a,b,d){return(a=d==m.HYPERLINK?a:a.querySelector("#aspect-button-group-"+b))?Array.from(a.querySelectorAll(A(d))):[]};c.prototype.resetAllAspectButtons=function(){var a=l["default"].cardRoot.querySelectorAll(A(this.aspectButtonType));a=Array.from(a);for(var b=0;b<a.length;b++){var d=a[b];d.classList.contains(k.selected)&&d.classList.remove(k.selected);d.classList.contains(k.rioAspectButton)&&d.classList.contains("a-button-selected")&&w["default"]("#"+d.id).setStatus("normal")}};
c.prototype.bindEventTracking=function(){this.aspectButtons.forEach(function(a){x(a,"aspect-button-dp-clicked")})};c.prototype.updateSelectedAspectButton=function(a){this.resetAllAspectButtons();I(a,this.aspectButtons)};c.prototype.saveStateToSessionStorage=function(a,b){sessionStorage.setItem("productInsights",JSON.stringify({selectedAspectId:a,selectedSentimentId:b,currentAsin:this.asin}))};c.prototype.seeMoreStateToSessionStorage=function(){sessionStorage.setItem("productInsightsSeeMoreClick",
JSON.stringify({isClick:!0,asin:this.asin}))};c.prototype.resetStateInSessionStorage=function(){sessionStorage.removeItem("productInsights")};c.prototype.isSelectedAspect=function(a){var b=sessionStorage.getItem("productInsights");if(null==b)return!1;var d=JSON.parse(b);b=d.selectedAspectId;var e=d.selectedSentimentId;d=d.currentAsin;return null===b||null===e||null===d?!1:d===this.asin&&parseInt(b)===a&&parseInt(e)===this.sentimentIndex};return c}(),ta=function(){function c(a){var b=a.aspectBottomSheetButtons,
d=a.updater,e=a.sentimentIndex;this.aspectLinks=a.aspectLinks;this.aspectBottomSheetButtons=b;this.updater=d;this.sentimentIndex=e}c.build=function(a){var b=a.aspectLinks,d=a.aspectBottomSheetButtons,e=a.sentimentIndex;return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return[4,S.build({aspectBottomSheetCount:d.length,sentimentIndex:e})];case 1:return g=h.sent(),[2,new c({aspectLinks:b,aspectBottomSheetButtons:d,updater:g,sentimentIndex:e})]}})})};
c.prototype.bindEventForLinksInFirstPage=function(){var a=this;this.aspectLinks.forEach(function(b){var d=b.id.split("-")[3],e=a.aspectBottomSheetButtons[d];t(b,b.id,function(){return f.__awaiter(a,void 0,void 0,function(){return f.__generator(this,function(g){switch(g.label){case 0:return this.updateSelectedAspectButton(e,this.aspectBottomSheetButtons),[4,this.updater.updateContent({aspectButtonsSize:this.aspectBottomSheetButtons.length,aspectIndex:+d,sentimentIndex:this.sentimentIndex})];case 1:return g.sent(),
e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),[2]}})})})})};c.prototype.bindEventForButtonGroupInBottomSheet=function(){var a=this;this.aspectBottomSheetButtons.forEach(function(b,d){t(b,b.id,function(){return f.__awaiter(a,void 0,void 0,function(){return f.__generator(this,function(e){switch(e.label){case 0:return this.updateSelectedAspectButton(b,this.aspectBottomSheetButtons),[4,this.updater.updateContent({aspectButtonsSize:this.aspectBottomSheetButtons.length,aspectIndex:d,
sentimentIndex:this.sentimentIndex})];case 1:return e.sent(),[2]}})})})})};c.prototype.bind=function(){this.bindEventForLinksInFirstPage();this.bindEventForButtonGroupInBottomSheet();this.bindEventTracking()};c.prototype.bindEventTracking=function(){this.aspectLinks.forEach(function(a){x(a,"aspect-link-dp-clicked")});this.aspectBottomSheetButtons.forEach(function(a){x(a,"aspect-button-bottomsheet-clicked")})};c.prototype.updateSelectedAspectButton=function(a,b){I(a,b)};return c}(),ua=function(c){var a=
sessionStorage.getItem("productInsightsSeeMoreClick");if(null==a)c=!1;else{a=JSON.parse(a);var b=a.isClick;c=a.asin===c&&!!b}c&&(c=l["default"].cardRoot.querySelectorAll("."+k.contentContainer),0<c.length&&(c[0].scrollIntoView({block:"center",inline:"center"}),sessionStorage.removeItem("productInsightsSeeMoreClick")))},va=function(c){var a=new Map;c.forEach(function(b){var d=+b.id.split("-")[2];a.has(d)||a.set(d,[]);a.get(d).push(b)});return a};Q._operationNames=[];Q.card=function(){return f.__awaiter(void 0,
void 0,void 0,function(){var c,a,b,d,e,g,h,n,p,B,C,y,u,J,K,W,X,Y,Z,aa,L,ba,M,N,O,P;return f.__generator(this,function(q){switch(q.label){case 0:q.trys.push([0,9,,10]);c=k.bottomSheetWrapper.split(" ")[0];a=l["default"].cardRoot.getElementsByClassName(c)[0];b=0<l["default"].cardRoot.getElementsByClassName(k.isDesktopView).length;d=function(){return l["default"].cardRoot.getElementsByClassName(k.contentContainer)[0]};e=m[null!==(N=null===(M=d())||void 0===M?void 0:M.dataset.aspectButtonType)&&void 0!==
N?N:m.CONTROL];g=b?null!==(P=null===(O=d())||void 0===O?void 0:O.dataset.asin)&&void 0!==P?P:"":"";if(!a)return[3,8];h=l["default"].cardRoot.querySelectorAll("."+k.sentimentSection);h.forEach(function(ca,da){return f.__awaiter(void 0,void 0,void 0,function(){var D;return f.__generator(this,function(E){switch(E.label){case 0:return b?[4,sa.build({sentimentHTML:ca,sentimentIndex:da,asin:g,aspectButtonType:e})]:[3,2];case 1:return D=E.sent(),D.bind(),[3,4];case 2:return[4,V.build({sentimentHTML:ca,sentimentIndex:da,
aspectButtonType:e})];case 3:D=E.sent(),D.bind(),E.label=4;case 4:return[2]}})})});n=l["default"].cardRoot.querySelectorAll("#product-summary");p=0<n.length;if(!p)return[3,8];B=l["default"].cardRoot.querySelectorAll("."+k.aspectSummaryLink);C=va(B);q.label=1;case 1:q.trys.push([1,6,7,8]),y=f.__values(C),u=y.next(),q.label=2;case 2:if(u.done)return[3,5];J=f.__read(u.value,2);K=J[0];W=J[1];X=V.getAspectButtonsInBottomSheet(K,e);return[4,ta.build({aspectLinks:W,aspectBottomSheetButtons:X,sentimentIndex:K})];
case 3:Y=q.sent(),Y.bind(),q.label=4;case 4:return u=y.next(),[3,2];case 5:return[3,8];case 6:return Z=q.sent(),L={error:Z},[3,8];case 7:try{u&&!u.done&&(ba=y.return)&&ba.call(y)}finally{if(L)throw L.error;}return[7];case 8:return b&&ua(g),qa(),[3,10];case 9:return aa=q.sent(),ma["default"].log("Product Insight: Error:"+aa.message,"ERROR"),[3,10];case 10:return[2]}})})}});
