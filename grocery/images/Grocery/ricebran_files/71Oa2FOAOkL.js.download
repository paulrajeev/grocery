/*
 regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
(function(E){var Q=window.AmazonUIPageJS||window.P,l=Q._namespace||Q.attributeErrors,U=l?l("DetailPagePriceTrackerAssets",""):Q;U.guardFatal?U.guardFatal(E)(U,window):U.execute(function(){E(U,window)})})(function(E,Q,l){"use strict";var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};E.register("price-tracker-latency-metrics",function(){return{METRIC_LATENCY_WIDGET:"priceTrackerWidget:assetsLoadedNonCriticalATF"}});
E.execute("price-tracker-init",function(){var ha=function(){var l=navigator.userAgent,p=l.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(p[1]))return l=/\brv[ :]+(\d+)/g.exec(l)||[],{vendor:"IE",version:parseInt(l[1])||null}}();ha&&null!=ha.vendor&&0===ha.vendor.localeCompare("IE")&&null!=ha.version&&11>=ha.version||(E.register("price-tracker-d3",function(){function x(d,e){e||(e=d.slice(0));return Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(e)}}))}
function p(d,e,h){e=R(e);e in d?Object.defineProperty(d,e,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[e]=h;return d}function h(){h=Object.assign?Object.assign.bind():function(d){for(var e=1;e<arguments.length;e++){var h=arguments[e],l;for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(d[l]=h[l])}return d};return h.apply(this,arguments)}function r(d,e){var h=Array.isArray(d)?d:void 0;if(!h)a:{var l=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=
l){var Eb,p,r,w=[],y=!0,x=!1;try{if(p=(l=l.call(d)).next,0===e){if(Object(l)!==l){h=void 0;break a}y=!1}else for(;!(y=(Eb=p.call(l)).done)&&(w.push(Eb.value),w.length!==e);y=!0);}catch(yc){x=!0;var D=yc}finally{try{if(!y&&null!=l["return"]&&(r=l["return"](),Object(r)!==r)){h=void 0;break a}}finally{if(x)throw D;}}h=w}else h=void 0}if(!(d=h||V(d,e)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return d}function C(d,e,h){e=D(e);e=u()?Reflect.construct(e,h||[],D(d).constructor):e.apply(d,h);if(!e||"object"!==S(e)&&"function"!==typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else d=e;return d}function I(){I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(d,e,h){var l;for(l=d;!Object.prototype.hasOwnProperty.call(l,
e)&&(l=D(l),null!==l););if(l)return l=Object.getOwnPropertyDescriptor(l,e),l.get?l.get.call(3>arguments.length?d:h):l.value};return I.apply(this,arguments)}function M(d,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,writable:!0,configurable:!0}});Object.defineProperty(d,"prototype",{writable:!1});l&&e(d,l)}function z(d){var h="function"===typeof Map?new Map:l;z=function(d){function l(){return H(d,
arguments,D(this).constructor)}if(null===d||!w(d))return d;if("function"!==typeof d)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof h){if(h.has(d))return h.get(d);h.set(d,l)}l.prototype=Object.create(d.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});return e(l,d)};return z(d)}function H(d,l,h){if(u())return Reflect.construct.apply(null,arguments);var p=[null];p.push.apply(p,l);p=new (d.bind.apply(d,p));return h&&e(p,h.prototype),
p}function u(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Eb){}return(u=function(){return!!d})()}function w(d){try{return-1!==Function.toString.call(d).indexOf("[native code]")}catch(Eb){return"function"===typeof d}}function e(d,l){e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,e){d.__proto__=e;return d};return e(d,l)}function D(d){D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)};
return D(d)}function W(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function");}function ma(d,e){for(var l=0;l<e.length;l++){var h=e[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(d,R(h.key),h)}}function N(d,e,l){e&&ma(d.prototype,e);l&&ma(d,l);Object.defineProperty(d,"prototype",{writable:!1});return d}function R(d){a:if("object"==S(d)&&d){var e=d[Symbol.toPrimitive];if(void 0!==e){d=e.call(d,"string");if("object"!=
S(d))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}d=String(d)}return"symbol"==S(d)?d:d+""}function E(d){var e=Array.isArray(d)?ha(d):void 0;e||(e="undefined"!==typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"]?Array.from(d):void 0);if(!(d=e||V(d)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return d}function S(d){"@babel/helpers - typeof";return S=
"function"==typeof Symbol&&"symbol"==U(Symbol.iterator)?function(d){return"undefined"===typeof d?"undefined":U(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":"undefined"===typeof d?"undefined":U(d)},S(d)}function Ia(){function d(d,e,l){return Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}),d[e]}function e(d,e,l,p){e=Object.create((e&&e.prototype instanceof h?e:h).prototype);p=new u(p||[]);return W(e,"_invoke",
{value:x(d,l,p)}),e}function l(d,e,l){try{return{type:"normal",arg:d.call(e,l)}}catch(hb){return{type:"throw",arg:hb}}}function h(){}function p(){}function r(){}function w(e){["next","throw","return"].forEach(function(l){d(e,l,function(d){return this._invoke(l,d)})})}function y(d,e){function h(p,r,w,Ca){p=l(d[p],d,r);if("throw"!==p.type){var ta=p.arg;return(p=ta.value)&&"object"==S(p)&&K.call(p,"__await")?e.resolve(p.__await).then(function(d){h("next",d,w,Ca)},function(d){h("throw",d,w,Ca)}):e.resolve(p).then(function(d){ta.value=
d;w(ta)},function(d){return h("throw",d,w,Ca)})}Ca(p.arg)}var p;W(this,"_invoke",{value:function(d,l){function r(){return new e(function(e,p){h(d,l,e,p)})}return p=p?p.then(r,r):r()}})}function x(d,e,h){var p=jb;return function(r,w){if(p===N)throw Error("Generator is already running");if(p===Ka){if("throw"===r)throw w;return{value:B,done:!0}}h.method=r;for(h.arg=w;;){if(r=h.delegate)if(r=D(r,h)){if(r===E)continue;return r}if("next"===h.method)h.sent=h._sent=h.arg;else if("throw"===h.method){if(p===
jb)throw p=Ka,h.arg;h.dispatchException(h.arg)}else"return"===h.method&&h.abrupt("return",h.arg);p=N;r=l(d,e,h);if("normal"===r.type){if(p=h.done?Ka:Jb,r.arg===E)continue;return{value:r.arg,done:h.done}}"throw"===r.type&&(p=Ka,h.method="throw",h.arg=r.arg)}}}function D(d,e){var h=e.method,p=d.iterator[h];if(p===B)return e.delegate=null,"throw"===h&&d.iterator["return"]&&(e.method="return",e.arg=B,D(d,e),"throw"===e.method)||"return"!==h&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+
h+"' method")),E;h=l(p,d.iterator,e.arg);return"throw"===h.type?(e.method="throw",e.arg=h.arg,e.delegate=null,E):(h=h.arg)?h.done?(e[d.resultName]=h.value,e.next=d.nextLoc,"return"!==e.method&&(e.method="next",e.arg=B),e.delegate=null,E):h:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function ca(d){var e={tryLoc:d[0]};1 in d&&(e.catchLoc=d[1]);2 in d&&(e.finallyLoc=d[2],e.afterLoc=d[3]);this.tryEntries.push(e)}function O(d){var e=d.completion||{};e.type=
"normal";delete e.arg;d.completion=e}function u(d){this.tryEntries=[{tryLoc:"root"}];d.forEach(ca,this);this.reset(!0)}function C(d){if(d||""===d){var e=d[la];if(e)return e.call(d);if("function"==typeof d.next)return d;if(!isNaN(d.length)){var h=-1;e=function ua(){for(;++h<d.length;)if(K.call(d,h))return ua.value=d[h],ua.done=!1,ua;return ua.value=B,ua.done=!0,ua};return e.next=e}}throw new TypeError(S(d)+" is not iterable");}Ia=function(){return z};var B,z={},ea=Object.prototype,K=ea.hasOwnProperty,
W=Object.defineProperty||function(d,e,h){d[e]=h.value},H="function"==typeof Symbol?Symbol:{},la=H.iterator||"@@iterator",M=H.asyncIterator||"@@asyncIterator",I=H.toStringTag||"@@toStringTag";try{d({},"")}catch(Ca){d=function(d,e,h){return d[e]=h}}z.wrap=e;var jb="suspendedStart",Jb="suspendedYield",N="executing",Ka="completed",E={};H={};d(H,la,function(){return this});var R=Object.getPrototypeOf;(R=R&&R(R(C([]))))&&R!==ea&&K.call(R,la)&&(H=R);var ma=r.prototype=h.prototype=Object.create(H);return p.prototype=
r,W(ma,"constructor",{value:r,configurable:!0}),W(r,"constructor",{value:p,configurable:!0}),p.displayName=d(r,I,"GeneratorFunction"),z.isGeneratorFunction=function(d){d="function"==typeof d&&d.constructor;return!!d&&(d===p||"GeneratorFunction"===(d.displayName||d.name))},z.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,r):(e.__proto__=r,d(e,I,"GeneratorFunction")),e.prototype=Object.create(ma),e},z.awrap=function(d){return{__await:d}},w(y.prototype),d(y.prototype,M,function(){return this}),
z.AsyncIterator=y,z.async=function(d,h,l,p,r){void 0===r&&(r=Promise);var w=new y(e(d,h,l,p),r);return z.isGeneratorFunction(h)?w:w.next().then(function(d){return d.done?d.value:w.next()})},w(ma),d(ma,I,"Generator"),d(ma,la,function(){return this}),d(ma,"toString",function(){return"[object Generator]"}),z.keys=function(d){var e=Object(d),h=[],l;for(l in e)h.push(l);return h.reverse(),function na(){for(;h.length;){var d=h.pop();if(d in e)return na.value=d,na.done=!1,na}return na.done=!0,na}},z.values=
C,u.prototype={constructor:u,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(O),!d)for(var e in this)"t"===e.charAt(0)&&K.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=B)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if("throw"===d.type)throw d.arg;return this.rval},dispatchException:function(d){function e(e,l){return r.type="throw",r.arg=d,h.next=e,l&&(h.method="next",h.arg=
B),!!l}if(this.done)throw d;for(var h=this,l=this.tryEntries.length-1;0<=l;--l){var p=this.tryEntries[l],r=p.completion;if("root"===p.tryLoc)return e("end");if(p.tryLoc<=this.prev){var w=K.call(p,"catchLoc"),y=K.call(p,"finallyLoc");if(w&&y){if(this.prev<p.catchLoc)return e(p.catchLoc,!0);if(this.prev<p.finallyLoc)return e(p.finallyLoc)}else if(w){if(this.prev<p.catchLoc)return e(p.catchLoc,!0)}else{if(!y)throw Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return e(p.finallyLoc)}}}},
abrupt:function(d,e){for(var h=this.tryEntries.length-1;0<=h;--h){var l=this.tryEntries[h];if(l.tryLoc<=this.prev&&K.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var p=l;break}}p&&("break"===d||"continue"===d)&&p.tryLoc<=e&&e<=p.finallyLoc&&(p=null);h=p?p.completion:{};return h.type=d,h.arg=e,p?(this.method="next",this.next=p.finallyLoc,E):this.complete(h)},complete:function(d,e){if("throw"===d.type)throw d.arg;return"break"===d.type||"continue"===d.type?this.next=d.arg:"return"===d.type?(this.rval=
this.arg=d.arg,this.method="return",this.next="end"):"normal"===d.type&&e&&(this.next=e),E},finish:function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.finallyLoc===d)return this.complete(h.completion,h.afterLoc),O(h),E}},"catch":function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.tryLoc===d){d=h.completion;if("throw"===d.type){var l=d.arg;O(h)}return l}}throw Error("illegal catch attempt");},delegateYield:function(d,e,h){return this.delegate=
{iterator:C(d),resultName:e,nextLoc:h},"next"===this.method&&(this.arg=B),E}},z}function B(d,e){var h="undefined"!==typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!h){if(Array.isArray(d)||(h=V(d))||e&&d&&"number"===typeof d.length){h&&(d=h);var l=0;e=function(){};return{s:e,n:function(){return l>=d.length?{done:!0}:{done:!1,value:d[l++]}},e:function(d){throw d;},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var p=!0,r=!1,w;return{s:function(){h=h.call(d)},n:function(){var d=h.next();p=d.done;return d},e:function(d){r=!0;w=d},f:function(){try{if(!p&&null!=h["return"])h["return"]()}finally{if(r)throw w;}}}}function V(d,e){if(d){if("string"===typeof d)return ha(d,e);var h=Object.prototype.toString.call(d).slice(8,-1);"Object"===h&&d.constructor&&(h=d.constructor.name);if("Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return ha(d,e)}}function ha(d,
e){if(null==e||e>d.length)e=d.length;for(var h=0,l=Array(e);h<e;h++)l[h]=d[h];return l}var Ib,ca,y,O,ea,la,K,jb,Jb,Vd,Ka,Wd,Xd,Yd;return function(d){function e(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function w(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function u(a){function b(a,b){var g=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=3<arguments.length&&arguments[3]!==l?arguments[3]:a.length;if(g<k){if(0!==c(b,b))return k;do{var m=g+k>>>1;0>f(a[m],b)?g=m+1:k=
m}while(g<k)}return g}if(2!==a.length){var c=e;var f=function(b,c){return e(a(b),c)};var g=function(b,c){return a(b)-c}}else c=a===e||a===w?a:H,g=f=a;return{left:b,center:function(a,c){var f=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=b(a,c,f,(3<arguments.length&&arguments[3]!==l?arguments[3]:a.length)-1);return k>f&&g(a[k-1],c)>-g(a[k],c)?k-1:k},right:function(a,b){var g=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=3<arguments.length&&arguments[3]!==l?arguments[3]:a.length;if(g<
k){if(0!==c(b,b))return k;do{var m=g+k>>>1;0>=f(a[m],b)?g=m+1:k=m}while(g<k)}return g}}}function H(){return 0}function R(a){return null===a?NaN:+a}function ma(a,b){var c,f,g,m,q,A,k;return Ia().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(b!==l){n.next=21;break}c=B(a);n.prev=2;c.s();case 4:if((f=c.n()).done){n.next=11;break}g=f.value;if(!(null!=g&&(g=+g)>=g)){n.next=9;break}n.next=9;return g;case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](2),c.e(n.t0);case 16:return n.prev=
16,c.f(),n.finish(16);case 19:n.next=40;break;case 21:m=-1,q=B(a),n.prev=23,q.s();case 25:if((A=q.n()).done){n.next=32;break}k=A.value;if(!(null!=(k=b(k,++m,a))&&(k=+k)>=k)){n.next=30;break}n.next=30;return k;case 30:n.next=25;break;case 32:n.next=37;break;case 34:n.prev=34,n.t1=n["catch"](23),q.e(n.t1);case 37:return n.prev=37,q.f(),n.finish(37);case 40:case "end":return n.stop()}},Ug,null,[[2,13,16,19],[23,34,37,40]])}function ha(a){return function(b,c){var f=2<arguments.length&&arguments[2]!==
l?arguments[2]:c;if(!(0<=(c=+c)))throw new RangeError("invalid rx");if(!(0<=(f=+f)))throw new RangeError("invalid ry");var g=b.data,m=b.width,q=b.height;if(!(0<=(m=Math.floor(m))))throw new RangeError("invalid width");if(!(0<=(q=Math.floor(q!==l?q:g.length/m))))throw new RangeError("invalid height");if(!m||!q||!c&&!f)return b;var A=c&&a(c);f=f&&a(f);var k=g.slice();A&&f?(ia(A,k,g,m,q),ia(A,g,k,m,q),ia(A,k,g,m,q),V(f,g,k,m,q),V(f,k,g,m,q),V(f,g,k,m,q)):A?(ia(A,g,k,m,q),ia(A,k,g,m,q),ia(A,g,k,m,q)):
f&&(V(f,g,k,m,q),V(f,k,g,m,q),V(f,g,k,m,q));return b}}function ia(a,b,c,f,g){var m=0;for(g*=f;m<g;)a(b,c,m,m+=f,1)}function V(a,b,c,f,g){var m=0;for(g*=f;m<f;++m)a(b,c,m,m+g,f)}function U(a){var b=Math.floor(a);if(b===a)return yc(a);var c=a-b,f=2*a+1;return function(a,m,q,A,k){if((A-=k)>=q){for(var g=b*m[q],v=k*b,t=v+k,d=q,G=q+v;d<G;d+=k)g+=m[Math.min(A,d)];d=q;for(G=A;d<=G;d+=k)g+=m[Math.min(A,d+v)],a[d]=(g+c*(m[Math.max(q,d-t)]+m[Math.min(A,d+t)]))/f,g-=m[Math.max(q,d-v)]}}}function yc(a){var b=
2*a+1;return function(c,f,g,m,q){if((m-=q)>=g){for(var A=a*f[g],k=q*a,n=g,v=g+k;n<v;n+=q)A+=f[Math.min(m,n)];n=g;for(v=m;n<=v;n+=q)A+=f[Math.min(m,n+k)],c[n]=A/b,A-=f[Math.max(g,n-k)]}}}function Fb(a,b){var c=0;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(g=+g)>=g&&++c}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=b(q,++f,a))&&(q=+q)>=q&&++c}}catch(A){g.e(A)}finally{g.f()}}return c}function Qg(a){return a.length|
0}function Rg(a){return!(0<a)}function Sg(a){return"object"!==S(a)||"length"in a?a:Array.from(a)}function Tg(a){return function(b){return a.apply(void 0,E(b))}}function Md(a,b){var c=0,f=0,g=0;if(b===l){a=B(a);var m;try{for(a.s();!(m=a.n()).done;){var q=m.value;if(null!=q&&(q=+q)>=q){var A=q-f;f+=A/++c;g+=A*(q-f)}}}catch(v){a.e(v)}finally{a.f()}}else{m=-1;q=B(a);var k;try{for(q.s();!(k=q.n()).done;){var n=k.value;null!=(n=b(n,++m,a))&&(n=+n)>=n&&(A=n-f,f+=A/++c,g+=A*(n-f))}}catch(v){q.e(v)}finally{q.f()}}if(1<
c)return g/(c-1)}function Ld(a,b){return(a=Md(a,b))?Math.sqrt(a):a}function Hb(a,b){var c,f;if(b===l){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;null!=m&&(c===l?m>=m&&(c=f=m):(c>m&&(c=m),f<m&&(f=m)))}}catch(k){a.e(k)}finally{a.f()}}else{g=-1;m=B(a);var q;try{for(m.s();!(q=m.n()).done;){var A=q.value;null!=(A=b(A,++g,a))&&(c===l?A>=A&&(c=f=A):(c>A&&(c=A),f<A&&(f=A)))}}catch(k){m.e(k)}finally{m.f()}}return[c,f]}function Ac(a,b){var c=a._intern;a=a._key;a=a(b);return c.has(a)?c.get(a):
b}function Rd(a,b){var c=a._intern;a=a._key;a=a(b);if(c.has(a))return c.get(a);c.set(a,b);return b}function Sd(a,b){var c=a._intern;a=a._key;a=a(b);c.has(a)&&(b=c.get(a),c["delete"](a));return b}function Nd(a){return null!==a&&"object"===S(a)?a.valueOf():a}function Xa(a){return a}function Od(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ta(a,Xa,Xa,c)}function Pd(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ta(a,Array.from,
Xa,c)}function Qd(a,b){var c=1;for(b=b.length;c<b;++c)a=a.flatMap(function(a){return a.pop().map(function(b){var c=r(b,2);b=c[0];c=c[1];return[].concat(E(a),[b,c])})});return a}function Td(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ta(a,Xa,b,f)}function Ud(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ta(a,Array.from,b,f)}function Ca(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function ta(a,
b,c,f){return function A(a,q){if(q>=f.length)return c(a);var k=new kb,m=f[q++],v=-1,t=B(a),d;try{for(t.s();!(d=t.n()).done;){var G=d.value,e=m(G,++v,a),h=k.get(e);h?h.push(G):k.set(e,[G])}}catch(aa){t.e(aa)}finally{t.f()}a=B(k);var l;try{for(a.s();!(l=a.n()).done;){var p=r(l.value,2);k.set(p[0],A(p[1],q))}}catch(aa){a.e(aa)}finally{a.f()}return b(k)}(a,0)}function Kd(a,b){return Array.from(b,function(b){return a[b]})}function hb(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=
arguments[f];if("function"!==typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);var g=r(c,1)[0];return g&&2!==g.length||1<c.length?(b=Uint32Array.from(a,function(a,b){return b}),1<c.length?(c=c.map(function(b){return a.map(b)}),b.sort(function(a,b){var f=B(c),k;try{for(f.s();!(k=f.n()).done;){var g=k.value,m=na(g[a],g[b]);if(m)return m}}catch(t){f.e(t)}finally{f.f()}})):(g=a.map(g),b.sort(function(a,b){return na(g[a],g[b])})),Kd(a,b)):a.sort(ua(g))}function ua(){var a=
0<arguments.length&&arguments[0]!==l?arguments[0]:e;if(a===e)return na;if("function"!==typeof a)throw new TypeError("compare is not a function");return function(b,c){var f=a(b,c);return f||0===f?f:(0===a(c,c))-(0===a(b,b))}}function na(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:a>b?1:0)}function zc(a){return function(){return a}}function Gb(a,b,c){var f=(b-a)/Math.max(0,c),g=Math.floor(Math.log10(f));f/=Math.pow(10,g);f=f>=Vg?10:f>=Wg?5:f>=Xg?2:1;if(0>g){var m=Math.pow(10,-g)/f;g=Math.round(a*
m);f=Math.round(b*m);g/m<a&&++g;f/m>b&&--f;m=-m}else m=Math.pow(10,g)*f,g=Math.round(a/m),f=Math.round(b/m),g*m<a&&++g,f*m>b&&--f;return f<g&&.5<=c&&2>c?Gb(a,b,2*c):[g,f,m]}function ib(a,b,c){b=+b;a=+a;c=+c;if(!(0<c))return[];if(a===b)return[a];var f=b<a;a=f?Gb(b,a,c):Gb(a,b,c);a=r(a,3);var g=a[0],m=a[1];a=a[2];if(!(m>=g))return[];b=m-g+1;c=Array(b);if(f)if(0>a)for(f=0;f<b;++f)c[f]=(m-f)/-a;else for(f=0;f<b;++f)c[f]=(m-f)*a;else if(0>a)for(f=0;f<b;++f)c[f]=(g+f)/-a;else for(f=0;f<b;++f)c[f]=(g+f)*
a;return c}function Ja(a,b,c){return Gb(+a,+b,+c)[2]}function Kb(a,b,c){b=+b;a=+a;c=+c;var f=b<a;a=f?Ja(b,a,c):Ja(a,b,c);return(f?-1:1)*(0>a?1/-a:a)}function Zd(a,b,c){for(var f;;){var g=Ja(a,b,c);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function $d(a){return Math.max(1,Math.ceil(Math.log(Fb(a))/Math.LN2)+1)}function ae(){function a(a){Array.isArray(a)||(a=Array.from(a));var g,q=a.length,d,k,n=Array(q);
for(g=0;g<q;++g)n[g]=b(a[g],g,a);var v=c(n),t=v[0];v=v[1];var F=f(n,t,v);if(!Array.isArray(F)){var G=v;g=+F;c===Hb&&(t=Zd(t,v,g),v=r(t,2),t=v[0],v=v[1]);F=ib(t,v,g);F[0]<=t&&(k=Ja(t,v,g));F[F.length-1]>=v&&(G>=v&&c===Hb?(G=Ja(t,v,g),isFinite(G)&&(0<G?v=(Math.floor(v/G)+1)*G:0>G&&(v=(Math.ceil(v*-G)+1)/-G))):F.pop())}G=F.length;g=0;for(var e=G;F[g]<=t;)++g;for(;F[e-1]>v;)--e;if(g||e<G)F=F.slice(g,e),G=e-g;e=Array(G+1);for(g=0;g<=G;++g){var h=e[g]=[];h.x0=0<g?F[g-1]:t;h.x1=g<G?F[g]:v}if(isFinite(k))if(0<
k)for(g=0;g<q;++g)null!=(d=n[g])&&t<=d&&d<=v&&e[Math.min(G,Math.floor((d-t)/k))].push(a[g]);else{if(0>k)for(g=0;g<q;++g)null!=(d=n[g])&&t<=d&&d<=v&&(h=Math.floor((t-d)*k),e[Math.min(G,h+(F[h]<=d))].push(a[g]))}else for(g=0;g<q;++g)null!=(d=n[g])&&t<=d&&d<=v&&e[La(F,d,0,G)].push(a[g]);return e}var b=Xa,c=Hb,f=$d;a.value=function(c){return arguments.length?(b="function"===typeof c?c:zc(c),a):b};a.domain=function(b){return arguments.length?(c="function"===typeof b?b:zc([b[0],b[1]]),a):c};a.thresholds=
function(b){return arguments.length?(f="function"===typeof b?b:zc(Array.isArray(b)?Yg.call(b):b),a):f};return a}function Bc(a,b){var c;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c<g||c===l&&g>=g)&&(c=g)}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=b(q,++f,a))&&(c<q||c===l&&q>=q)&&(c=q)}}catch(A){g.e(A)}finally{g.f()}}return c}function Cc(a,b){var c=-1,f=-1;if(b===l){a=B(a);var g;try{for(a.s();!(g=
a.n()).done;){var m=g.value;++f;if(null!=m&&(q<m||q===l&&m>=m)){var q=m;c=f}}}catch(n){a.e(n)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(q<k||q===l&&k>=k)&&(q=k,c=f)}}catch(n){g.e(n)}finally{g.f()}}return c}function Lb(a,b){var c;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c>g||c===l&&g>=g)&&(c=g)}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=
b(q,++f,a))&&(c>q||c===l&&q>=q)&&(c=q)}}catch(A){g.e(A)}finally{g.f()}}return c}function Dc(a,b){var c=-1,f=-1;if(b===l){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;++f;if(null!=m&&(q>m||q===l&&m>=m)){var q=m;c=f}}}catch(n){a.e(n)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(q>k||q===l&&k>=k)&&(q=k,c=f)}}catch(n){g.e(n)}finally{g.f()}}return c}function Mb(a,b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:0,f=3<arguments.length&&
arguments[3]!==l?arguments[3]:Infinity,g=4<arguments.length?arguments[4]:l;b=Math.floor(b);c=Math.floor(Math.max(0,c));f=Math.floor(Math.min(a.length-1,f));if(!(c<=b&&b<=f))return a;for(g=g===l?na:ua(g);f>c;){if(600<f-c){var m=f-c+1,q=b-c+1,d=Math.log(m),k=.5*Math.exp(2*d/3);d=.5*Math.sqrt(d*k*(m-k)/m)*(0>q-m/2?-1:1);Mb(a,b,Math.max(c,Math.floor(b-q*k/m+d)),Math.min(f,Math.floor(b+(m-q)*k/m+d)),g)}m=a[b];q=c;k=f;mb(a,c,b);for(0<g(a[f],m)&&mb(a,c,f);q<k;){mb(a,q,k);++q;for(--k;0>g(a[q],m);)++q;for(;0<
g(a[k],m);)--k}0===g(a[c],m)?mb(a,c,k):(++k,mb(a,k,f));k<=b&&(c=k+1);b<=k&&(f=k-1)}return a}function mb(a,b,c){var f=a[b];a[b]=a[c];a[c]=f}function be(a){var b=1<arguments.length&&arguments[1]!==l?arguments[1]:e,c=!1;if(1===b.length){var f=B(a),g;try{for(f.s();!(g=f.n()).done;){var m=g.value,q=b(m);if(c?0<e(q,k):0===e(q,q)){var d=m;var k=q;c=!0}}}catch(v){f.e(v)}finally{f.f()}}else{k=B(a);try{for(k.s();!(f=k.n()).done;){var n=f.value;if(c?0<b(n,d):0===b(n,n))d=n,c=!0}}catch(v){k.e(v)}finally{k.f()}}return d}
function nb(a,b,c){a=Float64Array.from(ma(a,c));if((c=a.length)&&!isNaN(b=+b)){if(0>=b||2>c)return Lb(a);if(1<=b)return Bc(a);b*=c-1;c=Math.floor(b);var f=Bc(Mb(a,c).subarray(0,c+1));a=Lb(a.subarray(c+1));return f+(a-f)*(b-c)}}function ce(a,b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:R;if((f=a.length)&&!isNaN(b=+b)){if(0>=b||2>f)return+c(a[0],0,a);if(1<=b)return+c(a[f-1],f-1,a);var f;f=(f-1)*b;var g=Math.floor(f),m=+c(a[g],g,a);c=+c(a[g+1],g+1,a);return m+(c-m)*(f-g)}}function de(a,
b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:R;if(!isNaN(b=+b)){var f=Float64Array.from(a,function(b,f){return R(c(a[f],f,a))});if(0>=b)return Dc(f);if(1<=b)return Cc(f);var g=Uint32Array.from(a,function(a,b){return b}),m=f.length-1,q=Math.floor(m*b);Mb(g,q,0,m,function(a,b){return na(f[a],f[b])});q=be(g.subarray(0,q+1),function(a){return f[a]});return 0<=q?q:-1}}function ee(a){var b,c,f;return Ia().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:b=B(a),g.prev=1,b.s();case 3:if((c=
b.n()).done){g.next=8;break}f=c.value;return g.delegateYield(f,"t0",6);case 6:g.next=3;break;case 8:g.next=13;break;case 10:g.prev=10,g.t1=g["catch"](1),b.e(g.t1);case 13:return g.prev=13,b.f(),g.finish(13);case 16:case "end":return g.stop()}},Zg,null,[[1,10,13,16]])}function $g(a,b){return[a,b]}function fe(a,b,c){a=+a;b=+b;c=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+c;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/c))|0,m=Array(g);++f<g;)m[f]=a+f*c;return m}function ge(a){var b=1<arguments.length&&arguments[1]!==
l?arguments[1]:e;if(1===b.length)return Dc(a,b);var c=-1,f=-1,g=B(a),m;try{for(g.s();!(m=g.n()).done;){var q=m.value;++f;if(0>c?0===b(q,q):0>b(q,d)){var d=q;c=f}}}catch(k){g.e(k)}finally{g.f()}return c}function he(a){return function(b){for(var c=1<arguments.length&&arguments[1]!==l?arguments[1]:0,f=(2<arguments.length&&arguments[2]!==l?arguments[2]:b.length)-(c=+c);f;){var g=a()*f--|0,m=b[f+c];b[f+c]=b[g+c];b[g+c]=m}return b}}function ie(a){if(!(m=a.length))return[];for(var b=-1,c=Lb(a,ah),f=Array(c);++b<
c;)for(var g=-1,m,q=f[b]=Array(m);++g<m;)q[g]=a[g][b];return f}function ah(a){return a.length}function bh(a){return a instanceof Ma?a:new Ma(a)}function je(a,b){a=a[Symbol.iterator]();var c=new Set;b=B(b);var f;try{for(b.s();!(f=b.n()).done;){var g=ke(f.value);if(!c.has(g))for(var m=void 0,q=void 0;d=a.next(),m=d.value,q=d.done,d;){var d;if(q)return!1;var k=ke(m);c.add(k);if(Object.is(g,k))break}}}catch(n){b.e(n)}finally{b.f()}return!0}function ke(a){return null!==a&&"object"===S(a)?a.valueOf():a}
function ch(a){return a}function dh(a){return"translate("+a+",0)"}function eh(a){return"translate(0,"+a+")"}function fh(a){return function(b){return+a(b)}}function gh(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function hh(){return!this.__axis}function Nb(a,b){function c(c){var A=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,e=null==m?b.tickFormat?b.tickFormat.apply(b,f):ch:m,G=Math.max(q,0)+k,h=b.range(),l=+h[0]+n;h=+h[h.length-1]+n;var p=
(b.bandwidth?gh:fh)(b.copy(),n),r=c.selection?c.selection():c,w=r.selectAll(".domain").data([null]);A=r.selectAll(".tick").data(A,b).order();var y=A.exit(),x=A.enter().append("g").attr("class","tick"),D=A.select("line"),Na=A.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));A=A.merge(x);D=D.merge(x.append("line").attr("stroke","currentColor").attr(t+"2",v*q));Na=Na.merge(x.append("text").attr("fill","currentColor").attr(t,v*G).attr("dy",
1===a?"0em":3===a?"0.71em":"0.32em"));c!==r&&(w=w.transition(c),A=A.transition(c),D=D.transition(c),Na=Na.transition(c),y=y.transition(c).attr("opacity",1E-6).attr("transform",function(a){return isFinite(a=p(a))?F(a+n):this.getAttribute("transform")}),x.attr("opacity",1E-6).attr("transform",function(a){var b=this.parentNode.__axis;return F((b&&isFinite(b=b(a))?b:p(a))+n)}));y.remove();w.attr("d",4===a||2===a?d?"M"+v*d+","+l+"H"+n+"V"+h+"H"+v*d:"M"+n+","+l+"V"+h:d?"M"+l+","+v*d+"V"+n+"H"+h+"V"+v*d:
"M"+l+","+n+"H"+h);A.attr("opacity",1).attr("transform",function(a){return F(p(a)+n)});D.attr(t+"2",v*q);Na.attr(t,v*G).text(e);r.filter(hh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");r.each(function(){this.__axis=p})}var f=[],g=null,m=null,q=6,d=6,k=3,n="undefined"!==typeof Q&&1<Q.devicePixelRatio?0:.5,v=1===a||4===a?-1:1,t=4===a||2===a?"x":"y",F=1===a||3===a?dh:eh;c.scale=function(a){return arguments.length?(b=
a,c):b};c.ticks=function(){return f=Array.from(arguments),c};c.tickArguments=function(a){return arguments.length?(f=null==a?[]:Array.from(a),c):f.slice()};c.tickValues=function(a){return arguments.length?(g=null==a?null:Array.from(a),c):g&&g.slice()};c.tickFormat=function(a){return arguments.length?(m=a,c):m};c.tickSize=function(a){return arguments.length?(q=d=+a,c):q};c.tickSizeInner=function(a){return arguments.length?(q=+a,c):q};c.tickSizeOuter=function(a){return arguments.length?(d=+a,c):d};c.tickPadding=
function(a){return arguments.length?(k=+a,c):k};c.offset=function(a){return arguments.length?(n=+a,c):n};return c}function oa(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function xa(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function Ec(){function a(a){var m=b.get(a);if(m===
l){if(g!==Fc)return g;b.set(a,m=c.push(a)-1)}return f[m%f.length]}var b=new kb,c=[],f=[],g=Fc;a.domain=function(f){if(!arguments.length)return c.slice();c=[];b=new kb;var g=B(f),m;try{for(g.s();!(m=g.n()).done;){var k=m.value;b.has(k)||b.set(k,c.push(k)-1)}}catch(n){g.e(n)}finally{g.f()}return a};a.range=function(b){return arguments.length?(f=Array.from(b),a):f.slice()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return Ec(c,f).unknown(g)};oa.apply(a,arguments);return a}
function Gc(){function a(){var a=c().length,b=m<g,A=b?m:g,e=b?g:m;q=(e-A)/Math.max(1,a-n+2*v);k&&(q=Math.floor(q));A+=(e-A-q*(a-n))*t;d=q*(1-n);k&&(A=Math.round(A),d=Math.round(d));a=fe(a).map(function(a){return A+q*a});return f(b?a.reverse():a)}var b=Ec().unknown(l),c=b.domain,f=b.range,g=0,m=1,q,d,k=!1,n=0,v=0,t=.5;delete b.unknown;b.domain=function(b){return arguments.length?(c(b),a()):c()};b.range=function(b){var c;return arguments.length?(c=r(b,2),g=c[0],m=c[1],g=+g,m=+m,a()):[g,m]};b.rangeRound=
function(b){var c;return c=r(b,2),g=c[0],m=c[1],g=+g,m=+m,k=!0,a()};b.bandwidth=function(){return d};b.step=function(){return q};b.round=function(b){return arguments.length?(k=!!b,a()):k};b.padding=function(b){return arguments.length?(n=Math.min(1,v=+b),a()):n};b.paddingInner=function(b){return arguments.length?(n=Math.min(1,b),a()):n};b.paddingOuter=function(b){return arguments.length?(v=+b,a()):v};b.align=function(b){return arguments.length?(t=Math.max(0,Math.min(1,b)),a()):t};b.copy=function(){return Gc(c(),
[g,m]).round(k).paddingInner(n).paddingOuter(v).align(t)};return oa.apply(a(),arguments)}function le(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return le(b())};return a}function Hc(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function me(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function pb(){}function ne(){return this.rgb().formatHex()}function oe(){return this.rgb().formatRgb()}function Oa(a){var b,c;a=(a+
"").trim().toLowerCase();return(b=jh.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?pe(b):3===c?new ja(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?Ob(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?Ob(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=kh.exec(a))?new ja(b[1],b[2],b[3],1):(b=lh.exec(a))?new ja(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=mh.exec(a))?Ob(b[1],b[2],b[3],b[4]):(b=nh.exec(a))?Ob(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=
oh.exec(a))?qe(b[1],b[2]/100,b[3]/100,1):(b=ph.exec(a))?qe(b[1],b[2]/100,b[3]/100,b[4]):re.hasOwnProperty(a)?pe(re[a]):"transparent"===a?new ja(NaN,NaN,NaN,0):null}function pe(a){return new ja(a>>16&255,a>>8&255,a&255,1)}function Ob(a,b,c,f){0>=f&&(a=b=c=NaN);return new ja(a,b,c,f)}function Ic(a,b,c,f){if(1===arguments.length){var g=a;g instanceof pb||(g=Oa(g));g?(g=g.rgb(),g=new ja(g.r,g.g,g.b,g.opacity)):g=new ja}else g=new ja(a,b,c,null==f?1:f);return g}function ja(a,b,c,f){this.r=+a;this.g=+b;
this.b=+c;this.opacity=+f}function se(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b))}function te(){var a=Pb(this.opacity);return"".concat(1===a?"rgb(":"rgba(").concat(Qa(this.r),", ").concat(Qa(this.g),", ").concat(Qa(this.b)).concat(1===a?")":", ".concat(a,")"))}function Pb(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Qa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Pa(a){a=Qa(a);return(16>a?"0":"")+a.toString(16)}function qe(a,b,c,f){0>=f?a=b=c=NaN:
0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new qa(a,b,c,f)}function ue(a){if(a instanceof qa)return new qa(a.h,a.s,a.l,a.opacity);a instanceof pb||(a=Oa(a));if(!a)return new qa;if(a instanceof qa)return a;a=a.rgb();var b=a.r/255,c=a.g/255,f=a.b/255,g=Math.min(b,c,f),m=Math.max(b,c,f),q=NaN,d=m-g,k=(m+g)/2;d?(q=b===m?(c-f)/d+6*(c<f):c===m?(f-b)/d+2:(b-c)/d+4,d/=.5>k?m+g:2-m-g,q*=60):d=0<k&&1>k?0:q;return new qa(q,d,k,a.opacity)}function qa(a,b,c,f){this.h=+a;this.s=+b;this.l=+c;this.opacity=+f}function ve(a){a=
(a||0)%360;return 0>a?a+360:a}function Qb(a){return Math.max(0,Math.min(1,a||0))}function Jc(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function qh(a,b){return function(c){return a+c*b}}function rh(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(f){return Math.pow(a+f*b,c)}}function sh(a){return 1===(a=+a)?we:function(b,c){return c-b?rh(b,c,a):Kc(isNaN(b)?c:b)}}function we(a,b){var c=b-a;return c?qh(a,c):Kc(isNaN(a)?b:a)}function th(a,b){b||(b=[]);var c=
a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(m){for(g=0;g<c;++g)f[g]=a[g]*(1-m)+b[g]*m;return f}}function uh(a,b){var c=b?b.length:0,f=a?Math.min(c,a.length):0,g=Array(f),m=Array(c),q;for(q=0;q<f;++q)g[q]=Ya(a[q],b[q]);for(;q<c;++q)m[q]=b[q];return function(a){for(q=0;q<f;++q)m[q]=g[q](a);return m}}function vh(a,b){var c=new Date;return a=+a,b=+b,function(f){return c.setTime(a*(1-f)+b*f),c}}function ra(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function wh(a,b){var c={},
f={},g;if(null===a||"object"!==S(a))a={};if(null===b||"object"!==S(b))b={};for(g in b)g in a?c[g]=Ya(a[g],b[g]):f[g]=b[g];return function(a){for(g in c)f[g]=c[g](a);return f}}function xh(a){return function(){return a}}function yh(a){return function(b){return a(b)+""}}function xe(a,b){var c=Lc.lastIndex=Mc.lastIndex=0,f,g,m,q=-1,d=[],k=[];a+="";for(b+="";(f=Lc.exec(a))&&(g=Mc.exec(b));)(m=g.index)>c&&(m=b.slice(c,m),d[q]?d[q]+=m:d[++q]=m),(f=f[0])===(g=g[0])?d[q]?d[q]+=g:d[++q]=g:(d[++q]=null,k.push({i:q,
x:ra(f,g)})),c=Mc.lastIndex;c<b.length&&(m=b.slice(c),d[q]?d[q]+=m:d[++q]=m);return 2>d.length?k[0]?yh(k[0].x):xh(b):(b=k.length,function(a){for(var c=0,f;c<b;++c)d[(f=k[c]).i]=f.x(a);return d.join("")})}function Ya(a,b){var c=S(b);if(null==b||"boolean"===c)a=Kc(b);else{if("number"===c)var f=ra;else"string"===c?c=(f=Oa(b))?(b=f,Rb):xe:(b instanceof Oa?f=Rb:b instanceof Date?f=vh:(f=b,f=!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(b)?uh:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||
isNaN(b)?wh:ra:th),c=f),f=c;a=f(a,b)}return a}function Nc(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}}function ye(a,b,c,f,g,m){var q,d,k;if(q=Math.sqrt(a*a+b*b))a/=q,b/=q;if(k=a*c+b*f)c-=a*k,f-=b*k;if(d=Math.sqrt(c*c+f*f))c/=d,f/=d,k/=d;a*f<b*c&&(a=-a,b=-b,k=-k,q=-q);return{translateX:g,translateY:m,rotate:Math.atan2(b,a)*ze,skewX:Math.atan(k)*ze,scaleX:q,scaleY:d}}function Ae(a,b,c,f){function g(a){return a.length?a.pop()+" ":""}function m(a,f,k,g,m,q){a!==k||f!==g?(m=m.push("translate(",
null,b,null,c),q.push({i:m-4,x:ra(a,k)},{i:m-2,x:ra(f,g)})):(k||g)&&m.push("translate("+k+b+g+c)}function q(a,b,c,k){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),k.push({i:c.push(g(c)+"rotate(",null,f)-2,x:ra(a,b)})):b&&c.push(g(c)+"rotate("+b+f)}function d(a,b,c,k){a!==b?k.push({i:c.push(g(c)+"skewX(",null,f)-2,x:ra(a,b)}):b&&c.push(g(c)+"skewX("+b+f)}function k(a,b,c,f,k,m){a!==c||b!==f?(k=k.push(g(k)+"scale(",null,",",null,")"),m.push({i:k-4,x:ra(a,c)},{i:k-2,x:ra(b,f)})):1===c&&1===f||k.push(g(k)+
"scale("+c+","+f+")")}return function(b,c){var f=[],g=[];b=a(b);c=a(c);m(b.translateX,b.translateY,c.translateX,c.translateY,f,g);q(b.rotate,c.rotate,f,g);d(b.skewX,c.skewX,f,g);k(b.scaleX,b.scaleY,c.scaleX,c.scaleY,f,g);b=c=null;return function(a){for(var b=-1,c=g.length,k;++b<c;)f[(k=g[b]).i]=k.x(a);return f.join("")}}}function zh(a,b){b===l&&(b=a,a=Ya);for(var c=0,f=b.length-1,g=b[0],m=Array(0>f?0:f);c<f;)m[c]=a(g,g=b[++c]);return function(a){var b=Math.max(0,Math.min(f-1,Math.floor(a*=f)));return m[b](a-
b)}}function Ah(a){return function(){return a}}function Sb(a){return+a}function Y(a){return a}function Oc(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:Ah(isNaN(b)?NaN:.5)}function Bh(a,b){if(a>b){var c=a;a=b;b=c}return function(c){return Math.max(a,Math.min(b,c))}}function Ch(a,b,c){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=Oc(a,f),g=c(b,g)):(f=Oc(f,a),g=c(g,b));return function(a){return g(f(a))}}function Dh(a,b,c){var f=Math.min(a.length,b.length)-1,g=Array(f),m=Array(f),q=-1;a[f]<a[0]&&(a=a.slice().reverse(),
b=b.slice().reverse());for(;++q<f;)g[q]=Oc(a[q],a[q+1]),m[q]=c(b[q],b[q+1]);return function(b){var c=La(a,b,1,f)-1;return m[c](g[c](b))}}function qb(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Za(){function a(){var a=Math.min(c.length,f.length);k!==Y&&(k=Bh(c[0],c[a-1]));n=2<a?Dh:Ch;v=t=null;return b}function b(a){return null==a||isNaN(a=+a)?d:(v||(v=n(c.map(m),f,g)))(m(k(a)))}var c=Be,f=Be,g=Ya,m,q,d,k=Y,n,v,t;b.invert=
function(a){return k(q((t||(t=n(f,c.map(m),ra)))(a)))};b.domain=function(b){return arguments.length?(c=Array.from(b,Sb),a()):c.slice()};b.range=function(b){return arguments.length?(f=Array.from(b),a()):f.slice()};b.rangeRound=function(b){return f=Array.from(b),g=Nc,a()};b.clamp=function(b){return arguments.length?(k=b?!0:Y,a()):k!==Y};b.interpolate=function(b){return arguments.length?(g=b,a()):g};b.unknown=function(a){return arguments.length?(d=a,b):d};return function(b,c){m=b;q=c;return a()}}function Tb(a,
b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c=a.slice(0,b);return[1<c.length?c[0]+c.slice(2):c,+a.slice(b+1)]}function $a(a){return a=Tb(Math.abs(a)),a?a[1]:NaN}function Eh(a,b){return function(c,f){for(var g=c.length,m=[],q=0,d=a[0],k=0;0<g&&0<d;){k+d+1>f&&(d=Math.max(1,f-k));m.push(c.substring(g-=d,g+d));if((k+=d+1)>f)break;d=a[q=(q+1)%a.length]}return m.reverse().join(b)}}function Fh(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}
function rb(a){if(!(b=Gh.exec(a)))throw Error("invalid format: "+a);var b;return new Pc({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function Pc(a){this.fill=a.fill===l?" ":a.fill+"";this.align=a.align===l?"\x3e":a.align+"";this.sign=a.sign===l?"-":a.sign+"";this.symbol=a.symbol===l?"":a.symbol+"";this.zero=!!a.zero;this.width=a.width===l?l:+a.width;this.comma=!!a.comma;this.precision=a.precision===l?l:+a.precision;
this.trim=!!a.trim;this.type=a.type===l?"":a.type+""}function Ce(a,b){b=Tb(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+2).join("0")}function De(a){return a}function Hh(a){function b(a){function b(a){var b=u,f=B,g,d;if("c"===D)f=z(a)+f,a="";else{a=+a;var t=0>a||0>1/a;a=isNaN(a)?n:z(Math.abs(a),y);if(x){var F=a.length,G=1,h=-1;a:for(;G<F;++G)switch(a[G]){case ".":h=g=G;break;case "0":0===h&&(h=G);g=G;break;
default:if(!+a[G])break a;0<h&&(h=0)}a=0<h?a.slice(0,h)+a.slice(g+1):a}t&&0===+a&&"+"!==e&&(t=!1);b=(t?"("===e?e:k:"-"===e||"("===e?"":e)+b;f=("s"===D?Ee[8+Fe/3]:"")+f+(t&&"("===e?")":"");if(Na)for(t=-1,g=a.length;++t<g;)if(d=a.charCodeAt(t),48>d||57<d){f=(46===d?m+a.slice(t+1):a.slice(t))+f;a=a.slice(0,t);break}}w&&!p&&(a=c(a,Infinity));d=b.length+a.length+f.length;t=d<r?Array(r-d+1).join(v):"";w&&p&&(a=c(t+a,t.length?r-f.length:Infinity),t="");switch(A){case "\x3c":a=b+a+f+t;break;case "\x3d":a=
b+t+a+f;break;case "^":a=t.slice(0,d=t.length>>1)+b+a+f+t.slice(d);break;default:a=t+b+a+f}return q(a)}a=rb(a);var v=a.fill,A=a.align,e=a.sign,h=a.symbol,p=a.zero,r=a.width,w=a.comma,y=a.precision,x=a.trim,D=a.type;"n"===D?(w=!0,D="g"):Ge[D]||(y===l&&(y=12),x=!0,D="g");if(p||"0"===v&&"\x3d"===A)p=!0,v="0",A="\x3d";var u="$"===h?f:"#"===h&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",B="$"===h?g:/[%p]/.test(D)?d:"",z=Ge[D],Na=/[defgprs%]/.test(D);y=y===l?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,
Math.min(20,y));b.toString=function(){return a+""};return b}var c=a.grouping===l||a.thousands===l?De:Eh(He.call(a.grouping,Number),a.thousands+""),f=a.currency===l?"":a.currency[0]+"",g=a.currency===l?"":a.currency[1]+"",m=a.decimal===l?".":a.decimal+"",q=a.numerals===l?De:Fh(He.call(a.numerals,String)),d=a.percent===l?"%":a.percent+"",k=a.minus===l?"−":a.minus+"",n=a.nan===l?"NaN":a.nan+"";return{format:b,formatPrefix:function(a,c){var f=b((a=rb(a),a.type="f",a));a=3*Math.max(-8,Math.min(8,Math.floor($a(c)/
3)));var k=Math.pow(10,-a),g=Ee[8+a/3];return function(a){return f(k*a)+g}}}}function Ie(a,b,c,f){c=Kb(a,b,c);f=rb(null==f?",f":f);switch(f.type){case "s":a=Math.max(Math.abs(a),Math.abs(b));if(b=null==f.precision){var g=isNaN;c=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($a(a)/3)))-$a(Math.abs(c)));b=!g(g=c)}b&&(f.precision=g);return Je(f,a);case "":case "e":case "g":case "p":case "r":var m;if(m=null==f.precision)g=isNaN,a=Math.max(Math.abs(a),Math.abs(b)),c=Math.abs(c),a=Math.abs(a)-c,c=Math.max(0,
$a(a)-$a(c))+1,m=!g(g=c);m&&(f.precision=g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=Math.max(0,-$a(Math.abs(c))))||(f.precision=g-2*("%"===f.type))}return Qc(f)}function Da(a){var b=a.domain;a.ticks=function(a){var c=b();return ib(c[0],c[c.length-1],null==a?10:a)};a.tickFormat=function(a,f){var c=b();return Ie(c[0],c[c.length-1],null==a?10:a,f)};a.nice=function(c){null==c&&(c=10);var f=b(),g=0,m=f.length-1,d=f[g],A=f[m],k=10;if(A<d){var n=d;d=A;A=n;n=g;g=m;m=n}for(;0<k--;){n=
Ja(d,A,c);if(n===v)return f[g]=d,f[m]=A,b(f);if(0<n)d=Math.floor(d/n)*n,A=Math.ceil(A/n)*n;else if(0>n)d=Math.ceil(d*n)/n,A=Math.floor(A*n)/n;else break;var v=n}return a};return a}function Ke(){var a=Za()(Y,Y);a.copy=function(){return qb(a,Ke())};oa.apply(a,arguments);return Da(a)}function Le(a){function b(a){return null==a||isNaN(a=+a)?c:a}var c;b.invert=b;b.domain=b.range=function(c){return arguments.length?(a=Array.from(c,Sb),b):a.slice()};b.unknown=function(a){return arguments.length?(c=a,b):
c};b.copy=function(){return Le(a).unknown(c)};a=arguments.length?Array.from(a,Sb):[0,1];return Da(b)}function Me(a,b){a=a.slice();var c=0,f=a.length-1,g=a[c],m=a[f];if(m<g){var d=c;c=f;f=d;d=g;g=m;m=d}a[c]=b.floor(g);a[f]=b.ceil(m);return a}function Ne(a){return Math.log(a)}function Oe(a){return Math.exp(a)}function Ih(a){return-Math.log(-a)}function Jh(a){return-Math.exp(-a)}function Kh(a){return isFinite(a)?+("1e"+a):0>a?0:a}function Lh(a){return 10===a?Kh:a===Math.E?Math.exp:function(b){return Math.pow(a,
b)}}function Mh(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Pe(a){return function(b,c){return-a(-b,c)}}function Rc(a){function b(){m=Mh(g);d=Lh(g);0>f()[0]?(m=Pe(m),d=Pe(d),a(Ih,Jh)):a(Ne,Oe);return c}var c=a(Ne,Oe),f=c.domain,g=10,m,d;c.base=function(a){return arguments.length?(g=+a,b()):g};c.domain=function(a){return arguments.length?(f(a),b()):f()};c.ticks=function(a){var b=f(),c=b[0],q=b[b.length-1];if(b=q<c)q=
[q,c],c=q[0],q=q[1];var t=m(c),A=m(q),e=null==a?10:+a,h=[];if(!(g%1)&&A-t<e){t=Math.floor(t);A=Math.ceil(A);if(0<c)for(;t<=A;++t)for(a=1;a<g;++a){var l=0>t?a/d(-t):a*d(t);if(!(l<c)){if(l>q)break;h.push(l)}}else for(;t<=A;++t)for(a=g-1;1<=a;--a)if(l=0<t?a/d(-t):a*d(t),!(l<c)){if(l>q)break;h.push(l)}2*h.length<e&&(h=ib(c,q,e))}else h=ib(t,A,Math.min(A-t,e)).map(d);return b?h.reverse():h};c.tickFormat=function(a,b){null==a&&(a=10);null==b&&(b=10===g?"s":",");"function"!==typeof b&&(g%1||null!=(b=rb(b)).precision||
(b.trim=!0),b=Qc(b));if(Infinity===a)return b;var f=Math.max(1,g*a/c.ticks().length);return function(a){var c=a/d(Math.round(m(a)));c*g<g-.5&&(c*=g);return c<=f?b(a):""}};c.nice=function(){return f(Me(f(),{floor:function(a){return d(Math.floor(m(a)))},ceil:function(a){return d(Math.ceil(m(a)))}}))};return c}function Qe(){var a=Rc(Za()).domain([1,10]);a.copy=function(){return qb(a,Qe()).base(a.base())};oa.apply(a,arguments);return a}function Re(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/
a))}}function Se(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function Sc(a){var b=1,c=a(Re(b),Se(b));c.constant=function(c){return arguments.length?a(Re(b=+c),Se(b)):b};return Da(c)}function Te(){var a=Sc(Za());a.copy=function(){return qb(a,Te()).constant(a.constant())};return oa.apply(a,arguments)}function Ue(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Nh(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function Oh(a){return 0>a?-a*a:a*a}function Tc(a){var b=
a(Y,Y),c=1;b.exponent=function(b){return arguments.length?(c=+b,1===c?a(Y,Y):.5===c?a(Nh,Oh):a(Ue(c),Ue(1/c))):c};return Da(b)}function Uc(){var a=Tc(Za());a.copy=function(){return qb(a,Uc()).exponent(a.exponent())};oa.apply(a,arguments);return a}function Ve(a){return Math.sign(a)*a*a}function We(){function a(a){a=b(a);a=Math.sign(a)*Math.sqrt(Math.abs(a));return isNaN(a)?g:f?Math.round(a):a}var b=Za()(Y,Y),c=[0,1],f=!1,g;a.invert=function(a){return b.invert(Ve(a))};a.domain=function(c){return arguments.length?
(b.domain(c),a):b.domain()};a.range=function(f){return arguments.length?(b.range((c=Array.from(f,Sb)).map(Ve)),a):c.slice()};a.rangeRound=function(b){return a.range(b).round(!0)};a.round=function(b){return arguments.length?(f=!!b,a):f};a.clamp=function(c){return arguments.length?(b.clamp(c),a):b.clamp()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return We(b.domain(),c).round(f).clamp(b.clamp()).unknown(g)};oa.apply(a,arguments);return Da(a)}function Xe(){function a(){var a=
0,m=Math.max(1,f.length);for(g=Array(m-1);++a<m;)g[a-1]=ce(c,a/m);return b}function b(a){return null==a||isNaN(a=+a)?m:f[La(g,a)]}var c=[],f=[],g=[],m;b.invertExtent=function(a){a=f.indexOf(a);return 0>a?[NaN,NaN]:[0<a?g[a-1]:c[0],a<g.length?g[a]:c[c.length-1]]};b.domain=function(b){if(!arguments.length)return c.slice();c=[];var f=B(b),k;try{for(f.s();!(k=f.n()).done;){var g=k.value;null==g||isNaN(g=+g)||c.push(g)}}catch(v){f.e(v)}finally{f.f()}c.sort(e);return a()};b.range=function(b){return arguments.length?
(f=Array.from(b),a()):f.slice()};b.unknown=function(a){return arguments.length?(m=a,b):m};b.quantiles=function(){return g.slice()};b.copy=function(){return Xe().domain(c).range(f).unknown(m)};return oa.apply(b,arguments)}function Ye(){function a(a){return null!=a&&a<=a?d[La(m,a,0,g)]:e}function b(){var b=-1;for(m=Array(g);++b<g;)m[b]=((b+1)*f-(b-g)*c)/(g+1);return a}var c=0,f=1,g=1,m=[.5],d=[0,1],e;a.domain=function(a){var k;return arguments.length?(k=r(a,2),c=k[0],f=k[1],c=+c,f=+f,b()):[c,f]};a.range=
function(a){return arguments.length?(g=(d=Array.from(a)).length-1,b()):d.slice()};a.invertExtent=function(a){a=d.indexOf(a);return 0>a?[NaN,NaN]:1>a?[c,m[0]]:a>=g?[m[g-1],f]:[m[a-1],m[a]]};a.unknown=function(b){return arguments.length?(e=b,a):a};a.thresholds=function(){return m.slice()};a.copy=function(){return Ye().domain([c,f]).range(d).unknown(e)};return oa.apply(Da(a),arguments)}function Ze(){function a(a){return null!=a&&a<=a?c[La(b,a,0,g)]:f}var b=[.5],c=[0,1],f,g=1;a.domain=function(f){return arguments.length?
(b=Array.from(f),g=Math.min(b.length,c.length-1),a):b.slice()};a.range=function(f){return arguments.length?(c=Array.from(f),g=Math.min(b.length,c.length-1),a):c.slice()};a.invertExtent=function(a){a=c.indexOf(a);return[b[a-1],b[a]]};a.unknown=function(b){return arguments.length?(f=b,a):f};a.copy=function(){return Ze().domain(b).range(c).unknown(f)};return oa.apply(a,arguments)}function Z(a,b,c,f){function g(b){return a(b=0===arguments.length?new Date:new Date(+b)),b}g.floor=function(b){return a(b=
new Date(+b)),b};g.ceil=function(c){return a(c=new Date(c-1)),b(c,1),a(c),c};g.round=function(a){var b=g(a),c=g.ceil(a);return a-b<c-a?b:c};g.offset=function(a,c){return b(a=new Date(+a),null==c?1:Math.floor(c)),a};g.range=function(c,f,d){var k=[];c=g.ceil(c);d=null==d?1:Math.floor(d);if(!(c<f&&0<d))return k;var m;do k.push(m=new Date(+c)),b(c,d),a(c);while(m<c&&c<f);return k};g.filter=function(c){return Z(function(b){if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},function(a,f){if(a>=a)if(0>f)for(;0>=++f;)for(;b(a,
-1),!c(a););else for(;0<=--f;)for(;b(a,1),!c(a););})};c&&(g.count=function(b,f){Vc.setTime(+b);Wc.setTime(+f);a(Vc);a(Wc);return Math.floor(c(Vc,Wc))},g.every=function(a){a=Math.floor(a);return isFinite(a)&&0<a?1<a?g.filter(f?function(b){return 0===f(b)%a}:function(b){return 0===g.count(0,b)%a}):g:null});return g}function Ra(a){return Z(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,c){a.setDate(a.getDate()+7*c)},function(a,c){return(c-a-6E4*(c.getTimezoneOffset()-
a.getTimezoneOffset()))/Xc})}function Sa(a){return Z(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+7*c)},function(a,c){return(c-a)/Xc})}function $e(a,b,c,f,g,d){function m(b,c,f){var g=Math.abs(c-b)/f,k=u(function(a){return r(a,3)[2]}).right(e,g);if(k===e.length)return a.every(Kb(b/Yc,c/Yc,f));if(0===k)return Ub.every(Math.max(Kb(b,c,f),1));b=r(e[g/e[k-1][2]<e[k][2]/g?k-1:k],2);return b[0].every(b[1])}var e=[[Ta,1,
1E3],[Ta,5,5E3],[Ta,15,15E3],[Ta,30,3E4],[d,1,6E4],[d,5,3E5],[d,15,9E5],[d,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[c,1,Xc],[b,1,af],[b,3,3*af],[a,1,Yc]];return[function(a,b,c){var f=b<a;f&&(b=[b,a],a=b[0],b=b[1]);a=(c=c&&"function"===typeof c.range?c:m(a,b,c))?c.range(a,+b+1):[];return f?a.reverse():a},m]}function Zc(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}
function $c(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function sb(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function Ph(a){function b(a,b){return function(c){var f=[],g=-1,k=0,d=a.length,m,n;for(c instanceof Date||(c=new Date(+c));++g<d;)if(37===a.charCodeAt(g)){f.push(a.slice(k,g));null!=(k=bf[m=a.charAt(++g)])?m=a.charAt(++g):k="e"===m?" ":"0";if(n=b[m])m=n(c,k);f.push(m);k=g+
1}f.push(a.slice(k,g));return f.join("")}}function c(a,b){return function(c){var g=sb(1900,l,1);if(f(g,a,c+="",0)!=c.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(1E3*g.s+("L"in g?g.L:0));!b||"Z"in g||(g.Z=0);"p"in g&&(g.H=g.H%12+12*g.p);g.m===l&&(g.m="q"in g?g.q:0);if("V"in g){if(1>g.V||53<g.V)return null;"w"in g||(g.w=1);if("Z"in g){c=$c(sb(g.y,0,1));var k=c.getUTCDay();c=4<k||0===k?Vb.ceil(c):Vb(c);c=Wb.offset(c,7*(g.V-1));g.y=c.getUTCFullYear();g.m=c.getUTCMonth();
g.d=c.getUTCDate()+(g.w+6)%7}else c=Zc(sb(g.y,0,1)),k=c.getDay(),c=4<k||0===k?Xb.ceil(c):Xb(c),c=tb.offset(c,7*(g.V-1)),g.y=c.getFullYear(),g.m=c.getMonth(),g.d=c.getDate()+(g.w+6)%7}else if("W"in g||"U"in g)"w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),k="Z"in g?$c(sb(g.y,0,1)).getUTCDay():Zc(sb(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+7*g.W-(k+5)%7:g.w+7*g.U-(k+6)%7;return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,$c(g)):Zc(g)}}function f(a,b,c,f){for(var g=0,k=b.length,d=c.length,m;g<k;){if(f>=d)return-1;
m=b.charCodeAt(g++);if(37===m){if(m=b.charAt(g++),m=B[m in bf?b.charAt(g++):m],!m||0>(f=m(a,c,f)))return-1}else if(m!=c.charCodeAt(f++))return-1}return f}var g=a.dateTime,d=a.date,q=a.time,e=a.periods,k=a.days,n=a.shortDays,v=a.months,t=a.shortMonths,F=ub(e),h=vb(e),p=ub(k),X=vb(k),r=ub(n),w=vb(n),aa=ub(v),y=vb(v),D=ub(t),x=vb(t),u={a:function(a){return n[a.getDay()]},A:function(a){return k[a.getDay()]},b:function(a){return t[a.getMonth()]},B:function(a){return v[a.getMonth()]},c:null,d:cf,e:cf,f:Qh,
g:Rh,G:Sh,H:Th,I:Uh,j:Vh,L:df,m:Wh,M:Xh,p:function(a){return e[+(12<=a.getHours())]},q:function(a){return 1+~~(a.getMonth()/3)},Q:ef,s:ff,S:Yh,u:Zh,U:$h,V:ai,w:bi,W:ci,x:null,X:null,y:di,Y:ei,Z:fi,"%":gf},z={a:function(a){return n[a.getUTCDay()]},A:function(a){return k[a.getUTCDay()]},b:function(a){return t[a.getUTCMonth()]},B:function(a){return v[a.getUTCMonth()]},c:null,d:hf,e:hf,f:gi,g:hi,G:ii,H:ji,I:ki,j:li,L:jf,m:mi,M:ni,p:function(a){return e[+(12<=a.getUTCHours())]},q:function(a){return 1+
~~(a.getUTCMonth()/3)},Q:ef,s:ff,S:oi,u:pi,U:qi,V:ri,w:si,W:ti,x:null,X:null,y:ui,Y:vi,Z:wi,"%":gf},B={a:function(a,b,c){return(b=r.exec(b.slice(c)))?(a.w=w.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){return(b=p.exec(b.slice(c)))?(a.w=X.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){return(b=D.exec(b.slice(c)))?(a.m=x.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){return(b=aa.exec(b.slice(c)))?(a.m=y.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,
b,c){return f(a,g,b,c)},d:kf,e:kf,f:xi,g:lf,G:mf,H:nf,I:nf,j:yi,L:zi,m:Ai,M:Bi,p:function(a,b,c){return(b=F.exec(b.slice(c)))?(a.p=h.get(b[0].toLowerCase()),c+b[0].length):-1},q:Ci,Q:Di,s:Ei,S:Fi,u:Gi,U:Hi,V:Ii,w:Ji,W:Ki,x:function(a,b,c){return f(a,d,b,c)},X:function(a,b,c){return f(a,q,b,c)},y:lf,Y:mf,Z:Li,"%":Mi};u.x=b(d,u);u.X=b(q,u);u.c=b(g,u);z.x=b(d,z);z.X=b(q,z);z.c=b(g,z);return{format:function(a){var c=b(a+="",u);c.toString=function(){return a};return c},parse:function(a){var b=c(a+="",
!1);b.toString=function(){return a};return b},utcFormat:function(a){var c=b(a+="",z);c.toString=function(){return a};return c},utcParse:function(a){var b=c(a+="",!0);b.toString=function(){return a};return b}}}function P(a,b,c){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;return f+(g<c?Array(c-g+1).join(b)+a:a)}function Ni(a){return a.replace(Oi,"\\$\x26")}function ub(a){return new RegExp("^(?:"+a.map(Ni).join("|")+")","i")}function vb(a){return new Map(a.map(function(a,c){return[a.toLowerCase(),
c]}))}function Ji(a,b,c){return(b=ba.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Gi(a,b,c){return(b=ba.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function Hi(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function Ii(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function Ki(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function mf(a,b,c){return(b=ba.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function lf(a,
b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Li(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function Ci(a,b,c){return(b=ba.exec(b.slice(c,c+1)))?(a.q=3*b[0]-3,c+b[0].length):-1}function Ai(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function kf(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function yi(a,b,c){return(b=ba.exec(b.slice(c,
c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function nf(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Bi(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Fi(a,b,c){return(b=ba.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function zi(a,b,c){return(b=ba.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function xi(a,b,c){return(b=ba.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function Mi(a,b,c){return(a=Pi.exec(b.slice(c,
c+1)))?c+a[0].length:-1}function Di(a,b,c){return(b=ba.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function Ei(a,b,c){return(b=ba.exec(b.slice(c)))?(a.s=+b[0],c+b[0].length):-1}function cf(a,b){return P(a.getDate(),b,2)}function Th(a,b){return P(a.getHours(),b,2)}function Uh(a,b){return P(a.getHours()%12||12,b,2)}function Vh(a,b){return P(1+tb.count(ya(a),a),b,3)}function df(a,b){return P(a.getMilliseconds(),b,3)}function Qh(a,b){return df(a,b)+"000"}function Wh(a,b){return P(a.getMonth()+1,b,
2)}function Xh(a,b){return P(a.getMinutes(),b,2)}function Yh(a,b){return P(a.getSeconds(),b,2)}function Zh(a){a=a.getDay();return 0===a?7:a}function $h(a,b){return P(Yb.count(ya(a)-1,a),b,2)}function of(a){var b=a.getDay();return 4<=b||0===b?ab(a):ab.ceil(a)}function ai(a,b){a=of(a);return P(ab.count(ya(a),a)+(4===ya(a).getDay()),b,2)}function bi(a){return a.getDay()}function ci(a,b){return P(Xb.count(ya(a)-1,a),b,2)}function di(a,b){return P(a.getFullYear()%100,b,2)}function Rh(a,b){a=of(a);return P(a.getFullYear()%
100,b,2)}function ei(a,b){return P(a.getFullYear()%1E4,b,4)}function Sh(a,b){var c=a.getDay();a=4<=c||0===c?ab(a):ab.ceil(a);return P(a.getFullYear()%1E4,b,4)}function fi(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+P(a/60|0,"0",2)+P(a%60,"0",2)}function hf(a,b){return P(a.getUTCDate(),b,2)}function ji(a,b){return P(a.getUTCHours(),b,2)}function ki(a,b){return P(a.getUTCHours()%12||12,b,2)}function li(a,b){return P(1+Wb.count(za(a),a),b,3)}function jf(a,b){return P(a.getUTCMilliseconds(),
b,3)}function gi(a,b){return jf(a,b)+"000"}function mi(a,b){return P(a.getUTCMonth()+1,b,2)}function ni(a,b){return P(a.getUTCMinutes(),b,2)}function oi(a,b){return P(a.getUTCSeconds(),b,2)}function pi(a){a=a.getUTCDay();return 0===a?7:a}function qi(a,b){return P(Zb.count(za(a)-1,a),b,2)}function pf(a){var b=a.getUTCDay();return 4<=b||0===b?bb(a):bb.ceil(a)}function ri(a,b){a=pf(a);return P(bb.count(za(a),a)+(4===za(a).getUTCDay()),b,2)}function si(a){return a.getUTCDay()}function ti(a,b){return P(Vb.count(za(a)-
1,a),b,2)}function ui(a,b){return P(a.getUTCFullYear()%100,b,2)}function hi(a,b){a=pf(a);return P(a.getUTCFullYear()%100,b,2)}function vi(a,b){return P(a.getUTCFullYear()%1E4,b,4)}function ii(a,b){var c=a.getUTCDay();a=4<=c||0===c?bb(a):bb.ceil(a);return P(a.getUTCFullYear()%1E4,b,4)}function wi(){return"+0000"}function gf(){return"%"}function ef(a){return+a}function ff(a){return Math.floor(+a/1E3)}function Qi(a){return new Date(a)}function Ri(a){return a instanceof Date?+a:+new Date(+a)}function ad(a,
b,c,f,g,d,q,e,k,n){function m(a){return(k(a)<a?l:e(a)<a?p:q(a)<a?r:d(a)<a?w:f(a)<a?g(a)<a?aa:y:c(a)<a?D:x)(a)}var t=Za()(Y,Y),A=t.invert,h=t.domain,l=n(".%L"),p=n(":%S"),r=n("%I:%M"),w=n("%I %p"),aa=n("%a %d"),y=n("%b %d"),D=n("%B"),x=n("%Y");t.invert=function(a){return new Date(A(a))};t.domain=function(a){return arguments.length?h(Array.from(a,Ri)):h().map(Qi)};t.ticks=function(b){var c=h();return a(c[0],c[c.length-1],null==b?10:b)};t.tickFormat=function(a,b){return null==b?m:n(b)};t.nice=function(a){var c=
h();a&&"function"===typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a));return a?h(Me(c,a)):t};t.copy=function(){return qb(t,ad(a,b,c,f,g,d,q,e,k,n))};return t}function $b(){function a(a){return null==a||isNaN(a=+a)?v:k(0===q?.5:(a=(e(a)-g)*q,n?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,d;return arguments.length?(f=r(c,2),g=f[0],d=f[1],k=b(g,d),a):[k(0),k(1)]}}var c=0,f=1,g,d,q,e,k=Y,n=!1,v;a.domain=function(b){var k;return arguments.length?(k=r(b,2),c=k[0],f=k[1],g=
e(c=+c),d=e(f=+f),q=g===d?0:1/(d-g),a):[c,f]};a.clamp=function(b){return arguments.length?(n=!!b,a):n};a.interpolator=function(b){return arguments.length?(k=b,a):k};a.range=b(Ya);a.rangeRound=b(Nc);a.unknown=function(b){return arguments.length?(v=b,a):v};return function(b){e=b;g=b(c);d=b(f);q=g===d?0:1/(d-g);return a}}function Ea(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function qf(){var a=Da($b()(Y));a.copy=function(){return Ea(a,qf())};
return xa.apply(a,arguments)}function rf(){var a=Rc($b()).domain([1,10]);a.copy=function(){return Ea(a,rf()).base(a.base())};return xa.apply(a,arguments)}function sf(){var a=Sc($b());a.copy=function(){return Ea(a,sf()).constant(a.constant())};return xa.apply(a,arguments)}function bd(){var a=Tc($b());a.copy=function(){return Ea(a,bd()).exponent(a.exponent())};return xa.apply(a,arguments)}function tf(){function a(a){if(null!=a&&!isNaN(a=+a))return c((La(b,a,1)-1)/(b.length-1))}var b=[],c=Y;a.domain=
function(c){if(!arguments.length)return b.slice();b=[];var f=B(c),d;try{for(f.s();!(d=f.n()).done;){var q=d.value;null==q||isNaN(q=+q)||b.push(q)}}catch(A){f.e(A)}finally{f.f()}b.sort(e);return a};a.interpolator=function(b){return arguments.length?(c=b,a):c};a.range=function(){return b.map(function(a,g){return c(g/(b.length-1))})};a.quantiles=function(a){return Array.from({length:a+1},function(c,f){return nb(b,f/a)})};a.copy=function(){return tf(c).domain(b)};return xa.apply(a,arguments)}function ac(){function a(a){return isNaN(a=
+a)?l:(a=.5+((a=+F(a))-e)*(d*a<d*e?n:v),t(h?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,k,d;return arguments.length?(f=r(c,3),g=f[0],k=f[1],d=f[2],t=zh(b,[g,k,d]),a):[t(0),t(.5),t(1)]}}var c=0,f=.5,g=1,d=1,q,e,k,n,v,t=Y,F,h=!1,l;a.domain=function(b){var m;return arguments.length?(m=r(b,3),c=m[0],f=m[1],g=m[2],q=F(c=+c),e=F(f=+f),k=F(g=+g),n=q===e?0:.5/(e-q),v=e===k?0:.5/(k-e),d=e<q?-1:1,a):[c,f,g]};a.clamp=function(b){return arguments.length?(h=!!b,a):h};a.interpolator=
function(b){return arguments.length?(t=b,a):t};a.range=b(Ya);a.rangeRound=b(Nc);a.unknown=function(b){return arguments.length?(l=b,a):l};return function(b){F=b;q=b(c);e=b(f);k=b(g);n=q===e?0:.5/(e-q);v=e===k?0:.5/(k-e);d=e<q?-1:1;return a}}function uf(){var a=Da(ac()(Y));a.copy=function(){return Ea(a,uf())};return xa.apply(a,arguments)}function vf(){var a=Rc(ac()).domain([.1,1,10]);a.copy=function(){return Ea(a,vf()).base(a.base())};return xa.apply(a,arguments)}function wf(){var a=Sc(ac());a.copy=
function(){return Ea(a,wf()).constant(a.constant())};return xa.apply(a,arguments)}function cd(){var a=Tc(ac());a.copy=function(){return Ea(a,cd()).exponent(a.exponent())};return xa.apply(a,arguments)}function wb(a){var b=a+="",c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return dd.hasOwnProperty(b)?{space:dd[b],local:a}:a}function Si(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?
b.createElement(a):b.createElementNS(c,a)}}function Ti(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function bc(a){a=wb(a);return(a.local?Ti:Si)(a)}function Ui(){}function cc(a){return null==a?Ui:function(){return this.querySelector(a)}}function xf(a){return null==a?[]:Array.isArray(a)?a:Array.from(a)}function Vi(){return[]}function ed(a){return null==a?Vi:function(){return this.querySelectorAll(a)}}function Wi(a){return function(){return xf(a.apply(this,arguments))}}
function fd(a){return function(){return this.matches(a)}}function yf(a){return function(b){return b.matches(a)}}function Xi(a){return function(){return Yi.call(this.children,a)}}function Zi(){return this.firstElementChild}function $i(){return Array.from(this.children)}function aj(a){return function(){return bj.call(this.children,a)}}function zf(a){return Array(a.length)}function dc(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=
b}function cj(a){return function(){return a}}function dj(a,b,c,f,g,d){for(var m=0,e,k=b.length,n=d.length;m<n;++m)(e=b[m])?(e.__data__=d[m],f[m]=e):c[m]=new dc(a,d[m]);for(;m<k;++m)if(e=b[m])g[m]=e}function ej(a,b,c,f,g,d,q){var m,k,n=new Map,v=b.length,t=d.length,e=Array(v),h;for(m=0;m<v;++m)if(k=b[m])e[m]=h=q.call(k,k.__data__,m,b)+"",n.has(h)?g[m]=k:n.set(h,k);for(m=0;m<t;++m)h=q.call(a,d[m],m,d)+"",(k=n.get(h))?(f[m]=k,k.__data__=d[m],n["delete"](h)):c[m]=new dc(a,d[m]);for(m=0;m<v;++m)(k=b[m])&&
n.get(e[m])===k&&(g[m]=k)}function fj(a){return a.__data__}function gj(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function hj(a){return function(){this.removeAttribute(a)}}function ij(a){return function(){this.removeAttributeNS(a.space,a.local)}}function jj(a,b){return function(){this.setAttribute(a,b)}}function kj(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function lj(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function mj(a,
b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function gd(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function nj(a){return function(){this.style.removeProperty(a)}}function oj(a,b,c){return function(){this.style.setProperty(a,b,c)}}function pj(a,b,c){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,c)}}
function Ua(a,b){return a.style.getPropertyValue(b)||gd(a).getComputedStyle(a,null).getPropertyValue(b)}function qj(a){return function(){delete this[a]}}function rj(a,b){return function(){this[a]=b}}function sj(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function hd(a){return a.classList||new Af(a)}function Af(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Bf(a,b){a=hd(a);for(var c=-1,f=b.length;++c<f;)a.add(b[c])}
function Cf(a,b){a=hd(a);for(var c=-1,f=b.length;++c<f;)a.remove(b[c])}function tj(a){return function(){Bf(this,a)}}function uj(a){return function(){Cf(this,a)}}function vj(a,b){return function(){(b.apply(this,arguments)?Bf:Cf)(this,a)}}function wj(){this.textContent=""}function xj(a){return function(){this.textContent=a}}function yj(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function zj(){this.innerHTML=""}function Aj(a){return function(){this.innerHTML=a}}
function Bj(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function Cj(){this.nextSibling&&this.parentNode.appendChild(this)}function Dj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ej(){return null}function Fj(){var a=this.parentNode;a&&a.removeChild(this)}function Gj(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Hj(){var a=this.cloneNode(!0),b=this.parentNode;
return b?b.insertBefore(a,this.nextSibling):a}function Ij(a){return function(b){a.call(this,b,this.__data__)}}function Jj(a){return a.trim().split(/^|\s+/).map(function(a){var b="",f=a.indexOf(".");0<=f&&(b=a.slice(f+1),a=a.slice(0,f));return{type:a,name:b}})}function Kj(a){return function(){var b=this.__on;if(b){for(var c=0,f=-1,g=b.length,d;c<g;++c)(d=b[c],a.type&&d.type!==a.type||d.name!==a.name)?b[++f]=d:this.removeEventListener(d.type,d.listener,d.options);++f?b.length=f:delete this.__on}}}function Lj(a,
b,c){return function(){var f=this.__on,g,d=Ij(b);if(f)for(var q=0,e=f.length;q<e;++q)if((g=f[q]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=d,g.options=c);g.value=b;return}this.addEventListener(a.type,d,c);g={type:a.type,name:a.name,value:b,listener:d,options:c};f?f.push(g):this.__on=[g]}}function Df(a,b,c){var f=gd(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,c):(g=f.document.createEvent("Event"),c?(g.initEvent(b,
c.bubbles,c.cancelable),g.detail=c.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function Mj(a,b){return function(){return Df(this,a,b)}}function Nj(a,b){return function(){return Df(this,a,b.apply(this,arguments))}}function Ef(){var a,b,c,f,g,d,q;return Ia().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:a=this._groups,b=0,c=a.length;case 1:if(!(b<c)){m.next=13;break}f=a[b];g=0;d=f.length;case 3:if(!(g<d)){m.next=10;break}if(!(q=f[g])){m.next=7;break}m.next=7;return q;case 7:++g;m.next=3;
break;case 10:++b;m.next=1;break;case 13:case "end":return m.stop()}},Oj,this)}function fa(a,b){this._groups=a;this._parents=b}function Va(){return new fa([[document.documentElement]],id)}function Ff(a){return"string"===typeof a?new fa([[document.querySelector(a)]],[document.documentElement]):new fa([[a]],id)}function Gf(){return new jd}function jd(){this._="@"+(++Pj).toString(36)}function Hf(a){for(var b;b=a.sourceEvent;)a=b;return a}function If(a,b){a=Hf(a);b===l&&(b=a.currentTarget);if(b){var c=
b.ownerSVGElement||b;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];if(b.getBoundingClientRect)return c=b.getBoundingClientRect(),[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}return[a.pageX,a.pageY]}function J(a){return function(){return a}}function Jf(a){return 1<=a?ec:-1>=a?-ec:Math.asin(a)}function Kf(a){this._+=a[0];for(var b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}function Qj(a){var b=
Math.floor(a);if(!(0<=b))throw Error("invalid digits: ".concat(a));if(15<b)return Kf;var c=Math.pow(10,b);return function(a){this._+=a[0];for(var b=1,f=a.length;b<f;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}function xb(a){var b=3;a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{var f=Math.floor(c);if(!(0<=f))throw new RangeError("invalid digits: ".concat(c));b=f}return a};return function(){return new Rj(b)}}function Sj(a){return a.innerRadius}function Tj(a){return a.outerRadius}
function Uj(a){return a.startAngle}function Vj(a){return a.endAngle}function Wj(a){return a&&a.padAngle}function fc(a,b,c,f,g,d,q){var m=a-c,k=b-f;q=(q?d:-d)/T(m*m+k*k);k*=q;m*=-q;var n=a+k,v=b+m,t=c+k,e=f+m;c=(n+t)/2;f=(v+e)/2;b=t-n;a=e-v;q=b*b+a*a;d=g-d;e=n*e-t*v;var h=(0>a?-1:1)*T(Xj(0,d*d*q-e*e));n=(e*a-b*h)/q;v=(-e*b-a*h)/q;t=(e*a+b*h)/q;b=(-e*b+a*h)/q;a=n-c;q=v-f;c=t-c;f=b-f;a*a+q*q>c*c+f*f&&(n=t,v=b);return{cx:n,cy:v,x01:-k,y01:-m,x11:n*(g/d-1),y11:v*(g/d-1)}}function gc(a){return"object"===
S(a)&&"length"in a?a:Array.from(a)}function Lf(a){this._context=a}function hc(a){return new Lf(a)}function kd(a){return a[0]}function ld(a){return a[1]}function md(a,b){function c(c){var k,m=(c=gc(c)).length,t,h=!1,A;null==g&&(q=d(A=e()));for(k=0;k<=m;++k)!(k<m&&f(t=c[k],k,c))===h&&((h=!h)?q.lineStart():q.lineEnd()),h&&q.point(+a(t,k,c),+b(t,k,c));if(A)return q=null,A+""||null}var f=J(!0),g=null,d=hc,q=null,e=xb(c);a="function"===typeof a?a:a===l?kd:J(a);b="function"===typeof b?b:b===l?ld:J(b);c.x=
function(b){return arguments.length?(a="function"===typeof b?b:J(+b),c):a};c.y=function(a){return arguments.length?(b="function"===typeof a?a:J(+a),c):b};c.defined=function(a){return arguments.length?(f="function"===typeof a?a:J(!!a),c):f};c.curve=function(a){return arguments.length?(d=a,null!=g&&(q=d(g)),c):d};c.context=function(a){return arguments.length?(null==a?g=q=null:q=d(g=a),c):g};return c}function Mf(a,b,c){function f(f){var g,m,t=(f=gc(f)).length,h,A=!1,l,p=Array(t),r=Array(t);null==e&&
(n=k(l=v()));for(g=0;g<=t;++g){if(!(g<t&&q(h=f[g],g,f))===A)if(A=!A){var w=g;n.areaStart();n.lineStart()}else{n.lineEnd();n.lineStart();for(m=g-1;m>=w;--m)n.point(p[m],r[m]);n.lineEnd();n.areaEnd()}A&&(p[g]=+a(h,g,f),r[g]=+b(h,g,f),n.point(d?+d(h,g,f):p[g],c?+c(h,g,f):r[g]))}if(l)return n=null,l+""||null}function g(){return md().defined(q).curve(k).context(e)}var d=null,q=J(!0),e=null,k=hc,n=null,v=xb(f);a="function"===typeof a?a:a===l?kd:J(+a);b="function"===typeof b?b:b===l?J(0):J(+b);c="function"===
typeof c?c:c===l?ld:J(+c);f.x=function(b){return arguments.length?(a="function"===typeof b?b:J(+b),d=null,f):a};f.x0=function(b){return arguments.length?(a="function"===typeof b?b:J(+b),f):a};f.x1=function(a){return arguments.length?(d=null==a?null:"function"===typeof a?a:J(+a),f):d};f.y=function(a){return arguments.length?(b="function"===typeof a?a:J(+a),c=null,f):b};f.y0=function(a){return arguments.length?(b="function"===typeof a?a:J(+a),f):b};f.y1=function(a){return arguments.length?(c=null==
a?null:"function"===typeof a?a:J(+a),f):c};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=function(){return g().x(a).y(c)};f.lineX1=function(){return g().x(d).y(b)};f.defined=function(a){return arguments.length?(q="function"===typeof a?a:J(!!a),f):q};f.curve=function(a){return arguments.length?(k=a,null!=e&&(n=k(e)),f):k};f.context=function(a){return arguments.length?(null==a?e=n=null:n=k(e=a),f):e};return f}function Yj(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function Zj(a){return a}function Nf(a){this._curve=
a}function nd(a){function b(b){return new Nf(a(b))}b._curve=a;return b}function yb(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(nd(a)):b()._curve};return a}function Of(){return yb(md().curve(Pf))}function Qf(){var a=Mf().curve(Pf),b=a.curve,c=a.lineX0,f=a.lineX1,g=a.lineY0,d=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;
delete a.y1;a.lineStartAngle=function(){return yb(c())};delete a.lineX0;a.lineEndAngle=function(){return yb(f())};delete a.lineX1;a.lineInnerRadius=function(){return yb(g())};delete a.lineY0;a.lineOuterRadius=function(){return yb(d())};delete a.lineY1;a.curve=function(a){return arguments.length?b(nd(a)):b()._curve};return a}function zb(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function Rf(a){return new Sf(a,!0)}function Tf(a){return new Sf(a,!1)}function ak(a){return new bk(a)}function ck(a){return a.source}
function dk(a){return a.target}function ic(a){function b(){var b,m=ek.call(arguments),t=c.apply(this,m),h=f.apply(this,m);null==q&&(e=a(b=k()));e.lineStart();m[0]=t;e.point(+g.apply(this,m),+d.apply(this,m));m[0]=h;e.point(+g.apply(this,m),+d.apply(this,m));e.lineEnd();if(b)return e=null,b+""||null}var c=ck,f=dk,g=kd,d=ld,q=null,e=null,k=xb(b);b.source=function(a){return arguments.length?(c=a,b):c};b.target=function(a){return arguments.length?(f=a,b):f};b.x=function(a){return arguments.length?(g=
"function"===typeof a?a:J(+a),b):g};b.y=function(a){return arguments.length?(d="function"===typeof a?a:J(+a),b):d};b.context=function(c){return arguments.length?(null==c?q=e=null:e=a(q=c),b):q};return b}function Fa(){}function jc(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function kc(a){this._context=a}function Uf(a){this._context=a}function Vf(a){this._context=a}function Wf(a,b){this._basis=new kc(a);
this._beta=b}function lc(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function od(a,b){this._context=a;this._k=(1-b)/6}function pd(a,b){this._context=a;this._k=(1-b)/6}function qd(a,b){this._context=a;this._k=(1-b)/6}function rd(a,b,c){var f=a._x1,g=a._y1,d=a._x2,q=a._y2;if(1E-12<a._l01_a){var e=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,k=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*e-a._x0*a._l12_2a+a._x2*a._l01_2a)/
k;g=(g*e-a._y0*a._l12_2a+a._y2*a._l01_2a)/k}1E-12<a._l23_a&&(e=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a),d=(d*e+a._x1*a._l23_2a-b*a._l12_2a)/k,q=(q*e+a._y1*a._l23_2a-c*a._l12_2a)/k);a._context.bezierCurveTo(f,g,d,q,a._x2,a._y2)}function Xf(a,b){this._context=a;this._alpha=b}function Yf(a,b){this._context=a;this._alpha=b}function Zf(a,b){this._context=a;this._alpha=b}function $f(a){this._context=a}function ag(a,b,c){var f=a._x1-a._x0;b-=a._x1;var g=(a._y1-a._y0)/(f||
0>b&&-0);a=(c-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*b+a*f)/(f+b)))||0}function bg(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function sd(a,b,c){var f=a._x0,g=a._x1,d=a._y1,q=(g-f)/3;a._context.bezierCurveTo(f+q,a._y0+q*b,g-q,d-q*c,g,d)}function mc(a){this._context=a}function cg(a){this._context=new dg(a)}function dg(a){this._context=a}function eg(a){this._context=a}function fg(a){var b,c=a.length-1,f=Array(c),g=Array(c),d=
Array(c);f[0]=0;g[0]=2;d[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)f[b]=1,g[b]=4,d[b]=4*a[b]+2*a[b+1];f[c-1]=2;g[c-1]=7;d[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var q=f[b]/g[b-1];g[b]-=q;d[b]-=q*d[b-1]}f[c-1]=d[c-1]/g[c-1];for(b=c-2;0<=b;--b)f[b]=(d[b]-f[b+1])/g[b];g[c-1]=(a[c]+f[c-1])/2;for(b=0;b<c-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function nc(a,b){this._context=a;this._t=b}function cb(a,b){if(1<(q=a.length))for(var c=1,f,g,d=a[b[0]],q,e=d.length;c<q;++c)for(g=d,d=a[b[c]],f=0;f<e;++f)d[f][1]+=d[f][0]=isNaN(g[f][1])?
g[f][0]:g[f][1]}function db(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function fk(a,b){return a[b]}function gk(a){var b=[];b.key=a;return b}function gg(a){var b=a.map(hk);return db(a).sort(function(a,f){return b[a]-b[f]})}function hk(a){for(var b=-1,c=0,f=a.length,g,d=-Infinity;++b<f;)(g=+a[b][1])>d&&(d=g,c=b);return c}function hg(a){var b=a.map(ig);return db(a).sort(function(a,f){return b[a]-b[f]})}function ig(a){for(var b=0,c=-1,f=a.length,g;++c<f;)if(g=+a[c][1])b+=g;return b}function jg(){for(var a=
0,b=arguments.length,c={},f;a<b;++a){if(!(f=arguments[a]+"")||f in c||/[\s.]/.test(f))throw Error("illegal type: "+f);c[f]=[]}return new oc(c)}function oc(a){this._=a}function ik(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",g=a.indexOf(".");0<=g&&(c=a.slice(g+1),a=a.slice(0,g));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:c}})}function kg(a,b,c){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=jk;a=a.slice(0,f).concat(a.slice(f+1));break}null!=
c&&a.push({name:b,value:c});return a}function td(){return Wa||(lg(kk),Wa=Ab.now()+pc)}function kk(){Wa=0}function qc(){this._call=this._time=this._next=null}function mg(a,b,c){var f=new qc;f.restart(a,b,c);return f}function ng(){Wa=(rc=Ab.now())+pc;eb=Bb=0;try{td();++eb;for(var a=sc,b;a;)0<=(b=Wa-a._time)&&a._call.call(l,b),a=a._next;--eb}finally{eb=0;a=sc;for(var c=Infinity;a;)if(a._call){c>a._time&&(c=a._time);var f=a;a=a._next}else b=a._next,a._next=null,a=f?f._next=b:sc=b;Cb=f;ud(c);Wa=0}}function lk(){var a=
Ab.now(),b=a-rc;1E3<b&&(pc-=b,rc=a)}function ud(a){eb||(Bb&&(Bb=clearTimeout(Bb)),24<a-Wa?(Infinity>a&&(Bb=setTimeout(ng,a-Ab.now()-pc)),Db&&(Db=clearInterval(Db))):(Db||(rc=Ab.now(),Db=setInterval(lk,1E3)),eb=1,lg(ng)))}function og(a,b,c){var f=new qc;b=null==b?0:+b;f.restart(function(c){f.stop();a(c+b)},b,c);return f}function tc(a,b,c,f,g,d){var m=a.__transition;if(!m)a.__transition={};else if(c in m)return;mk(a,c,{name:b,index:f,group:g,on:nk,tween:ok,time:d.time,delay:d.delay,duration:d.duration,
ease:d.ease,timer:null,state:0})}function vd(a,b){a=sa(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function va(a,b){a=sa(a,b);if(3<a.state)throw Error("too late; already running");return a}function sa(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function mk(a,b,c){function f(k){var m,v;if(1!==c.state)return d();for(h in q){var t=q[h];if(t.name===c.name){if(3===t.state)return og(f);4===t.state?(t.state=6,t.timer.stop(),t.on.call("interrupt",
a,a.__data__,t.index,t.group),delete q[h]):+h<b&&(t.state=6,t.timer.stop(),t.on.call("cancel",a,a.__data__,t.index,t.group),delete q[h])}}og(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(k))});c.state=2;c.on.call("start",a,a.__data__,c.index,c.group);if(2===c.state){c.state=3;e=Array(v=c.tween.length);var h=0;for(m=-1;h<v;++h)if(t=c.tween[h].value.call(a,a.__data__,c.index,c.group))e[++m]=t;e.length=m+1}}function g(b){b=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(d),
c.state=5,1);for(var f=-1,g=e.length;++f<g;)e[f].call(a,b);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),d())}function d(){c.state=6;c.timer.stop();delete q[b];for(var f in q)return;delete a.__transition}var q=a.__transition,e;q[b]=c;c.timer=mg(function(a){c.state=1;c.timer.restart(f,c.delay,c.time);c.delay<=a&&f(a-c.delay)},0,c.time)}function pg(a,b){var c=a.__transition,f,g=!0,d;if(c){b=null==b?null:b+"";for(d in c)if((f=c[d]).name!==b)g=!1;else{var q=2<f.state&&5>f.state;f.state=
6;f.timer.stop();f.on.call(q?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete c[d]}g&&delete a.__transition}}function pk(a,b){var c,f;return function(){var g=va(this,a),d=g.tween;if(d!==c){f=c=d;d=0;for(var q=f.length;d<q;++d)if(f[d].name===b){f=f.slice();f.splice(d,1);break}}g.tween=f}}function qk(a,b,c){var f,g;if("function"!==typeof c)throw Error();return function(){var d=va(this,a),q=d.tween;if(q!==f){g=(f=q).slice();q={name:b,value:c};for(var e=0,k=g.length;e<k;++e)if(g[e].name===b){g[e]=
q;break}e===k&&g.push(q)}d.tween=g}}function wd(a,b,c){var f=a._id;a.each(function(){var a=va(this,f);(a.value||(a.value={}))[b]=c.apply(this,arguments)});return function(a){return sa(a,f).value[b]}}function qg(a,b){var c;return("number"===typeof b?ra:b instanceof Oa?Rb:(c=Oa(b))?(b=c,Rb):xe)(a,b)}function rk(a){return function(){this.removeAttribute(a)}}function sk(a){return function(){this.removeAttributeNS(a.space,a.local)}}function tk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttribute(a);
return m===g?null:m===f?d:d=b(f=m,c)}}function uk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttributeNS(a.space,a.local);return m===g?null:m===f?d:d=b(f=m,c)}}function vk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttribute(a);var e=this.getAttribute(a);var k=m+"";return e===k?null:e===f&&k===g?d:(g=k,d=b(f=e,m))}}function wk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttributeNS(a.space,a.local);var e=this.getAttributeNS(a.space,
a.local);var k=m+"";return e===k?null:e===f&&k===g?d:(g=k,d=b(f=e,m))}}function xk(a,b){return function(c){this.setAttribute(a,b.call(this,c))}}function yk(a,b){return function(c){this.setAttributeNS(a.space,a.local,b.call(this,c))}}function zk(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&yk(a,c));return f}var f,g;c._value=b;return c}function Ak(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&xk(a,c));return f}var f,g;c._value=b;return c}function Bk(a,b){return function(){vd(this,
a).delay=+b.apply(this,arguments)}}function Ck(a,b){return b=+b,function(){vd(this,a).delay=b}}function Dk(a,b){return function(){va(this,a).duration=+b.apply(this,arguments)}}function Ek(a,b){return b=+b,function(){va(this,a).duration=b}}function Fk(a,b){if("function"!==typeof b)throw Error();return function(){va(this,a).ease=b}}function Gk(a,b){return function(){var c=b.apply(this,arguments);if("function"!==typeof c)throw Error();va(this,a).ease=c}}function Hk(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=
a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function Ik(a,b,c){var f,g,d=Hk(b)?vd:va;return function(){var m=d(this,a),e=m.on;if(e!==f)(g=(f=e).copy()).on(b,c);m.on=g}}function Jk(a){return function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function Kk(a,b){var c,f,g;return function(){var d=Ua(this,a),q=(this.style.removeProperty(a),Ua(this,a));return d===q?null:d===c&&q===f?g:g=b(c=d,f=q)}}function rg(a){return function(){this.style.removeProperty(a)}}
function Lk(a,b,c){var f,g=c+"",d;return function(){var m=Ua(this,a);return m===g?null:m===f?d:d=b(f=m,c)}}function Mk(a,b,c){var f,g,d;return function(){var m=Ua(this,a),e=c(this),k=e+"";null==e&&(k=e=(this.style.removeProperty(a),Ua(this,a)));return m===k?null:m===f&&k===g?d:(g=k,d=b(f=m,e))}}function Nk(a,b){var c,f,g,d="style."+b,e="end."+d,h;return function(){var k=va(this,a),m=k.on,q=null==k.value[d]?h||(h=rg(b)):l;if(m!==c||g!==q)(f=(c=m).copy()).on(e,g=q);k.on=f}}function Ok(a,b,c){return function(f){this.style.setProperty(a,
b.call(this,f),c)}}function Pk(a,b,c){function f(){var f=b.apply(this,arguments);f!==d&&(g=(d=f)&&Ok(a,f,c));return g}var g,d;f._value=b;return f}function Qk(a){return function(){this.textContent=a}}function Rk(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function Sk(a){return function(b){this.textContent=a.call(this,b)}}function Tk(a){function b(){var b=a.apply(this,arguments);b!==f&&(c=(f=b)&&Sk(b));return c}var c,f;b._value=a;return b}function wa(a,b,c,f){this._groups=a;this._parents=
b;this._name=c;this._id=f}function sg(a){return Va().transition(a)}var Ug=Ia().mark(ma),Zg=Ia().mark(ee),Oj=Ia().mark(Ef),tg=u(e),ug=tg.right,Uk=tg.left,Vk=u(R).center,La=ug,Wk=ha(U),Xk=ha(function(a){var b=U(a);return function(a,f,g,d,e){g<<=2;d<<=2;e<<=2;b(a,f,g+0,d+0,e);b(a,f,g+1,d+1,e);b(a,f,g+2,d+2,e);b(a,f,g+3,d+3,e)}}),xd=function(){function a(){W(this,a);this._partials=new Float64Array(32);this._n=0}return N(a,[{key:"add",value:function(a){for(var b=this._partials,f=0,g=0;g<this._n&&32>g;g++){var d=
b[g],e=a+d;(a=Math.abs(a)<Math.abs(d)?a-(e-d):d-(e-a))&&(b[f++]=a);a=e}b[f]=a;this._n=f+1;return this}},{key:"valueOf",value:function(){var a=this._partials,c=this._n,f=0;if(0<c){for(f=a[--c];0<c;){var g=f;var d=a[--c];f=g+d;if(g=d-(f-g))break}0<c&&(0>g&&0>a[c-1]||0<g&&0<a[c-1])&&(d=2*g,g=f+d,d==g-f&&(f=g))}return f}}])}(),kb=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:Nd;W(this,b);var g=C(this,b);Object.defineProperties(g,{_intern:{value:new Map},_key:{value:c}});
if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;){var e=r(d.value,2);g.set(e[0],e[1])}}catch(A){c.e(A)}finally{c.f()}}return g}M(b,a);return N(b,[{key:"get",value:function(a){return I(D(b.prototype),"get",this).call(this,Ac(this,a))}},{key:"has",value:function(a){return I(D(b.prototype),"has",this).call(this,Ac(this,a))}},{key:"set",value:function(a,f){return I(D(b.prototype),"set",this).call(this,Rd(this,a),f)}},{key:"delete",value:function(a){return I(D(b.prototype),"delete",this).call(this,
Sd(this,a))}}])}(z(Map)),Ma=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:Nd;W(this,b);var g=C(this,b);Object.defineProperties(g,{_intern:{value:new Map},_key:{value:c}});if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;)g.add(d.value)}catch(q){c.e(q)}finally{c.f()}}return g}M(b,a);return N(b,[{key:"has",value:function(a){return I(D(b.prototype),"has",this).call(this,Ac(this,a))}},{key:"add",value:function(a){return I(D(b.prototype),"add",this).call(this,
Rd(this,a))}},{key:"delete",value:function(a){return I(D(b.prototype),"delete",this).call(this,Sd(this,a))}}])}(z(Set)),Yg=Array.prototype.slice,Vg=Math.sqrt(50),Wg=Math.sqrt(10),Xg=Math.sqrt(2),Yk=he(Math.random),Fc=Symbol("implicit"),uc=1/.7,jh=/^#([0-9a-f]{3,8})$/,kh=new RegExp("^rgb\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*","\\)$")),lh=new RegExp("^rgb\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),mh=new RegExp("^rgba\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*","\\)$")),nh=new RegExp("^rgba\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
"\\)$")),oh=new RegExp("^hsl\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),ph=new RegExp("^hsla\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
"\\)$")),re={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,
teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hc(pb,Oa,{copy:function(a){return h(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ue(this).formatHsl()},formatRgb:oe,toString:oe});Hc(ja,Ic,me(pb,{brighter:function(a){a=null==a?uc:Math.pow(uc,
a);return new ja(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new ja(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},clamp:function(){return new ja(Qa(this.r),Qa(this.g),Qa(this.b),Pb(this.opacity))},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:se,formatHex:se,formatHex8:function(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b)).concat(Pa(255*
(isNaN(this.opacity)?1:this.opacity)))},formatRgb:te,toString:te}));Hc(qa,function(a,b,c,f){return 1===arguments.length?ue(a):new qa(a,b,c,null==f?1:f)},me(pb,{brighter:function(a){a=null==a?uc:Math.pow(uc,a);return new qa(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new qa(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new ja(Jc(240<=a?
a-240:a+120,c,b),Jc(a,c,b),Jc(120>a?a+240:a-120,c,b),this.opacity)},clamp:function(){return new qa(ve(this.h),Qb(this.s),Qb(this.l),Pb(this.opacity))},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=Pb(this.opacity);return"".concat(1===a?"hsl(":"hsla(").concat(ve(this.h),", ").concat(100*Qb(this.s),"%, ").concat(100*Qb(this.l),"%").concat(1===a?")":", ".concat(a,")"))}}));var Kc=function(a){return function(){return a}},
Rb=function c(b){function f(b,c){var f=g((b=Ic(b)).r,(c=Ic(c)).r),k=g(b.g,c.g),d=g(b.b,c.b),m=we(b.opacity,c.opacity);return function(c){b.r=f(c);b.g=k(c);b.b=d(c);b.opacity=m(c);return b+""}}var g=sh(b);f.gamma=c;return f}(1),Lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mc=new RegExp(Lc.source,"g"),ze=180/Math.PI,yd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},vc,Zk=Ae(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?yd:ye(b.a,
b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),$k=Ae(function(b){if(null==b)return yd;vc||(vc=document.createElementNS("http://www.w3.org/2000/svg","g"));vc.setAttribute("transform",b);if(!(b=vc.transform.baseVal.consolidate()))return yd;b=b.matrix;return ye(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),Be=[0,1],Gh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;rb.prototype=Pc.prototype;Pc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?
"0":"")+(this.width===l?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===l?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Fe,Ge={"%":function(b,c){return(100*b).toFixed(c)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return 1E21<=Math.abs(b=Math.round(b))?b.toLocaleString("en").replace(/,/g,""):b.toString(10)},e:function(b,c){return b.toExponential(c)},f:function(b,c){return b.toFixed(c)},g:function(b,c){return b.toPrecision(c)},
o:function(b){return Math.round(b).toString(8)},p:function(b,c){return Ce(100*b,c)},r:Ce,s:function(b,c){var f=Tb(b,c);if(!f)return b+"";var g=f[0];f=f[1];f=f-(Fe=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1;var d=g.length;return f===d?g:f>d?g+Array(f-d+1).join("0"):0<f?g.slice(0,f)+"."+g.slice(f):"0."+Array(1-f).join("0")+Tb(b,Math.max(0,c+f-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},He=Array.prototype.map,Ee="y z a f p n µ m  k M G T P E Z Y".split(" "),
wc,Qc,Je;(function(b){wc=Hh(b);Qc=wc.format;Je=wc.formatPrefix;return wc})({thousands:",",grouping:[3],currency:["$",""]});var Vc=new Date,Wc=new Date,Ub=Z(function(){},function(b,c){b.setTime(+b+c)},function(b,c){return c-b});Ub.every=function(b){b=Math.floor(b);return isFinite(b)&&0<b?1<b?Z(function(c){c.setTime(Math.floor(c/b)*b)},function(c,f){c.setTime(+c+f*b)},function(c,f){return(f-c)/b}):Ub:null};Ub.range;var Xc=6048E5,af=2592E6,Yc=31536E6,Ta=Z(function(b){b.setTime(b-b.getMilliseconds())},
function(b,c){b.setTime(+b+1E3*c)},function(b,c){return(c-b)/1E3},function(b){return b.getUTCSeconds()});Ta.range;var zd=Z(function(b){b.setTime(b-b.getMilliseconds()-1E3*b.getSeconds())},function(b,c){b.setTime(+b+6E4*c)},function(b,c){return(c-b)/6E4},function(b){return b.getMinutes()});zd.range;var Ad=Z(function(b){b.setUTCSeconds(0,0)},function(b,c){b.setTime(+b+6E4*c)},function(b,c){return(c-b)/6E4},function(b){return b.getUTCMinutes()});Ad.range;var Bd=Z(function(b){b.setTime(b-b.getMilliseconds()-
1E3*b.getSeconds()-6E4*b.getMinutes())},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getHours()});Bd.range;var Cd=Z(function(b){b.setUTCMinutes(0,0,0)},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getUTCHours()});Cd.range;var tb=Z(function(b){return b.setHours(0,0,0,0)},function(b,c){return b.setDate(b.getDate()+c)},function(b,c){return(c-b-6E4*(c.getTimezoneOffset()-b.getTimezoneOffset()))/864E5},function(b){return b.getDate()-
1});tb.range;var Wb=Z(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return b.getUTCDate()-1});Wb.range;var vg=Z(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return Math.floor(b/864E5)});vg.range;var Yb=Ra(0),Xb=Ra(1),al=Ra(2),bl=Ra(3),ab=Ra(4),cl=Ra(5),dl=Ra(6);Yb.range;Xb.range;al.range;bl.range;ab.range;cl.range;dl.range;var Zb=Sa(0),
Vb=Sa(1),el=Sa(2),fl=Sa(3),bb=Sa(4),gl=Sa(5),hl=Sa(6);Zb.range;Vb.range;el.range;fl.range;bb.range;gl.range;hl.range;var Dd=Z(function(b){b.setDate(1);b.setHours(0,0,0,0)},function(b,c){b.setMonth(b.getMonth()+c)},function(b,c){return c.getMonth()-b.getMonth()+12*(c.getFullYear()-b.getFullYear())},function(b){return b.getMonth()});Dd.range;var Ed=Z(function(b){b.setUTCDate(1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCMonth(b.getUTCMonth()+c)},function(b,c){return c.getUTCMonth()-b.getUTCMonth()+
12*(c.getUTCFullYear()-b.getUTCFullYear())},function(b){return b.getUTCMonth()});Ed.range;var ya=Z(function(b){b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c)},function(b,c){return c.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});ya.every=function(b){return isFinite(b=Math.floor(b))&&0<b?Z(function(c){c.setFullYear(Math.floor(c.getFullYear()/b)*b);c.setMonth(0,1);c.setHours(0,0,0,0)},function(c,f){c.setFullYear(c.getFullYear()+f*b)}):null};
ya.range;var za=Z(function(b){b.setUTCMonth(0,1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c)},function(b,c){return c.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});za.every=function(b){return isFinite(b=Math.floor(b))&&0<b?Z(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/b)*b);c.setUTCMonth(0,1);c.setUTCHours(0,0,0,0)},function(c,f){c.setUTCFullYear(c.getUTCFullYear()+f*b)}):null};za.range;var il=$e(za,Ed,Zb,vg,Cd,Ad),wg=r(il,
2),jl=wg[0],kl=wg[1],ll=$e(ya,Dd,Yb,tb,Bd,zd),xg=r(ll,2),ml=xg[0],nl=xg[1],bf={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,Pi=/^%/,Oi=/[\\^$*+?|[\]().{}]/g,fb,yg,zg;(function(b){fb=Ph(b);yg=fb.format;fb.parse;zg=fb.utcFormat;fb.utcParse;return fb})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var dd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yi=Array.prototype.find,bj=Array.prototype.filter;dc.prototype={constructor:dc,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,c){return this._parent.insertBefore(b,c)},querySelector:function(b){return this._parent.querySelector(b)},
querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};Af.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var id=[null];fa.prototype=Va.prototype=p({constructor:fa,select:function(b){"function"!==typeof b&&(b=cc(b));
for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=Array(h),n,v,t=0;t<h;++t)(n=e[t])&&(v=b.call(n,n.__data__,t,e))&&("__data__"in n&&(v.__data__=n.__data__),k[t]=v);return new fa(g,this._parents)},selectAll:function(b){b="function"===typeof b?Wi(b):ed(b);for(var c=this._groups,f=c.length,g=[],d=[],e=0;e<f;++e)for(var h=c[e],k=h.length,n,v=0;v<k;++v)if(n=h[v])g.push(b.call(n,n.__data__,v,h)),d.push(n);return new fa(g,d)},selectChild:function(b){return this.select(null==
b?Zi:Xi("function"===typeof b?b:yf(b)))},selectChildren:function(b){return this.selectAll(null==b?$i:aj("function"===typeof b?b:yf(b)))},filter:function(b){"function"!==typeof b&&(b=fd(b));for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=[],n,v=0;v<h;++v)(n=e[v])&&b.call(n,n.__data__,v,e)&&k.push(n);return new fa(g,this._parents)},data:function(b,c){if(!arguments.length)return Array.from(this,fj);var f=c?ej:dj,g=this._parents,d=this._groups;"function"!==typeof b&&
(b=cj(b));for(var e=d.length,h=Array(e),k=Array(e),n=Array(e),v=0;v<e;++v){var t=g[v],F=d[v],G=F.length,l=b.call(t,t&&t.__data__,v,g);var p="object"===S(l)&&"length"in l?l:Array.from(l);l=p.length;var r=k[v]=Array(l),w=h[v]=Array(l);G=n[v]=Array(G);f(t,F,r,w,G,p,c);for(F=t=0;t<l;++t)if(G=r[t]){for(t>=F&&(F=t+1);!(p=w[F])&&++F<l;);G._next=p||null}}h=new fa(h,g);h._enter=k;h._exit=n;return h},enter:function(){return new fa(this._enter||this._groups.map(zf),this._parents)},exit:function(){return new fa(this._exit||
this._groups.map(zf),this._parents)},join:function(b,c,f){var g=this.enter(),d=this,e=this.exit();"function"===typeof b?(g=b(g))&&(g=g.selection()):g=g.append(b+"");null!=c&&(d=c(d))&&(d=d.selection());null==f?e.remove():f(e);return g&&d?g.merge(d).order():d},merge:function(b){var c=b.selection?b.selection():b;b=this._groups;c=c._groups;for(var f=b.length,g=Math.min(f,c.length),d=Array(f),e=0;e<g;++e)for(var h=b[e],k=c[e],n=h.length,v=d[e]=Array(n),t,F=0;F<n;++F)if(t=h[F]||k[F])v[F]=t;for(;e<f;++e)d[e]=
b[e];return new fa(d,this._parents)},selection:function(){return this},order:function(){for(var b=this._groups,c=-1,f=b.length;++c<f;)for(var g=b[c],d=g.length-1,e=g[d],h;0<=--d;)if(h=g[d])e&&h.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(h,e),e=h;return this},sort:function(b){function c(c,f){return c&&f?b(c.__data__,f.__data__):!c-!f}b||(b=gj);for(var f=this._groups,g=f.length,d=Array(g),e=0;e<g;++e){for(var h=f[e],k=h.length,n=d[e]=Array(k),v,t=0;t<k;++t)if(v=h[t])n[t]=v;n.sort(c)}return(new fa(d,
this._parents)).order()},call:function(){var b=arguments[0];arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){return Array.from(this)},node:function(){for(var b=this._groups,c=0,f=b.length;c<f;++c)for(var g=b[c],d=0,e=g.length;d<e;++d){var h=g[d];if(h)return h}return null},size:function(){var b=0,c=B(this);try{for(c.s();!c.n().done;)++b}catch(f){c.e(f)}finally{c.f()}return b},empty:function(){return!this.node()},each:function(b){for(var c=this._groups,f=0,g=c.length;f<g;++f)for(var d=
c[f],e=0,h=d.length,k;e<h;++e)(k=d[e])&&b.call(k,k.__data__,e,d);return this},attr:function(b,c){var f=wb(b);if(2>arguments.length){var g=this.node();return f.local?g.getAttributeNS(f.space,f.local):g.getAttribute(f)}return this.each((null==c?f.local?ij:hj:"function"===typeof c?f.local?mj:lj:f.local?kj:jj)(f,c))},style:function(b,c,f){return 1<arguments.length?this.each((null==c?nj:"function"===typeof c?pj:oj)(b,c,null==f?"":f)):Ua(this.node(),b)},property:function(b,c){return 1<arguments.length?
this.each((null==c?qj:"function"===typeof c?sj:rj)(b,c)):this.node()[b]},classed:function(b,c){var f=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var g=hd(this.node()),d=-1,e=f.length;++d<e;)if(!g.contains(f[d]))return!1;return!0}return this.each(("function"===typeof c?vj:c?tj:uj)(f,c))},text:function(b){return arguments.length?this.each(null==b?wj:("function"===typeof b?yj:xj)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?zj:("function"===typeof b?
Bj:Aj)(b)):this.node().innerHTML},raise:function(){return this.each(Cj)},lower:function(){return this.each(Dj)},append:function(b){var c="function"===typeof b?b:bc(b);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(b,c){var f="function"===typeof b?b:bc(b),g=null==c?Ej:"function"===typeof c?c:cc(c);return this.select(function(){return this.insertBefore(f.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function(){return this.each(Fj)},
clone:function(b){return this.select(b?Hj:Gj)},datum:function(b){return arguments.length?this.property("__data__",b):this.node().__data__},on:function(b,c,f){var g=Jj(b+""),d=g.length,e;if(2>arguments.length){var h=this.node().__on;if(h)for(var k=0,n=h.length,v;k<n;++k){var t=0;for(v=h[k];t<d;++t)if((e=g[t]).type===v.type&&e.name===v.name)return v.value}}else{h=c?Lj:Kj;for(t=0;t<d;++t)this.each(h(g[t],c,f));return this}},dispatch:function(b,c){return this.each(("function"===typeof c?Nj:Mj)(b,c))}},
Symbol.iterator,Ef);var Pj=0;jd.prototype=Gf.prototype={constructor:jd,get:function(b){for(var c=this._;!(c in b);)if(!(b=b.parentNode))return;return b[c]},set:function(b,c){return b[this._]=c},remove:function(b){return this._ in b&&delete b[this._]},toString:function(){return this._}};var Ag=Math.abs,da=Math.atan2,Aa=Math.cos,Xj=Math.max,gb=Math.min,ka=Math.sin,T=Math.sqrt,Ga=Math.PI,ec=Ga/2,Ha=2*Ga,Fd=Math.PI,Gd=2*Fd,ol=Gd-1E-6,Rj=function(){function b(c){W(this,b);this._x0=this._y0=this._x1=this._y1=
null;this._="";this._append=null==c?Kf:Qj(c)}return N(b,[{key:"moveTo",value:function(b,f){this._append(Ib||(Ib=x(["M",",",""])),this._x0=this._x1=+b,this._y0=this._y1=+f)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(ca||(ca=x(["Z"]))))}},{key:"lineTo",value:function(b,f){this._append(y||(y=x(["L",",",""])),this._x1=+b,this._y1=+f)}},{key:"quadraticCurveTo",value:function(b,f,g,d){this._append(O||(O=x(["Q",",",",",",",""])),+b,+f,this._x1=
+g,this._y1=+d)}},{key:"bezierCurveTo",value:function(b,f,g,d,e,h){this._append(ea||(ea=x("C , , , , , ".split(" "))),+b,+f,+g,+d,this._x1=+e,this._y1=+h)}},{key:"arcTo",value:function(b,f,g,d,e){b=+b;f=+f;g=+g;d=+d;e=+e;if(0>e)throw Error("negative radius: ".concat(e));var c=this._x1,k=this._y1,n=g-b,m=d-f,t=c-b,h=k-f,q=t*t+h*h;if(null===this._x1)this._append(la||(la=x(["M",",",""])),this._x1=b,this._y1=f);else if(1E-6<q)if(1E-6<Math.abs(h*n-m*t)&&e){g-=c;d-=k;var l=n*n+m*m;k=Math.sqrt(l);c=Math.sqrt(q);
q=e*Math.tan((Fd-Math.acos((l+q-(g*g+d*d))/(2*k*c)))/2);c=q/c;q/=k;1E-6<Math.abs(c-1)&&this._append(jb||(jb=x(["L",",",""])),b+c*t,f+c*h);this._append(Jb||(Jb=x("A , ,0,0, , , ".split(" "))),e,e,+(h*g>t*d),this._x1=b+q*n,this._y1=f+q*m)}else this._append(K||(K=x(["L",",",""])),this._x1=b,this._y1=f)}},{key:"arc",value:function(b,f,g,d,e,h){b=+b;f=+f;g=+g;h=!!h;if(0>g)throw Error("negative radius: ".concat(g));var c=g*Math.cos(d),n=g*Math.sin(d),m=b+c,t=f+n,q=1^h;d=h?d-e:e-d;null===this._x1?this._append(Vd||
(Vd=x(["M",",",""])),m,t):(1E-6<Math.abs(this._x1-m)||1E-6<Math.abs(this._y1-t))&&this._append(Ka||(Ka=x(["L",",",""])),m,t);g&&(0>d&&(d=d%Gd+Gd),d>ol?this._append(Wd||(Wd=x("A , ,0,1, , , A , ,0,1, , , ".split(" "))),g,g,q,b-c,f-n,g,g,q,this._x1=m,this._y1=t):1E-6<d&&this._append(Xd||(Xd=x("A , ,0, , , , ".split(" "))),g,g,+(d>=Fd),q,this._x1=b+g*Math.cos(e),this._y1=f+g*Math.sin(e)))}},{key:"rect",value:function(b,f,g,d){this._append(Yd||(Yd=x("M,hvhZ".split(""))),this._x0=this._x1=+b,this._y0=
this._y1=+f,g=+g,+d,-g)}},{key:"toString",value:function(){return this._}}])}(),ek=Array.prototype.slice;Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;case 1:this._point=
2;default:this._context.lineTo(b,c)}}};var Pf=nd(hc);Nf.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(b,c){this._curve.point(c*Math.sin(b),c*-Math.cos(b))}};var Sf=function(){function b(c,f){W(this,b);this._context=c;this._x=f}return N(b,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",
value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line}},{key:"point",value:function(b,f){b=+b;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,f):this._context.moveTo(b,f);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+b)/2,this._y0,this._x0,f,b,f):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+f)/2,b,this._y0,
b,f)}this._x0=b;this._y0=f}}])}(),bk=function(){function b(c){W(this,b);this._context=c}return N(b,[{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){}},{key:"point",value:function(b,f){b=+b;f=+f;if(0===this._point)this._point=1;else{var c,d,e=zb(this._x0,this._y0),h=zb(this._x0,this._y0=(this._y0+f)/2),k=zb(b,this._y0),n=zb(b,f);(c=this._context).moveTo.apply(c,E(e));(d=this._context).bezierCurveTo.apply(d,E(h).concat(E(k),E(n)))}this._x0=b;this._y0=f}}])}(),pl=T(3),
Bg={draw:function(b,c){c=.59436*T(c+gb(c/28,.75));var f=c/2,g=f*pl;b.moveTo(0,c);b.lineTo(0,-c);b.moveTo(-g,-f);b.lineTo(g,f);b.moveTo(-g,f);b.lineTo(g,-f)}},xc={draw:function(b,c){c=T(c/Ga);b.moveTo(c,0);b.arc(0,0,c,0,Ha)}},Cg={draw:function(b,c){c=T(c/5)/2;b.moveTo(-3*c,-c);b.lineTo(-c,-c);b.lineTo(-c,-3*c);b.lineTo(c,-3*c);b.lineTo(c,-c);b.lineTo(3*c,-c);b.lineTo(3*c,c);b.lineTo(c,c);b.lineTo(c,3*c);b.lineTo(-c,3*c);b.lineTo(-c,c);b.lineTo(-3*c,c);b.closePath()}},Dg=T(1/3),ql=2*Dg,Eg={draw:function(b,
c){c=T(c/ql);var f=c*Dg;b.moveTo(0,-c);b.lineTo(f,0);b.lineTo(0,c);b.lineTo(-f,0);b.closePath()}},Fg={draw:function(b,c){c=.62625*T(c);b.moveTo(0,-c);b.lineTo(c,0);b.lineTo(0,c);b.lineTo(-c,0);b.closePath()}},Gg={draw:function(b,c){c=.87559*T(c-gb(c/7,2));b.moveTo(-c,0);b.lineTo(c,0);b.moveTo(0,c);b.lineTo(0,-c)}},Hg={draw:function(b,c){c=T(c);var f=-c/2;b.rect(f,f,c,c)}},Ig={draw:function(b,c){c=.4431*T(c);b.moveTo(c,c);b.lineTo(c,-c);b.lineTo(-c,-c);b.lineTo(-c,c);b.closePath()}},Jg=ka(Ga/10)/ka(7*
Ga/10),rl=ka(Ha/10)*Jg,sl=-Aa(Ha/10)*Jg,Kg={draw:function(b,c){c=T(.8908130915292852*c);var f=rl*c,g=sl*c;b.moveTo(0,-c);b.lineTo(f,g);for(var d=1;5>d;++d){var e=Ha*d/5,h=Aa(e);e=ka(e);b.lineTo(e*c,-h*c);b.lineTo(h*f-e*g,e*f+h*g)}b.closePath()}},Hd=T(3),Lg={draw:function(b,c){c=-T(c/(3*Hd));b.moveTo(0,2*c);b.lineTo(-Hd*c,-c);b.lineTo(Hd*c,-c);b.closePath()}},tl=T(3),Mg={draw:function(b,c){c=.6824*T(c);var f=c/2,g=c*tl/2;b.moveTo(0,-c);b.lineTo(g,f);b.lineTo(-g,f);b.closePath()}},pa=T(3)/2,Id=1/T(12),
ul=3*(Id/2+1),Ng={draw:function(b,c){var f=T(c/ul);c=f/2;var g=f*Id;f=f*Id+f;var d=-c;b.moveTo(c,g);b.lineTo(c,f);b.lineTo(d,f);b.lineTo(-.5*c-pa*g,pa*c+-.5*g);b.lineTo(-.5*c-pa*f,pa*c+-.5*f);b.lineTo(-.5*d-pa*f,pa*d+-.5*f);b.lineTo(-.5*c+pa*g,-.5*g-pa*c);b.lineTo(-.5*c+pa*f,-.5*f-pa*c);b.lineTo(-.5*d+pa*f,-.5*f-pa*d);b.closePath()}},Jd={draw:function(b,c){c=.6189*T(c-gb(c/6,1.7));b.moveTo(-c,-c);b.lineTo(c,c);b.moveTo(-c,c);b.lineTo(c,-c)}},Og=[xc,Cg,Eg,Hg,Kg,Lg,Ng],vl=[xc,Gg,Jd,Mg,Bg,Ig,Fg];kc.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:jc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;
case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Uf.prototype={areaStart:Fa,areaEnd:Fa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._x2=b;this._y2=c;break;case 1:this._point=2;this._x3=b;this._y3=c;break;case 2:this._point=3;this._x4=b;this._y4=c;this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+c)/
6);break;default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var f=(this._x0+
4*this._x1+b)/6,g=(this._y0+4*this._y1+c)/6;this._line?this._context.lineTo(f,g):this._context.moveTo(f,g);break;case 3:this._point=4;default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Wf.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var b=this._x,c=this._y,f=b.length-1;if(0<f)for(var g=b[0],d=c[0],e=b[f]-g,h=c[f]-d,k=-1,n;++k<=f;)n=k/f,this._basis.point(this._beta*b[k]+(1-this._beta)*(g+n*e),this._beta*c[k]+(1-this._beta)*
(d+n*h));this._x=this._y=null;this._basis.lineEnd()},point:function(b,c){this._x.push(+b);this._y.push(+c)}};var wl=function f(c){function g(f){return 1===c?new kc(f):new Wf(f,c)}g.beta=function(c){return f(+c)};return g}(.85);od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lc(this,
this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(c,f){c=+c;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(c,f):this._context.moveTo(c,f);break;case 1:this._point=2;this._x1=c;this._y1=f;break;case 2:this._point=3;default:lc(this,c,f)}this._x0=this._x1;this._x1=this._x2;this._x2=c;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var xl=function g(f){function d(g){return new od(g,f)}d.tension=
function(f){return g(+f)};return d}(0);pd.prototype={areaStart:Fa,areaEnd:Fa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,
this._y5)}},point:function(f,g){f=+f;g=+g;switch(this._point){case 0:this._point=1;this._x3=f;this._y3=g;break;case 1:this._point=2;this._context.moveTo(this._x4=f,this._y4=g);break;case 2:this._point=3;this._x5=f;this._y5=g;break;default:lc(this,f,g)}this._x0=this._x1;this._x1=this._x2;this._x2=f;this._y0=this._y1;this._y1=this._y2;this._y2=g}};var yl=function m(g){function d(d){return new pd(d,g)}d.tension=function(g){return m(+g)};return d}(0);qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(g,d){g=+g;d=+d;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lc(this,g,d)}this._x0=this._x1;this._x1=
this._x2;this._x2=g;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var zl=function q(d){function e(k){return new qd(k,d)}e.tension=function(d){return q(+d)};return e}(0);Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){d=+d;e=+e;if(this._point){var m=this._x2-d,k=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;default:rd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Al=function A(d){function k(k){return d?new Xf(k,d):new od(k,0)}k.alpha=function(d){return A(+d)};return k}(.5);Yf.prototype={areaStart:Fa,areaEnd:Fa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=
this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,e){d=+d;e=+e;if(this._point){var k=this._x2-d,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+n*n,this._alpha))}switch(this._point){case 0:this._point=
1;this._x3=d;this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=d,this._y4=e);break;case 2:this._point=3;this._x5=d;this._y5=e;break;default:rd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Bl=function k(d){function e(k){return d?new Yf(k,d):new pd(k,0)}e.alpha=function(d){return k(+d)};return e}(.5);Zf.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,k){d=+d;k=+k;if(this._point){var e=this._x2-d,v=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+v*v,this._alpha))}switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rd(this,d,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=k}};var Cl=function n(d){function k(k){return d?new Zf(k,d):new qd(k,0)}k.alpha=function(d){return n(+d)};return k}(.5);
$f.prototype={areaStart:Fa,areaEnd:Fa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(d,e){d=+d;e=+e;this._point?this._context.lineTo(d,e):(this._point=1,this._context.moveTo(d,e))}};mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;
case 3:sd(this,this._t0,bg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){var k=NaN;d=+d;e=+e;if(d!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;sd(this,bg(this,k=ag(this,d,e)),k);break;default:sd(this,this._t0,k=ag(this,d,e))}this._x0=this._x1;this._x1=d;this._y0=this._y1;this._y1=
e;this._t0=k}}};(cg.prototype=Object.create(mc.prototype)).point=function(d,e){mc.prototype.point.call(this,e,d)};dg.prototype={moveTo:function(d,e){this._context.moveTo(e,d)},closePath:function(){this._context.closePath()},lineTo:function(d,e){this._context.lineTo(e,d)},bezierCurveTo:function(d,e,v,t,h,l){this._context.bezierCurveTo(e,d,t,v,l,h)}};eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var d=
this._x,e=this._y,h=d.length;if(h)if(this._line?this._context.lineTo(d[0],e[0]):this._context.moveTo(d[0],e[0]),2===h)this._context.lineTo(d[1],e[1]);else for(var t=fg(d),F=fg(e),l=0,p=1;p<h;++l,++p)this._context.bezierCurveTo(t[0][l],F[0][l],t[1][l],F[1][l],d[p],e[p]);(this._line||0!==this._line&&1===h)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(d,e){this._x.push(+d);this._y.push(+e)}};nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(d,e){d=+d;e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,
e),this._context.lineTo(d,e);else{var k=this._x*(1-this._t)+d*this._t;this._context.lineTo(k,this._y);this._context.lineTo(k,e)}}this._x=d;this._y=e}};var jk={value:function(){}};oc.prototype=jg.prototype={constructor:oc,on:function(d,e){var k=this._,n=ik(d+"",k),h,l=-1,p=n.length;if(2>arguments.length)for(;++l<p;){var r;if(r=h=(d=n[l]).type){a:{r=k[h];for(var w=0,y=r.length;w<y;++w)if((h=r[w]).name===d.name){h=h.value;break a}h=void 0}r=h}if(r)return h}else{if(null!=e&&"function"!==typeof e)throw Error("invalid callback: "+
e);for(;++l<p;)if(h=(d=n[l]).type)k[h]=kg(k[h],d.name,e);else if(null==e)for(h in k)k[h]=kg(k[h],d.name,null);return this}},copy:function(){var d={},e=this._,h;for(h in e)d[h]=e[h].slice();return new oc(d)},call:function(d,e){if(0<(h=arguments.length-2))for(var k=Array(h),n=0,h,l;n<h;++n)k[n]=arguments[n+2];if(!this._.hasOwnProperty(d))throw Error("unknown type: "+d);l=this._[d];n=0;for(h=l.length;n<h;++n)l[n].value.apply(e,k)},apply:function(d,e,h){if(!this._.hasOwnProperty(d))throw Error("unknown type: "+
d);d=this._[d];for(var k=0,n=d.length;k<n;++k)d[k].value.apply(e,h)}};var eb=0,Bb=0,Db=0,sc,Cb,rc=0,Wa=0,pc=0,Ab="object"===("undefined"===typeof performance?"undefined":S(performance))&&performance.now?performance:Date,lg="object"===("undefined"===typeof Q?"undefined":S(Q))&&Q.requestAnimationFrame?Q.requestAnimationFrame.bind(Q):function(d){setTimeout(d,17)};qc.prototype=mg.prototype={constructor:qc,restart:function(d,e,h){if("function"!==typeof d)throw new TypeError("callback is not a function");
h=(null==h?td():+h)+(null==e?0:+e);this._next||Cb===this||(Cb?Cb._next=this:sc=this,Cb=this);this._call=d;this._time=h;ud()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ud())}};var nk=jg("start","end","cancel","interrupt"),ok=[],Dl=Va.prototype.constructor,Pg=0,Ba=Va.prototype;wa.prototype=sg.prototype=p({constructor:wa,select:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=cc(d));for(var h=this._groups,l=h.length,G=Array(l),p=0;p<l;++p)for(var r=h[p],w=r.length,
y=G[p]=Array(w),aa,D,x=0;x<w;++x)(aa=r[x])&&(D=d.call(aa,aa.__data__,x,r))&&("__data__"in aa&&(D.__data__=aa.__data__),y[x]=D,tc(y[x],k,e,x,y,sa(aa,e)));return new wa(G,this._parents,k,e)},selectAll:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=ed(d));for(var h=this._groups,l=h.length,p=[],r=[],w=0;w<l;++w)for(var L=h[w],y=L.length,D,x=0;x<y;++x)if(D=L[x]){for(var u=d.call(D,D.__data__,x,L),z,B=sa(D,e),O=0,ca=u.length;O<ca;++O)(z=u[O])&&tc(z,k,e,O,u,B);p.push(u);r.push(D)}return new wa(p,
r,k,e)},selectChild:Ba.selectChild,selectChildren:Ba.selectChildren,filter:function(d){"function"!==typeof d&&(d=fd(d));for(var k=this._groups,e=k.length,h=Array(e),l=0;l<e;++l)for(var p=k[l],r=p.length,w=h[l]=[],L,y=0;y<r;++y)(L=p[y])&&d.call(L,L.__data__,y,p)&&w.push(L);return new wa(h,this._parents,this._name,this._id)},merge:function(d){if(d._id!==this._id)throw Error();var k=this._groups;d=d._groups;for(var e=k.length,h=Math.min(e,d.length),l=Array(e),p=0;p<h;++p)for(var r=k[p],w=d[p],L=r.length,
y=l[p]=Array(L),D,x=0;x<L;++x)if(D=r[x]||w[x])y[x]=D;for(;p<e;++p)l[p]=k[p];return new wa(l,this._parents,this._name,this._id)},selection:function(){return new Dl(this._groups,this._parents)},transition:function(){for(var d=this._name,e=this._id,h=++Pg,t=this._groups,l=t.length,p=0;p<l;++p)for(var r=t[p],w=r.length,y,D=0;D<w;++D)if(y=r[D]){var x=sa(y,e);tc(y,d,h,D,r,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new wa(t,this._parents,d,h)},call:Ba.call,nodes:Ba.nodes,
node:Ba.node,size:Ba.size,empty:Ba.empty,each:Ba.each,on:function(d,e){var k=this._id;return 2>arguments.length?sa(this.node(),k).on.on(d):this.each(Ik(k,d,e))},attr:function(d,e){var k=wb(d),h="transform"===k?$k:qg;return this.attrTween(d,"function"===typeof e?(k.local?wk:vk)(k,h,wd(this,"attr."+d,e)):null==e?(k.local?sk:rk)(k):(k.local?uk:tk)(k,h,e))},attrTween:function(d,e){var k="attr."+d;if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();var h=wb(d);return this.tween(k,(h.local?zk:Ak)(h,e))},style:function(d,e,h){var k="transform"===(d+="")?Zk:qg;return null==e?this.styleTween(d,Kk(d,k)).on("end.style."+d,rg(d)):"function"===typeof e?this.styleTween(d,Mk(d,k,wd(this,"style."+d,e))).each(Nk(this._id,d)):this.styleTween(d,Lk(d,k,e),h).on("end.style."+d,null)},styleTween:function(d,e,h){var k="style."+(d+="");if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();return this.tween(k,Pk(d,e,null==h?"":h))},text:function(d){return this.tween("text","function"===typeof d?Rk(wd(this,"text",d)):Qk(null==d?"":d+""))},textTween:function(d){var k="text";if(1>arguments.length)return(k=this.tween(k))&&k._value;if(null==d)return this.tween(k,null);if("function"!==typeof d)throw Error();return this.tween(k,Tk(d))},remove:function(){return this.on("end.remove",Jk(this._id))},tween:function(d,e){var k=this._id;d+="";if(2>arguments.length){k=sa(this.node(),
k).tween;for(var h=0,n=k.length,l;h<n;++h)if((l=k[h]).name===d)return l.value;return null}return this.each((null==e?pk:qk)(k,d,e))},delay:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Bk:Ck)(k,d)):sa(this.node(),k).delay},duration:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Dk:Ek)(k,d)):sa(this.node(),k).duration},ease:function(d){var k=this._id;return arguments.length?this.each(Fk(k,d)):sa(this.node(),k).ease},easeVarying:function(d){if("function"!==
typeof d)throw Error();return this.each(Gk(this._id,d))},end:function(){var d,e,h=this,t=h._id,l=h.size();return new Promise(function(k,n){var v={value:n},p={value:function(){0===--l&&k()}};h.each(function(){var k=va(this,t),h=k.on;h!==d&&(e=(d=h).copy(),e._.cancel.push(v),e._.interrupt.push(v),e._.end.push(p));k.on=e});0===l&&k()})}},Symbol.iterator,Ba[Symbol.iterator]);var El={time:null,delay:0,duration:250,ease:function(d){return(1>=(d*=2)?d*d*d:(d-=2)*d*d+2)/2}};Va.prototype.interrupt=function(d){return this.each(function(){pg(this,
d)})};Va.prototype.transition=function(d){var k;if(d instanceof wa){var e=d._id;d=d._name}else e=++Pg,(k=El).time=td(),d=null==d?null:d+"";for(var h=this._groups,l=h.length,p=0;p<l;++p)for(var r=h[p],w=r.length,y,D=0;D<w;++D)if(y=r[D]){var x=y,u=d,z=e,B=D,O=r,ca;if(!(ca=k)){ca=void 0;for(var C=e;!(ca=y.__transition)||!(ca=ca[C]);)if(!(y=y.parentNode))throw Error("transition ".concat(C," not found"));}tc(x,u,z,B,O,ca)}return new wa(h,this._parents,d,e)};var Fl=[null];d.Adder=xd;d.InternMap=kb;d.InternSet=
Ma;d.active=function(d,e){var k=d.__transition,h,n;if(k)for(n in e=null==e?null:e+"",k)if(1<(h=k[n]).state&&h.name===e)return new wa([[d]],Fl,e,+n);return null};d.arc=function(){function d(){var d,k=+e.apply(this,arguments),n=+h.apply(this,arguments),v=p.apply(this,arguments)-ec,F=r.apply(this,arguments)-ec,G=Ag(F-v),x=F>v;y||(y=d=D());if(n<k){var X=n;n=k;k=X}if(1E-12<n)if(G>Ha-1E-12)y.moveTo(n*Aa(v),n*ka(v)),y.arc(0,0,n,v,F,!x),1E-12<k&&(y.moveTo(k*Aa(F),k*ka(F)),y.arc(0,0,k,F,v,x));else{var u=v,
z=F;X=v;var lb=F,B=G,ca=G,O=w.apply(this,arguments)/2,L=1E-12<O&&(l?+l.apply(this,arguments):T(k*k+n*n)),C=gb(Ag(n-k)/2,+t.apply(this,arguments)),K=C,H=C;if(1E-12<L){var ea=Jf(L/k*ka(O));O=Jf(L/n*ka(O));1E-12<(B-=2*ea)?(ea*=x?1:-1,X+=ea,lb-=ea):(B=0,X=lb=(v+F)/2);1E-12<(ca-=2*O)?(O*=x?1:-1,u+=O,z-=O):(ca=0,u=z=(v+F)/2)}v=n*Aa(u);F=n*ka(u);ea=k*Aa(lb);O=k*ka(lb);if(1E-12<C){var W=n*Aa(z),la=n*ka(z),J=k*Aa(X),E=k*ka(X);if(G<Ga){K=J-v;H=E-F;G=ea-W;L=O-la;var I=L*K-G*H;1E-12>I*I?K=void 0:(I=(G*(F-la)-
L*(v-W))/I,K=[v+I*K,F+I*H]);K?(H=v-K[0],G=F-K[1],L=W-K[0],I=la-K[1],H=(H*L+G*I)/(T(H*H+G*G)*T(L*L+I*I)),H=1/ka((1<H?0:-1>H?Ga:Math.acos(H))/2),G=T(K[0]*K[0]+K[1]*K[1]),K=gb(C,(k-G)/(H-1)),H=gb(C,(n-G)/(H+1))):K=H=0}}1E-12<ca?1E-12<H?(u=fc(J,E,v,F,n,H,x),z=fc(W,la,ea,O,n,H,x),y.moveTo(u.cx+u.x01,u.cy+u.y01),H<C?y.arc(u.cx,u.cy,H,da(u.y01,u.x01),da(z.y01,z.x01),!x):(y.arc(u.cx,u.cy,H,da(u.y01,u.x01),da(u.y11,u.x11),!x),y.arc(0,0,n,da(u.cy+u.y11,u.cx+u.x11),da(z.cy+z.y11,z.cx+z.x11),!x),y.arc(z.cx,z.cy,
H,da(z.y11,z.x11),da(z.y01,z.x01),!x))):(y.moveTo(v,F),y.arc(0,0,n,u,z,!x)):y.moveTo(v,F);1E-12<k&&1E-12<B?1E-12<K?(u=fc(ea,O,W,la,k,-K,x),z=fc(v,F,J,E,k,-K,x),y.lineTo(u.cx+u.x01,u.cy+u.y01),K<C?y.arc(u.cx,u.cy,K,da(u.y01,u.x01),da(z.y01,z.x01),!x):(y.arc(u.cx,u.cy,K,da(u.y01,u.x01),da(u.y11,u.x11),!x),y.arc(0,0,k,da(u.cy+u.y11,u.cx+u.x11),da(z.cy+z.y11,z.cx+z.x11),x),y.arc(z.cx,z.cy,K,da(z.y11,z.x11),da(z.y01,z.x01),!x))):y.arc(0,0,k,lb,X,x):y.lineTo(ea,O)}else y.moveTo(0,0);y.closePath();if(d)return y=
null,d+""||null}var e=Sj,h=Tj,t=J(0),l=null,p=Uj,r=Vj,w=Wj,y=null,D=xb(d);d.centroid=function(){var d=(+e.apply(this,arguments)+ +h.apply(this,arguments))/2,k=(+p.apply(this,arguments)+ +r.apply(this,arguments))/2-Ga/2;return[Aa(k)*d,ka(k)*d]};d.innerRadius=function(k){return arguments.length?(e="function"===typeof k?k:J(+k),d):e};d.outerRadius=function(k){return arguments.length?(h="function"===typeof k?k:J(+k),d):h};d.cornerRadius=function(k){return arguments.length?(t="function"===typeof k?k:J(+k),
d):t};d.padRadius=function(k){return arguments.length?(l=null==k?null:"function"===typeof k?k:J(+k),d):l};d.startAngle=function(k){return arguments.length?(p="function"===typeof k?k:J(+k),d):p};d.endAngle=function(k){return arguments.length?(r="function"===typeof k?k:J(+k),d):r};d.padAngle=function(k){return arguments.length?(w="function"===typeof k?k:J(+k),d):w};d.context=function(k){return arguments.length?(y=null==k?null:k,d):y};return d};d.area=Mf;d.areaRadial=Qf;d.ascending=e;d.axisBottom=function(d){return Nb(3,
d)};d.axisLeft=function(d){return Nb(4,d)};d.axisRight=function(d){return Nb(2,d)};d.axisTop=function(d){return Nb(1,d)};d.bin=ae;d.bisect=La;d.bisectCenter=Vk;d.bisectLeft=Uk;d.bisectRight=ug;d.bisector=u;d.blur=function(d,e){if(!(0<=(e=+e)))throw new RangeError("invalid r");var k=d.length;if(!(0<=(k=Math.floor(k))))throw new RangeError("invalid length");if(!k||!e)return d;e=U(e);var h=d.slice();e(d,h,0,k,1);e(h,d,0,k,1);e(d,h,0,k,1);return d};d.blur2=Wk;d.blurImage=Xk;d.count=Fb;d.create=function(d){return Ff(bc(d).call(document.documentElement))};
d.creator=bc;d.cross=function(){for(var d=arguments.length,e=Array(d),h=0;h<d;h++)e[h]=arguments[h];d="function"===typeof e[e.length-1]&&Tg(e.pop());e=e.map(Sg);h=e.map(Qg);var t=e.length-1,l=Array(t+1).fill(0),p=[];if(0>t||h.some(Rg))return p;for(;;){p.push(l.map(function(d,k){return e[k][d]}));for(var r=t;++l[r]===h[r];){if(0===r)return d?p.map(d):p;l[r--]=0}}};d.cumsum=function(d,e){var k=0,h=0;return Float64Array.from(d,e===l?function(d){return k+=+d||0}:function(n){return k+=+e(n,h++,d)||0})};
d.curveBasis=function(d){return new kc(d)};d.curveBasisClosed=function(d){return new Uf(d)};d.curveBasisOpen=function(d){return new Vf(d)};d.curveBumpX=Rf;d.curveBumpY=Tf;d.curveBundle=wl;d.curveCardinal=xl;d.curveCardinalClosed=yl;d.curveCardinalOpen=zl;d.curveCatmullRom=Al;d.curveCatmullRomClosed=Bl;d.curveCatmullRomOpen=Cl;d.curveLinear=hc;d.curveLinearClosed=function(d){return new $f(d)};d.curveMonotoneX=function(d){return new mc(d)};d.curveMonotoneY=function(d){return new cg(d)};d.curveNatural=
function(d){return new eg(d)};d.curveStep=function(d){return new nc(d,.5)};d.curveStepAfter=function(d){return new nc(d,1)};d.curveStepBefore=function(d){return new nc(d,0)};d.descending=w;d.deviation=Ld;d.difference=function(d){d=new Ma(d);for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];for(k=0;k<e.length;k++){h=B(e[k]);var l;try{for(h.s();!(l=h.n()).done;)d["delete"](l.value)}catch(G){h.e(G)}finally{h.f()}}return d};d.disjoint=function(d,e){e=e[Symbol.iterator]();var k=
new Ma;d=B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;if(k.has(n))return!1;for(var l=void 0,p=void 0;r=e.next(),l=r.value,p=r.done,r;){var r;if(p)break;if(Object.is(n,l))return!1;k.add(l)}}}catch(L){d.e(L)}finally{d.f()}return!0};d.every=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),n;try{for(h.s();!(n=h.n()).done;)if(!e(n.value,++k,d))return!1}catch(G){h.e(G)}finally{h.f()}return!0};d.extent=Hb;d.fcumsum=function(d,e){var k=new xd,
h=-1;return Float64Array.from(d,e===l?function(d){return k.add(+d||0)}:function(n){return k.add(+e(n,++h,d)||0)})};d.filter=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=[],h=-1,n=B(d),l;try{for(n.s();!(l=n.n()).done;){var p=l.value;e(p,++h,d)&&k.push(p)}}catch(X){n.e(X)}finally{n.f()}return k};d.flatGroup=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return Qd(Pd.apply(void 0,[d].concat(e)),e)};d.flatRollup=
function(d,e){for(var k=arguments.length,h=Array(2<k?k-2:0),n=2;n<k;n++)h[n-2]=arguments[n];return Qd(Ud.apply(void 0,[d,e].concat(h)),h)};d.fsum=function(d,e){var k=new xd;if(e===l){d=B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;(n=+n)&&k.add(n)}}catch(X){d.e(X)}finally{d.f()}}else{h=-1;n=B(d);var p;try{for(n.s();!(p=n.n()).done;){var r=p.value;(r=+e(r,++h,d))&&k.add(r)}}catch(X){n.e(X)}finally{n.f()}}return+k};d.greatest=be;d.greatestIndex=function(d){var k=1<arguments.length&&arguments[1]!==
l?arguments[1]:e;if(1===k.length)return Cc(d,k);var h=-1,t=-1,p=B(d),r;try{for(p.s();!(r=p.n()).done;){var w=r.value;++t;if(0>h?0===k(w,w):0<k(w,y)){var y=w;h=t}}}catch(L){p.e(L)}finally{p.f()}return h};d.group=Od;d.groupSort=function(d,h,l){return(2!==h.length?hb(Td(d,h,l),function(d,k){var h=r(d,2);d=h[0];h=h[1];k=r(k,2);var n=k[0];return e(h,k[1])||e(d,n)}):hb(Od(d,l),function(d,k){var n=r(d,2);d=n[0];n=n[1];k=r(k,2);var t=k[0];return h(n,k[1])||e(d,t)})).map(function(d){return r(d,1)[0]})};d.groups=
Pd;d.histogram=ae;d.index=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ta(d,Xa,Ca,e)};d.indexes=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ta(d,Array.from,Ca,e)};d.interrupt=pg;d.intersection=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];d=new Ma(d);e=e.map(bh);k=B(d);var l;try{a:for(k.s();!(l=k.n()).done;){var p=l.value,r=B(e),w;try{for(r.s();!(w=r.n()).done;)if(!w.value.has(p)){d["delete"](p);
continue a}}catch(L){r.e(L)}finally{r.f()}}}catch(L){k.e(L)}finally{k.f()}return d};d.least=function(d){var k=1<arguments.length&&arguments[1]!==l?arguments[1]:e,h=!1;if(1===k.length){var t=B(d),p;try{for(t.s();!(p=t.n()).done;){var r=p.value,w=k(r);if(h?0>e(w,u):0===e(w,w)){var y=r;var u=w;h=!0}}}catch(aa){t.e(aa)}finally{t.f()}}else{u=B(d);try{for(u.s();!(t=u.n()).done;){var x=t.value;if(h?0>k(x,y):0===k(x,x))y=x,h=!0}}catch(aa){u.e(aa)}finally{u.f()}}return y};d.leastIndex=ge;d.line=md;d.lineRadial=
Of;d.link=ic;d.linkHorizontal=function(){return ic(Rf)};d.linkRadial=function(){var d=ic(ak);d.angle=d.x;delete d.x;d.radius=d.y;delete d.y;return d};d.linkVertical=function(){return ic(Tf)};d.local=Gf;d.map=function(d,e){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof e)throw new TypeError("mapper is not a function");return Array.from(d,function(k,h){return e(k,h,d)})};d.matcher=fd;d.max=Bc;d.maxIndex=Cc;d.mean=function(d,e){var k=0,
h=0;if(e===l){d=B(d);var n;try{for(d.s();!(n=d.n()).done;){var p=n.value;null!=p&&(p=+p)>=p&&(++k,h+=p)}}catch(L){d.e(L)}finally{d.f()}}else{n=-1;p=B(d);var r;try{for(p.s();!(r=p.n()).done;){var w=r.value;null!=(w=e(w,++n,d))&&(w=+w)>=w&&(++k,h+=w)}}catch(L){p.e(L)}finally{p.f()}}if(k)return h/k};d.median=function(d,e){return nb(d,.5,e)};d.medianIndex=function(d,e){return de(d,.5,e)};d.merge=function(d){return Array.from(ee(d))};d.min=Lb;d.minIndex=Dc;d.mode=function(d,e){var k=new kb;if(e===l){d=
B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;null!=n&&n>=n&&k.set(n,(k.get(n)||0)+1)}}catch(ob){d.e(ob)}finally{d.f()}}else{h=-1;n=B(d);var p;try{for(n.s();!(p=n.n()).done;){var w=p.value;null!=(w=e(w,++h,d))&&w>=w&&k.set(w,(k.get(w)||0)+1)}}catch(ob){n.e(ob)}finally{n.f()}}d=0;k=B(k);var y;try{for(k.s();!(y=k.n()).done;){var u=r(y.value,2),x=u[0],D=u[1];if(D>d){d=D;var z=x}}}catch(ob){k.e(ob)}finally{k.f()}return z};d.namespace=wb;d.namespaces=dd;d.nice=Zd;d.pairs=function(d){var e=1<
arguments.length&&arguments[1]!==l?arguments[1]:$g,k=[],h=!1,p=B(d),r;try{for(p.s();!(r=p.n()).done;){var w=r.value;h&&k.push(e(y,w));var y=w;h=!0}}catch(L){p.e(L)}finally{p.f()}return k};d.permute=Kd;d.pie=function(){function d(d){var k,n=(d=gc(d)).length;var t=0;var v=Array(n),y=Array(n),u=+p.apply(this,arguments);var x=Math.min(Ha,Math.max(-Ha,r.apply(this,arguments)-u));var G=Math.min(Math.abs(x)/n,w.apply(this,arguments)),D=G*(0>x?-1:1),F;for(k=0;k<n;++k)0<(F=y[v[k]=k]=+e(d[k],k,d))&&(t+=F);
null!=h?v.sort(function(d,e){return h(y[d],y[e])}):null!=l&&v.sort(function(e,k){return l(d[e],d[k])});k=0;for(x=t?(x-n*D)/t:0;k<n;++k,u=z){t=v[k];F=y[t];var z=u+(0<F?F*x:0)+D;y[t]={data:d[t],index:k,value:F,startAngle:u,endAngle:z,padAngle:G}}return y}var e=Zj,h=Yj,l=null,p=J(0),r=J(Ha),w=J(0);d.value=function(k){return arguments.length?(e="function"===typeof k?k:J(+k),d):e};d.sortValues=function(e){return arguments.length?(h=e,l=null,d):h};d.sort=function(e){return arguments.length?(l=e,h=null,
d):l};d.startAngle=function(e){return arguments.length?(p="function"===typeof e?e:J(+e),d):p};d.endAngle=function(e){return arguments.length?(r="function"===typeof e?e:J(+e),d):r};d.padAngle=function(e){return arguments.length?(w="function"===typeof e?e:J(+e),d):w};return d};d.pointRadial=zb;d.pointer=If;d.pointers=function(d,e){d.target&&(d=Hf(d),e===l&&(e=d.currentTarget),d=d.touches||[d]);return Array.from(d,function(d){return If(d,e)})};d.quantile=nb;d.quantileIndex=de;d.quantileSorted=ce;d.quickselect=
Mb;d.radialArea=Qf;d.radialLine=Of;d.range=fe;d.rank=function(d){var k=1<arguments.length&&arguments[1]!==l?arguments[1]:e;if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");var h=Array.from(d),t=new Float64Array(h.length);2!==k.length&&(h=h.map(k),k=e);var p=function(d,e){return k(h[d],h[e])},r,w;d=Uint32Array.from(h,function(d,e){return e});d.sort(k===e?function(d,e){return na(h[d],h[e])}:ua(p));d.forEach(function(d,e){var k=p(d,r===l?d:r);if(0<=k){if(r===l||
0<k)r=d,w=e;t[d]=w}else t[d]=NaN});return t};d.reduce=function(d,e,h){if("function"!==typeof e)throw new TypeError("reducer is not a function");var k=d[Symbol.iterator](),n=-1;if(3>arguments.length){var l=k.next();var p=l.done;h=l.value;if(p)return;++n}for(;r=k.next(),p=r.done,l=r.value,!p;){var r;h=e(h,l,++n,d)}return h};d.reverse=function(d){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(d).reverse()};d.rollup=Td;d.rollups=Ud;d.scaleBand=
Gc;d.scaleDiverging=uf;d.scaleDivergingLog=vf;d.scaleDivergingPow=cd;d.scaleDivergingSqrt=function(){return cd.apply(null,arguments).exponent(.5)};d.scaleDivergingSymlog=wf;d.scaleIdentity=Le;d.scaleImplicit=Fc;d.scaleLinear=Ke;d.scaleLog=Qe;d.scaleOrdinal=Ec;d.scalePoint=function(){return le(Gc.apply(null,arguments).paddingInner(1))};d.scalePow=Uc;d.scaleQuantile=Xe;d.scaleQuantize=Ye;d.scaleRadial=We;d.scaleSequential=qf;d.scaleSequentialLog=rf;d.scaleSequentialPow=bd;d.scaleSequentialQuantile=
tf;d.scaleSequentialSqrt=function(){return bd.apply(null,arguments).exponent(.5)};d.scaleSequentialSymlog=sf;d.scaleSqrt=function(){return Uc.apply(null,arguments).exponent(.5)};d.scaleSymlog=Te;d.scaleThreshold=Ze;d.scaleTime=function(){return oa.apply(ad(ml,nl,ya,Dd,Yb,tb,Bd,zd,Ta,yg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};d.scaleUtc=function(){return oa.apply(ad(jl,kl,za,Ed,Zb,Wb,Cd,Ad,Ta,zg).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};d.scan=function(d,e){d=ge(d,
e);return 0>d?l:d};d.select=Ff;d.selectAll=function(d){return"string"===typeof d?new fa([document.querySelectorAll(d)],[document.documentElement]):new fa([xf(d)],id)};d.selection=Va;d.selector=cc;d.selectorAll=ed;d.shuffle=Yk;d.shuffler=he;d.some=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),n;try{for(h.s();!(n=h.n()).done;)if(e(n.value,++k,d))return!0}catch(G){h.e(G)}finally{h.f()}return!1};d.sort=hb;d.stack=function(){function d(d){var k=Array.from(e.apply(this,
arguments),gk),n=k.length,t=-1,r=B(d),v;try{for(r.s();!(v=r.n()).done;){var w=v.value;var y=0;for(++t;y<n;++y)(k[y][t]=[0,+p(w,k[y].key,t,d)]).data=w}}catch(ih){r.e(ih)}finally{r.f()}y=0;for(t=gc(h(k));y<n;++y)k[t[y]].index=y;l(k,t);return k}var e=J([]),h=db,l=cb,p=fk;d.keys=function(k){return arguments.length?(e="function"===typeof k?k:J(Array.from(k)),d):e};d.value=function(e){return arguments.length?(p="function"===typeof e?e:J(+e),d):p};d.order=function(e){return arguments.length?(h=null==e?db:
"function"===typeof e?e:J(Array.from(e)),d):h};d.offset=function(e){return arguments.length?(l=null==e?cb:e,d):l};return d};d.stackOffsetDiverging=function(d,e){if(0<(w=d.length))for(var k,h=0,n,l,p,r,w,y=d[e[0]].length;h<y;++h)for(k=p=r=0;k<w;++k)0<(l=(n=d[e[k]][h])[1]-n[0])?(n[0]=p,n[1]=p+=l):0>l?(n[1]=r,n[0]=r+=l):(n[0]=0,n[1]=l)};d.stackOffsetExpand=function(d,e){if(0<(h=d.length)){for(var k,h,n=0,l=d[0].length,p;n<l;++n){for(p=k=0;k<h;++k)p+=d[k][n][1]||0;if(p)for(k=0;k<h;++k)d[k][n][1]/=p}cb(d,
e)}};d.stackOffsetNone=cb;d.stackOffsetSilhouette=function(d,e){if(0<(n=d.length)){for(var k=0,h=d[e[0]],n,l=h.length;k<l;++k){for(var p=0,r=0;p<n;++p)r+=d[p][k][1]||0;h[k][1]+=h[k][0]=-r/2}cb(d,e)}};d.stackOffsetWiggle=function(d,e){if(0<(p=d.length)&&0<(l=(n=d[e[0]]).length)){for(var k=0,h=1,n,l,p;h<l;++h){for(var r=0,w=0,y=0;r<p;++r){var u=d[e[r]],x=u[h][1]||0;u=(x-(u[h-1][1]||0))/2;for(var D=0;D<r;++D){var z=d[e[D]];u+=(z[h][1]||0)-(z[h-1][1]||0)}w+=x;y+=u*x}n[h-1][1]+=n[h-1][0]=k;w&&(k-=y/w)}n[h-
1][1]+=n[h-1][0]=k;cb(d,e)}};d.stackOrderAppearance=gg;d.stackOrderAscending=hg;d.stackOrderDescending=function(d){return hg(d).reverse()};d.stackOrderInsideOut=function(d){var e=d.length,k=d.map(ig),h=gg(d),l=0,p=0,r=[],w=[];for(d=0;d<e;++d){var y=h[d];l<p?(l+=k[y],r.push(y)):(p+=k[y],w.push(y))}return w.reverse().concat(r)};d.stackOrderNone=db;d.stackOrderReverse=function(d){return db(d).reverse()};d.style=Ua;d.subset=function(d,e){return je(e,d)};d.sum=function(d,e){var k=0;if(e===l){d=B(d);var h;
try{for(d.s();!(h=d.n()).done;){var n=h.value;if(n=+n)k+=n}}catch(X){d.e(X)}finally{d.f()}}else{h=-1;n=B(d);var p;try{for(n.s();!(p=n.n()).done;){var r=p.value;if(r=+e(r,++h,d))k+=r}}catch(X){n.e(X)}finally{n.f()}}return k};d.superset=je;d.symbol=function(d,e){function k(){var k;h||(h=k=n());d.apply(this,arguments).draw(h,+e.apply(this,arguments));if(k)return h=null,k+""||null}var h=null,n=xb(k);d="function"===typeof d?d:J(d||xc);e="function"===typeof e?e:J(e===l?64:+e);k.type=function(e){return arguments.length?
(d="function"===typeof e?e:J(e),k):d};k.size=function(d){return arguments.length?(e="function"===typeof d?d:J(+d),k):e};k.context=function(d){return arguments.length?(h=null==d?null:d,k):h};return k};d.symbolAsterisk=Bg;d.symbolCircle=xc;d.symbolCross=Cg;d.symbolDiamond=Eg;d.symbolDiamond2=Fg;d.symbolPlus=Gg;d.symbolSquare=Hg;d.symbolSquare2=Ig;d.symbolStar=Kg;d.symbolTimes=Jd;d.symbolTriangle=Lg;d.symbolTriangle2=Mg;d.symbolWye=Ng;d.symbolX=Jd;d.symbols=Og;d.symbolsFill=Og;d.symbolsStroke=vl;d.thresholdFreedmanDiaconis=
function(d,e,h){var k=Fb(d);d=nb(d,.75)-nb(d,.25);return k&&d?Math.ceil((h-e)/(2*d*Math.pow(k,-1/3))):1};d.thresholdScott=function(d,e,h){var k=Fb(d);d=Ld(d);return k&&d?Math.ceil((h-e)*Math.cbrt(k)/(3.49*d)):1};d.thresholdSturges=$d;d.tickFormat=Ie;d.tickIncrement=Ja;d.tickStep=Kb;d.ticks=ib;d.transition=sg;d.transpose=ie;d.union=function(){for(var d=new Ma,e=arguments.length,h=Array(e),l=0;l<e;l++)h[l]=arguments[l];for(e=0;e<h.length;e++){l=B(h[e]);var p;try{for(l.s();!(p=l.n()).done;)d.add(p.value)}catch(G){l.e(G)}finally{l.f()}}return d};
d.variance=Md;d.window=gd;d.zip=function(){return ie(arguments)};return d}({})}),E.register("price-tracker-constants",function(){return{PRICE_TRACKER_MODAL_NAME:"price-tracker",PRICE_TRACKER_DATA_STRATEGY:"preload",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP:75,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP:.3,PRICE_TRACKER_MOBILE_STYLE:"price-tracker-style",PRICE_TRACKER_BOTTOM_SHEET_NAME:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_ID:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_PARENT_ID:"price-tracker-parent",
PRICE_TRACKER_BOTTOM_SHEET_INITIAL_HEIGHT:100,PRICE_TRACKER_BOTTOM_SHEET_CLOSE_TYPE:"icon",PRICE_TRACKER_MOBILE_HEADER_ID:"price-tracker-header-mobile",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_MOBILE:95,PRICE_TRACKER_GRAPH_DIALOG_HEIGHT_LANDSCAPE_MOBILE:140,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_MOBILE:.5,PRICE_TRACKER_CLICK_ACTION_NAME:"show-price-tracker",PRICE_TRACKER_HIDDEN_AOK:"aok-hidden",PRICE_TRACKER_DEFAULT_RANGE:"30",PRICE_TRACKER_ASSETS_LOADED_STATE:"priceTracker:assetsLoaded",PRICE_TRACKER_MOBILE_MINIMUM_VIEWPORT_SIZE_OF_THE_SHORTEST_SIDE:450,
CURRENCY_SYMBOL:{USD:"$",CAD:"$",MXN:"$",BRL:"R$",CLP:"$",COP:"$",EUR:"€",INR:"₹",GBP:"£",SGD:"$",AED:"AED",SAR:"SAR",SEK:"kr",PLN:"zł",EGP:"EGP",TRY:"₺",ZAR:"R",NGN:"₦",JPY:"¥",AUD:"$",NZD:"$",CNY:"¥"},PRICE_TRACKER_IS_LOADED_EVENT_NAME:"priceTrackerIsLoaded",PRICE_TRACKER_GRID_SHOWN_EVENT_NAME:"gridIsShown",PRICE_TRACKER_GRID_ID:"price-tracker-grid",PRICE_TRACKER_FAILURE_ID:"price-tracker-failure",PRICE_TRACKER_SPINNER_ID:"price-tracker-spinner",PRICE_TRACKER_DESCRIPTION_ID:"price-tracker-description",
PRICE_TRACKER_LEGEND_COMPONENT_ID:"price-tracker-event-markers-component",PRICE_TRACKER_LEGEND_ID:"price-tracker-legend",PRICE_TRACKER_LEGEND_SVG_ID:"price-tracker-legend-svg",PRICE_TRACKER_GRAPH_ID:"price-tracker-graph-svg",PRICE_TRACKER_CONTENT_ID:"price-tracker-content",PRICE_TRACKER_X_AXIS_ID:"price-tracker-x-axis",PRICE_TRACKER_Y_AXIS_ID:"price-tracker-y-axis",PRICE_TRACKER_TOOLTIP_ID:"price-tracker-tooltip",PRICE_TRACKER_TOOLTIP_RECT_ID:"price-tracker-tooltip-rect",PRICE_TRACKER_TOOLTIP_TEXT_ID:"price-tracker-tooltip-text",
PRICE_TRACKER_TOOLTIP_LINE_ID:"price-tracker-tooltip-line",PRICE_TRACKER_LEGEND_PRICE_LINE_ID:"price-tracker-legend-price-line",PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID:"price-tracker-legend-no-data-line",PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS:"price-tracker-legend-price-label-style",PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS:"price-tracker-legend-no-data-label-style",PRICE_TRACKER_EVENT_SYMBOL_RADIUS:"4",PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED:"6",PRICE_TRACKER_SYMBOL_LEGEND_CX:"10",PRICE_TRACKER_SYMBOL_LEGEND_CY:"10",
PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY:"2,4",PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS:10,PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL:4,PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT:5,PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH:10,PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH:15,PRICE_TRACKER_EVENT_SYMBOL_CLASS:"price-tracker-event-symbol",PRICE_TRACKER_EVENT_CIRCLE:"circle",PRICE_TRACKER_EVENT_TYPE_MAP:{DEAL:{LABEL_CLASS:"price-tracker-deal-event-label-style",CSS_CLASS:"price-tracker-event-symbol pt-circle-deal",
SYMBOL_ID:"price-tracker-deal-event-symbol",GRID_ID:"price-tracker-deal-event-legend-style",LINE_STYLE:"price-tracker-deal-line"},PRIME:{LABEL_CLASS:"price-tracker-prime-event-label-style",CSS_CLASS:"price-tracker-event-symbol pt-circle-prime",SYMBOL_ID:"price-tracker-prime-event-symbol",GRID_ID:"price-tracker-prime-event-legend-style",LINE_STYLE:"price-tracker-prime-line"}},PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH:600,PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH:320,PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP:0,
PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT:10,PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT:20,PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM:30,PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING:10,PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING:20,PRICE_TRACKER_TOOLTIP_TOP_OFFSET:5,PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET:4,PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET:10,PRICE_TRACKER_X_AXIS_TEXT_OFFSET:10,PRICE_TRACKER_ANIMATION_DURATION:100,PRICE_TRACKER_TREND_LINE_STYLE:"price-tracker-trend-line",PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE:"price-tracker-no-data-line",
PRICE_TRACKER_TICK_TEXT:"tick text",PRICE_TRACKER_TICK_LINE:"tick line",PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS:"pt-xaxis-ticks-text",PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS:"pt-yaxis-ticks-text",PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS:"pt-yaxis-ticks-line",PRICE_TRACKER_PATH:"path",PRICE_TRACKER_TOUCHABLE_AREA_CLASS:"pt-blank-touchable-area",PRICE_TRACKER_TOOLTIP_STYLE_CLASS:"price-tracker-tooltip-style",PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS:"price-tracker-tooltip-line-style",PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS:"price-tracker-tooltip-rect-style",
PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS:"price-tracker-tooltip-text-style",PRICE_TRACKER_X_AXIS_STYLE_CLASS:"price-tracker-x-axis-style",PRICE_TRACKER_Y_AXIS_STYLE_CLASS:"price-tracker-y-axis-style"}}),E.when("A","jQuery","price-tracker-d3","price-tracker-constants").register("price-tracker-helper",function(x,p,h,r){function C(h){return p("#"+h)}function I(h){var e=(Math.round(100*h)/100).toFixed(2);isNaN(e)&&(e=h);return e}function E(h){var e="";if(h.text)e=h.text;else if(h.money){e=h.money.currencyCode;
var p=r.CURRENCY_SYMBOL[e];p===l&&(p=e);e=p+I(h.money.amount)}return e}function z(h){var e="";Array.isArray(h)&&x.each(h,function(h,l){e+=E(h)});return e}function H(h){return C(null!=u?h+"-"+u:h)}var u=void 0;return{getElementBasedOnID:C,parseRichContent:function(h){var e="";h&&(e=h.paragraph?z(h.paragraph.fragments):h.fragments?z(h.fragments):E(h));return e},buildRichContentFromText:function(h){var e=[];e.push({text:h});return{fragments:e}},parseAmount:I,formatEvents:function(h){return h.events.flat().map(function(e){e.type=
h.type;return e})},checkIfPointBelongsToEvent:function(h,e){return 0<h.filter(function(h){return h.startDateTick<=e.dateTick&&h.finishDateTick>=e.dateTick}).length},tooltipTransform:function(h,e,l){h.x=Math.max(e,h.x);h.x=Math.min(l-h.width,h.x);return"translate("+h.x+","+h.y+")"},clamp:function(h,e,l){return Math.min(Math.max(h,e),l)},showFailureMessage:function(){H(r.PRICE_TRACKER_FAILURE_ID).show()},hideFailureMessage:function(){H(r.PRICE_TRACKER_FAILURE_ID).hide()},hideSpinner:function(){H(r.PRICE_TRACKER_SPINNER_ID).hide()},
updateBuyingOptionIndex:function(h){u=h},getDynamicID:function(h){return null!=u?h+"-"+u:h},getElementBasedOnDynamicID:H,getD3ElementBasedOnDynamicID:function(l){return h.select("#"+(null!=u?l+"-"+u:l))},getD3ChildrenElementsBasedOnClass:function(h,e){return h.selectAll("."+e)},registerEvent:function(h,e){if(!x.isListening(h))x.on(h,e)},logError:function(h){var e=1<arguments.length&&arguments[1]!==l?arguments[1]:null;if(Q.ueLogError){var p={logLevel:"ERROR",attribution:"detail_page_price_tracker_assets",
message:h+" "};e||(e=Error("No exception is thrown."));Q.ueLogError(e,p)}}}}),E.register("price-tracker-data-helper",function(){var l={};return{setPriceTrackerIngressData:function(p){l=p},getNoDataLegendLabel:function(){return l?l.priceTrackerNoDataLegendLabel:null},getPriceLegendLabel:function(){return l?l.priceTrackerPriceLegendLabel:null},getNoDataTooltipLabel:function(){return l?l.priceTrackerNoDataTooltip:null},getRange:function(){return l&&l.priceTrackerRanges&&l.priceTrackerRanges[0]?l.priceTrackerRanges[0]:
null}}}),E.register("price-tracker-metrics",function(){return{logCountMetric:function(l){Q.ue&&Q.ue.count&&Q.ue.count(l,1)},logData:function(l,p,h){Q.ue&&Q.ue.event&&Q.ue.event(l,p,h)},startTimer:function(l){uet&&uet("bb",l,{wb:1})},stopTimer:function(l){uex&&uex("ld",l,{wb:1})},reportCriticalFeature:function(l){uet&&uet("cf",l,{wb:1})},METRIC_AJAX_CALL:"priceTracker:ajax:call",METRIC_AJAX_SUCCESS:"priceTracker:ajax:success",METRIC_AJAX_STATUS_CODE_2XX:"priceTracker:ajax:statusCode:2XX",METRIC_AJAX_STATUS_CODE_4XX:"priceTracker:ajax:statusCode:4XX",
METRIC_AJAX_STATUS_CODE_5XX:"priceTracker:ajax:statusCode:5XX",METRIC_RESPONSE_EMPTY:"priceTracker:response:empty",METRIC_DATA_RECEIVED:"priceTracker:data:received",METRIC_DATA_INVALID:"priceTracker:data:invalid",METRIC_DATA_TITLE_EMPTY:"priceTracker:data:title:empty",METRIC_DATA_CHART_EMPTY:"priceTracker:data:chart:empty",METRIC_DATA_XAXIS_EMPTY:"priceTracker:data:xAxis:empty",METRIC_DATA_YAXIS_EMPTY:"priceTracker:data:yAxis:empty",METRIC_DATA_PRICE_EMPTY:"priceTracker:data:price:empty",METRIC_DATA_EVENTS_EMPTY:"priceTracker:data:events:empty",
METRIC_DATA_XAXIS_INVALID:"priceTracker:data:xAxis:invalid",METRIC_DATA_YAXIS_INVALID:"priceTracker:data:yAxis:invalid",METRIC_DATA_PRICE_INVALID:"priceTracker:data:price:invalid",METRIC_DATA_EVENTS_INVALID:"priceTracker:data:events:invalid",METRIC_A11Y_INGRESS_DATA_INCOMPLETE:"priceTracker:a11y:ingress:data:incomplete",METRIC_MOBILE:"priceTracker:mobile",METRIC_DESKTOP:"priceTracker:desktop",METRIC_MOBILE_LANDSCAPE:"priceTracker:mobile:landscape",METRIC_MOBILE_FATAL:"priceTracker:mobile:fatal",METRIC_DESKTOP_FATAL:"priceTracker:desktop:fatal",
METRIC_LATENCY_AJAX:"priceTrackerWidgetAjax",METRIC_LATENCY_WIDGET:"priceTrackerWidget",METRIC_MOBILE_CHANGE_HEIGHT_FATAL:"priceTracker:mobile:changeHeight:fatal",METRIC_NULL_BUYING_OPTION:"priceTracker:buyingOption:null",NEXUS_PRODUCER_ID:"pricetracker",NEXUS_SCHEMA_ID:"pricetracker.PriceTracker.12"}}),E.when("price-tracker-constants","price-tracker-metrics").register("price-tracker-validator",function(l,p){function h(e,h){return u(e.max,"number")&&u(e.min,"number")?r(e.labels,h):null}function r(e,
h){return u(e,"object")&&0!==e.length?(e=e.filter(function(e){return h(e)}),0!==e.length?e:null):null}function x(e){return u(e.dateTick,"number")&&u(e.label,"object")&&u(e.value,"number")}function I(e){return u(e.dateTick,"number")&&u(e.label,"string")}function E(e){return u(e.label,"object")&&u(e.value,"number")}function z(e){return u(e.label,"string")&&u(e.type,"string")&&u(e.events,"object")}function H(e){return u(e.startDateTick,"number")&&u(e.finishDateTick,"number")&&u(e.value,"number")}function u(e,
h){switch(h){case "string":return null!==e&&("undefined"===typeof e?"undefined":U(e))===h&&0!==e.trim().length;case "object":return null!==e&&("undefined"===typeof e?"undefined":U(e))===h&&"{}"!==JSON.stringify(e);default:return null!==e&&("undefined"===typeof e?"undefined":U(e))===h}}function w(e){if(e){var h=function(){var h=[],p;for(p in l.PRICE_TRACKER_EVENT_TYPE_MAP)h.push(p);return{v:e.filter(function(e){for(var l in h)if(e.type===h[l])return e})}}();if("object"===("undefined"===typeof h?"undefined":
U(h)))return h.v}}return{validate:function(e){p.logCountMetric(p.METRIC_DATA_RECEIVED);if(u(e,"object")&&!e.code){a:{var l=e.title,C=e.chart;l||p.logCountMetric(p.METRIC_DATA_TITLE_EMPTY);C||p.logCountMetric(p.METRIC_DATA_CHART_EMPTY);if(u(l,"string")&&u(C,"object")){l=C.xAxis;var M=C.yAxis;l||p.logCountMetric(p.METRIC_DATA_XAXIS_EMPTY);M||p.logCountMetric(p.METRIC_DATA_YAXIS_EMPTY);C.series||p.logCountMetric(p.METRIC_DATA_PRICE_EMPTY);if(u(l,"object")&&u(M,"object")&&u(C.series,"object")){var N=
h(l,I),R=h(M,E);b:{var ia=C.series;if(u(ia,"object")&&0!==ia.length){for(B in ia){var S=ia[B].points,Q=r(S,x);if(!Q||Q.length!==S.length){var B=null;break b}}B=ia}else B=null}N||p.logCountMetric(p.METRIC_DATA_XAXIS_INVALID);R||p.logCountMetric(p.METRIC_DATA_YAXIS_INVALID);B||p.logCountMetric(p.METRIC_DATA_PRICE_INVALID);if(N&&R&&B){l.labels=N;M.labels=R;C.series=B;break a}}}e=null}if(e){C=e.description;if(M=e.chart.eventSeries){l=e.chart;a:if(M=r(M,z)){for(V in M)if(N=M[V].events,R=r(N,H),!R||R.length!==
N.length){var V=null;break a}V=w(M);V=0!==V.length?V:null}else V=null;l.eventSeries=V;e.chart.eventSeries||p.logCountMetric(p.METRIC_DATA_EVENTS_INVALID)}else p.logCountMetric(p.METRIC_DATA_EVENTS_EMPTY);u(C,"object")||(e.description=null);return e}}p.logCountMetric(p.METRIC_DATA_INVALID);return null}}}),E.when("A","price-tracker-constants","price-tracker-data-helper").register("price-tracker-events-legend-element-helper",function(l,p,h){return{addDynamicLegendElements:function(r,x,I,E,z,H){var u=
0,w=0;l.each(H.chart.series,function(e){u+=e.points.length});l.each(H.chart.eventSeries,function(e){p.PRICE_TRACKER_EVENT_TYPE_MAP.hasOwnProperty(e.type)&&l.each(e.events,function(e){w+=e.finishDateTick-e.startDateTick+1})});(z=h.getPriceLegendLabel())&&u>w&&(r.append("line").attr("id",p.PRICE_TRACKER_LEGEND_PRICE_LINE_ID).attr("class",p.PRICE_TRACKER_TREND_LINE_STYLE).attr("x1",x).attr("y1",I).attr("x2",x+p.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH).attr("y2",I),x+=p.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH+
p.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,r.append("text").attr("class",p.PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS).text(z).attr("x",x).attr("y",E),x+=p.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*z.length);H=H.chart.series.map(function(e){return e.points}).flat().map(function(e){return e.dateTick});H=Math.min.apply(null,H);(z=h.getNoDataLegendLabel())&&u+H-1!==h.getRange()&&(r.append("line").attr("id",p.PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID).attr("class",p.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE).attr("x1",
x).attr("y1",I).attr("x2",x+p.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH).attr("y2",I).attr("stroke-dasharray",p.PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY),x+=p.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH+p.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,r.append("text").attr("class",p.PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS).text(z).attr("x",x).attr("y",E))}}}),E.when("A","jQuery","price-tracker-constants","price-tracker-helper").register("price-tracker-ui-helper",function(l,p,h,r){function x(){return r.clamp(Math.round(Q.innerWidth/
100*h.PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP),h.PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH,h.PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH)}return{getDialogWidth:x,getDialogHeight:function(){return Math.round(x()*h.PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP)},isMobile:function(){return!1}}}),E.when("A","jQuery","a-modal","price-tracker-helper","price-tracker-constants").register("price-tracker-header-render",function(l,p,h,r,C){return{renderHeader:function(l){h.get(r.getDynamicID(C.PRICE_TRACKER_MODAL_NAME)).update({header:l})},
clearHeader:function(){h.get(r.getDynamicID(C.PRICE_TRACKER_MODAL_NAME)).update({header:""})}}}),E.when("A","jQuery","price-tracker-content-render","price-tracker-helper","price-tracker-metrics").register("price-tracker-content-handler",function(l,p,h,r,C){function x(){r.hideSpinner();r.showFailureMessage()}return{onHttpSuccess:function(l){C.logCountMetric(C.METRIC_AJAX_SUCCESS);r.hideSpinner();if(l&&l.entity&&Array.isArray(l.entity.buyingOptions)&&0<l.entity.buyingOptions.length){if((l=l.entity.buyingOptions[0].priceTracker)&&
l.metadata){var p=l.metadata["x-amzn-metrics-id"],x=Q.opts;p&&x&&C.logData({metricsId:p,customerId:x.customerId,asin:x.asin,marketId:x.marketId},C.NEXUS_PRODUCER_ID,C.NEXUS_SCHEMA_ID)}h.renderContent(l.entity)}else C.logCountMetric(C.METRIC_RESPONSE_EMPTY),r.showFailureMessage()},onHttpError:function(h,l,p){r.logError("An HTTP error occurred while fetching price data.",p);x()},onFailure:x}}),E.when("A","price-tracker-content-handler","price-tracker-constants","price-tracker-helper","price-tracker-metrics",
"price-tracker-data-helper").register("price-tracker-content-loader",function(l,p,h,r,C,E){function x(h){h&&h.http&&h.http.status&&(h=h.http.status,400<=h&&500>h?C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_4XX):500<=h&&600>h?C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_5XX):200<=h&&300>h&&C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_2XX))}return{loadPriceTracker:function(r){C.logCountMetric(C.METRIC_AJAX_CALL);if(r&&r.data&&r.data.priceTrackerAjaxURL){C.startTimer(C.METRIC_LATENCY_AJAX);E.setPriceTrackerIngressData(r.data);
var z=h.PRICE_TRACKER_DEFAULT_RANGE;r.data.priceTrackerRanges&&r.data.priceTrackerRanges[0]&&(z=r.data.priceTrackerRanges[0]);z="https://"+r.data.priceTrackerAjaxURL+z;r={Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"buyingOptions[].priceTracker(product.price-tracker/v1)"',"Accept-Language":r.data.priceTrackerLocale,"x-api-csrf-token":r.data.priceTrackerCSRFToken,"x-cc-currency-of-preference":r.data.priceTrackerCurrencyOfPreference,"X-Requested-With":null};var u=document.querySelector('meta[name\x3d"encrypted-slate-token"]');
u&&(r["x-amzn-encrypted-slate-token"]=u.content);l.ajax(z,{type:"GET",timeout:1E4,contentType:"application/x-www-form-urlencoded;charset\x3dutf-8",headers:r,withCredentials:!0,success:function(r){C.stopTimer(C.METRIC_LATENCY_AJAX);x(r);p.onHttpSuccess(r);l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)},error:function(r){C.stopTimer(C.METRIC_LATENCY_AJAX);x(r);p.onHttpError(r);l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}})}else p.onFailure(),l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}}}),
E.when("A","jQuery","price-tracker-graph-render","price-tracker-events-legend-render","price-tracker-header-render","price-tracker-description-render","price-tracker-helper","price-tracker-ui-helper","price-tracker-validator","price-tracker-constants","price-tracker-metrics").register("price-tracker-content-render",function(l,p,h,r,C,E,M,z,H,u,w){function e(e){try{x=e;var p=z.getDialogWidth(),D=z.getDialogHeight();z.isMobile()&&z.isLandscapeMode()&&!z.isTablet()&&w.logCountMetric(w.METRIC_MOBILE_LANDSCAPE);
var I=H.validate(e);if(I){var W=I.chart.eventSeries;C.renderHeader(I.title);E.renderDescription(I.description);r.renderLegend(I);h.renderChart(I.chart,W,p,D);M.getElementBasedOnDynamicID(u.PRICE_TRACKER_GRID_ID).show();l.trigger(u.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME)}else M.showFailureMessage(),M.logError("Price Tracker data is not valid.")}catch(S){z.isMobile()?w.logCountMetric(w.METRIC_MOBILE_FATAL):w.logCountMetric(w.METRIC_DESKTOP_FATAL),M.showFailureMessage(),M.logError("An error occurred while rendering Price Tracker.",
S)}}var x=void 0;return{renderContent:e,rerenderContent:function(){x&&e(x)},clearContent:function(){C.clearHeader();E.clearDescription();r.clearLegend();M.getElementBasedOnDynamicID(u.PRICE_TRACKER_GRID_ID).hide();M.hideFailureMessage();h.clearGraph()}}}),E.when("A","jQuery","price-tracker-helper","price-tracker-constants").register("price-tracker-description-render",function(l,p,h,r){return{renderDescription:function(l){l&&(l=h.parseRichContent(l))&&h.getElementBasedOnDynamicID(r.PRICE_TRACKER_DESCRIPTION_ID).text(l)},
clearDescription:function(){h.getElementBasedOnDynamicID(r.PRICE_TRACKER_DESCRIPTION_ID).text("")}}}),E.when("A","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-data-helper").register("price-tracker-graph-render",function(l,p,h,r,C){function x(e,l){return p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).attr("width",e).attr("height",l)}function E(e,l){var r=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_CONTENT_ID);r.empty()&&(r=e.append("g").attr("id",p.getDynamicID(h.PRICE_TRACKER_CONTENT_ID)));
return r.attr("transform","translate("+l.left+","+l.top+")")}function z(e,l){l&&(l=p.parseRichContent(l),p.getElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).attr("aria-label",l));e.attr("aria-hidden",!0)}function H(e){var h={};l.each(e,function(e){h[e.dateTick]=e});return h}function u(e){var h={};l.each(e.labels,function(e){h[e.dateTick]=e.label});return{values:h,tickValues:Object.keys(h),min:e.min,max:e.max}}function w(e){var h={};l.each(e.labels,function(e){h[e.value]=p.parseRichContent(e.label)});
return{values:h,tickValues:Object.keys(h),min:e.min,max:e.max}}function e(e){var h={};e&&l.each(e,function(e){h[e.type]=p.formatEvents(e)});return h}function D(e,l,u,w,x,z,D){l=r.scaleLinear().domain([w,x]).range([0,l]).clamp(!0);w=r.axisBottom(l);w.tickSize(0);x=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_X_AXIS_ID);x.empty()&&(x=e.append("g").attr("id",p.getDynamicID(h.PRICE_TRACKER_X_AXIS_ID)).attr("class",h.PRICE_TRACKER_X_AXIS_STYLE_CLASS));x=x.attr("transform","translate(0,"+u+")").call(w.ticks(D.length).tickValues(D).tickFormat(function(e){return z[e]}));
p.getD3ChildrenElementsBasedOnClass(x,h.PRICE_TRACKER_TICK_TEXT).attr("class",h.PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS).attr("y",h.PRICE_TRACKER_X_AXIS_TEXT_OFFSET);return l}function W(e,l,u,w,x,z,D){u=r.scaleLinear().domain([w,x]).range([u,0]);w=r.axisLeft(u);w.tickSize(-l);l=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_Y_AXIS_ID);l.empty()&&(l=e.append("g").attr("id",p.getDynamicID(h.PRICE_TRACKER_Y_AXIS_ID)).attr("class",h.PRICE_TRACKER_Y_AXIS_STYLE_CLASS));l=l.call(w.ticks(D.length).tickValues(D).tickFormat(function(e){return z[e]}));
p.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TICK_LINE).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS);p.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TICK_TEXT).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS);return u}function Q(e,h){return r.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)})}function N(e,h,l){return r.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)}).defined(function(e){return p.checkIfPointBelongsToEvent(l,
e)})}function R(e,l,r,u){p.getD3ChildrenElementsBasedOnClass(l,u).data(e).join(h.PRICE_TRACKER_PATH).attr("class",u).attr("d",r)}function ia(e,l,r,u,w){p.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).data(e).join("rect").attr("class",h.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).attr("x",function(e){return r(e.tick-.5)}).attr("width",function(){return r(1)}).attr("height",u).on("touchstart",function(e){return e.preventDefault()}).on("pointermove pointerdown",w.showAction).on("pointerup mouseout",
w.hideAction)}function S(e,l,u,w,x){var y=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_ID);y.empty()&&(y=u.append("g").attr("id",p.getDynamicID(h.PRICE_TRACKER_TOOLTIP_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_STYLE_CLASS));y=y.attr("opacity",0);var z=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_RECT_ID);z.empty()&&(z=y.append("rect").attr("id",p.getDynamicID(h.PRICE_TRACKER_TOOLTIP_RECT_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS));var D=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_TEXT_ID);
D.empty()&&(D=y.append("text").attr("id",p.getDynamicID(h.PRICE_TRACKER_TOOLTIP_TEXT_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS));var B=p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_LINE_ID);B.empty()&&(B=u.append("line").attr("id",p.getDynamicID(h.PRICE_TRACKER_TOOLTIP_LINE_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS));B=B.attr("opacity",0);return{tooltip:y,tooltipRect:z,tooltipText:D,tooltipLine:B,showAction:function(C,H){u.node().append(y.node());C=r.pointer(C)[0];
C=x.invert(C);var K=Object.keys(w);H=r.bisector(function(d){return d}).left;var E=H(K,C,1);H=K[E-1];E=K[E];E=C-H>E-C?E:H;C=x(E);H=Math.min.apply(null,K);K=Math.max.apply(null,K);E=w[p.clamp(E,H,K)];E=p.parseRichContent(E.label);if(0<E.length){D.text(E);var d=D.node().getComputedTextLength()+2*h.PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING;E=h.PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET;d={x:C-d/2,y:h.PRICE_TRACKER_TOOLTIP_TOP_OFFSET,width:d,height:l};D.attr("width",d.width).attr("y",h.PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING).attr("x",
d.width/2);z.attr("width",d.width);r.select(this).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED);y.attr("transform",p.tooltipTransform(d,-h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,e+h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT-h.PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET)).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",1);C=p.clamp(C,x(H),x(K));B.attr("x1",C).attr("y1",E).attr("x2",C).attr("y2",l).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",
1)}},hideAction:function(e,l){r.select(this).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS);y.transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0);B.transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0)}}}function ha(e,l,p,r,u,w){var x=[],y;for(y in e)if(e.hasOwnProperty(y)){var z=e[y],D=N(r,u,z);R(p,l,D,h.PRICE_TRACKER_EVENT_TYPE_MAP[y].LINE_STYLE);x=x.concat(z)}B(x,l,r,u,w)}function B(e,l,r,u,w){e=
e.map(function(e){return{tick:e.startDateTick,value:e.value,type:e.type}});p.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_EVENT_SYMBOL_CLASS).data(e).join(h.PRICE_TRACKER_EVENT_CIRCLE).attr("class",function(e){return h.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("cx",function(e){return r(e.tick)}).attr("cy",function(e){return u(e.value)}).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).on("touchstart",function(e){return e.preventDefault()}).on("pointermove",w.showAction).on("pointerup mouseout",
w.hideAction)}function V(e,l,p,r,u){var w=[];if(1<e.length)for(var x=0;x<e.length-1;x++){var y=e[x].reduce(function(e,h){return e.dateTick>h.dateTick?e:h}),z=e[x+1].reduce(function(e,h){return e.dateTick<h.dateTick?e:h});w.push(U(y,z,r,u))}R(w,l,p,h.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE)}function U(e,h,l,r){var u=p.buildRichContentFromText(C.getNoDataTooltipLabel()),w=(h.value-e.value)/(h.dateTick-e.dateTick),x=e.value,y=[e];for(e=e.dateTick+1;e<h.dateTick;++e){x+=w;var z={dateTick:e,label:u,value:x};
y.push(z);l.push({tick:e,value:x});r[e]=z}y.push(h);return y}function Ib(e){var p=r.select("body").append("svg").attr("width",0).attr("height",0).style("position","absolute"),u=0;l.each(e,function(e){p.append("text").attr("x",0).attr("y",0).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).text(e);e=p.select("."+h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).node().getComputedTextLength();e>u&&(u=e);p.select("."+h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).remove()});p.remove();return u}return{renderChart:function(l,
p,r,B){var y=u(l.xAxis),C=w(l.yAxis),I=Ib(C.values),N={top:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP,right:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,bottom:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM,left:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT+I},M=r-N.left-N.right;I=B-N.top-N.bottom;r=x(r,B);r=E(r,N);B=l.series.map(function(e){return e.points});if(0<B.length){var O=B.flat().sort(function(e,h){return e.dateTick-h.dateTick});N=H(O);O=O.map(function(e){return{tick:e.dateTick,value:e.value}});p=e(p);
y=D(r,M,I,y.min,y.max,y.values,y.tickValues);C=W(r,M,I,C.min,C.max,C.values,C.tickValues);var U=Q(y,C);R(B,r,U,h.PRICE_TRACKER_TREND_LINE_STYLE);V(B,r,U,O,N);M=S(M,I,r,N,y);ha(p,r,B,y,C,M);ia(O,r,y,I,M)}z(r,l.textualRepresentation)},clearGraph:function(){p.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).selectAll("*").remove()}}}),E.when("A","jQuery","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-events-legend-element-helper").register("price-tracker-events-legend-render",
function(l,p,h,r,C,E){function x(h,l){h.append(r.PRICE_TRACKER_EVENT_CIRCLE).attr("id",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].SYMBOL_ID}).attr("class",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("r",r.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).attr("cx",r.PRICE_TRACKER_SYMBOL_LEGEND_CX).attr("cy",r.PRICE_TRACKER_SYMBOL_LEGEND_CY).attr("x",l);return l+=parseInt(r.PRICE_TRACKER_SYMBOL_LEGEND_CX)+parseInt(r.PRICE_TRACKER_EVENT_SYMBOL_RADIUS)+r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL}
function z(h,l,e,p){h.append("text").attr("class",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].LABEL_CLASS}).text(function(e){return e.label}).attr("x",l).attr("y",e);return l+=r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*p}function H(h,l,e){var p=r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS,u=l.nodes();l.attr("transform",function(h,l){return"translate("+(C.sum(e,function(e,h){return h<l?u[h].getBBox().width:0})+p*l)+",0)"});h.attr("height",u[0].getBBox().height);h.attr("width",u.reduce(function(e,
h){return e+h.getBBox().width},0)+p*u.length)}return{renderLegend:function(p){p&&p.chart&&p.chart.eventSeries&&function(){var u=p.chart.eventSeries,e=h.getDynamicID(r.PRICE_TRACKER_LEGEND_ID);0===h.getElementBasedOnID(e).length&&function(){var w=h.getD3ElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_COMPONENT_ID).append("svg").attr("id",h.getDynamicID(r.PRICE_TRACKER_LEGEND_SVG_ID)),C=w.append("g").attr("id",e).selectAll("g").data(u).enter().append("g"),I=0;l.each(u,function(e){I+=e.label.length});
var N=0,M=parseInt(r.PRICE_TRACKER_SYMBOL_LEGEND_CY),Q=M+r.PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT;N=x(C,N);N=z(C,N,Q,I);E.addDynamicLegendElements(C,N,M,Q,u,p);l.on(r.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME,function(){H(w,C,u)});h.getElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_SVG_ID).attr("aria-hidden",!0)}()}()},clearLegend:function(){h.getD3ElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_COMPONENT_ID).selectAll("*").remove()}}}))});E.when("A","price-tracker-content-render","price-tracker-content-loader",
"price-tracker-helper","price-tracker-constants","price-tracker-metrics","price-tracker-latency-metrics").register("price-tracker-event-handler",function(l,x,p,h,r,C,I){function M(p){l.on(l.constants.BROWSER_EVENTS.RESIZE,z);h.registerEvent("a:popover:invisible:"+p,function(){l.off(l.constants.BROWSER_EVENTS.RESIZE,z);l.off(r.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME);x.clearContent()});h.registerEvent(r.PRICE_TRACKER_IS_LOADED_EVENT_NAME,function(){C.stopTimer(I.METRIC_LATENCY_WIDGET)})}E.declare(r.PRICE_TRACKER_ASSETS_LOADED_STATE,
{isPriceTrackerAssetsLoaded:!0});var z=function(){x.rerenderContent()};return{renderPriceTracker:function(l){try{l&&l.data&&null!=l.data.buyingOptionIndex&&h.updateBuyingOptionIndex(l.data.buyingOptionIndex);var u=h.getDynamicID(r.PRICE_TRACKER_MODAL_NAME);M(u);p.loadPriceTracker(l)}catch(w){C.logCountMetric(C.METRIC_DESKTOP_FATAL),h.hideSpinner(),h.showFailureMessage(),C.stopTimer(I.METRIC_LATENCY_WIDGET),h.logError("An error occurred while loading Price Tracker on a desktop client.",w)}}}})});