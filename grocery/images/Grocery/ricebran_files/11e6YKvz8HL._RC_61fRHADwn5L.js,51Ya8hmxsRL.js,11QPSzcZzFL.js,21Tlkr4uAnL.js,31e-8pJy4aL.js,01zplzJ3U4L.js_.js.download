(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(K){var u=window.AmazonUIPageJS||window.P,aa=u._namespace||u.attributeErrors,T=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):u;T.guardFatal?T.guardFatal(K)(T,window):T.execute(function(){K(T,window)})})(function(K,u,aa){K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,a,f,Q,m,M,F){function J(c,b,r,h,p){if(!f.isjQueryObjDefined(c.find(".a-button-selected"))){var N=
E.getCurrentItem();if(!h||"chromeless-video"!==N.type||!g.autoplayVideo){h=0;"image"===N.type&&(h=Math.max(f.getIndexForVariant(N.color,N.variant,g),0));var d=0;f.isDefined(g.heroImage[N.color])&&(d=g.heroImage[N.color].length);p=h-(b>=g.maxAlts?g.maxAlts-p-d:0);b=0<=p?b+p:h+d;b>=r&&(h=0,b=d);r=f.getImageHash(N.color,h,g);-1!==r&&(O.dispatch("updateModel",{data:{index:h,thumbnailIndex:b,variant:r.variant,type:"image",shoppableScene:r.shoppableScene}}),r=c.find(".item").get(b),f.selectGivenThumbnail(a(r),
c))}}}function I(a){if(!g.useChildVideos)return f.lazyLoadingRequired(E.getCurrentItem(),E,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var b=g.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(c.success=function(b){videosOnTwisterRefresh(b)},Q.load(VIDEO_AJAX_ENDPOINT,c));return g.colorToVideo&&g.colorToVideo[a]}}function v(h,
b,r){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&r)return h;var p=I(b),e=f.isDefined(p)&&0<p.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];p=h;var y=0;f.isDefined(b)&&(a.each(b,function(d,b){if(y>=g.maxAlts-e&&h<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var q=a(".thumbItemUnrolled");q[h]?q[h].querySelector("img").src=b.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(h+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(h+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(h+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:d,thumbnailIndex:h,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,c,"imageThumbnail");h++}y++}),M.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(a,M,E),J(c,p,h,r,e));return h}function D(a,b){g.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function C(c,b){if("image"===c.type){var h=a("#image-canvas-caption #canvasCaption"),p=g.staticStrings,e=g.colorImages,y=c.color,d=c.index;if(f.isShoppableScenesEnabled()&&c.shoppableScene)var q=p.clickSceneTagsToShopProducts;else b&&
g.useIV?q=p.clickToExpand:e[y]&&e[y][d].hiRes&&g.useHoverZoom?(q=g.useHoverZoomIpad?p.touchToZoom:g.useClickZoom?p.clickToZoom:p.rollOverToZoom,g.hoverZoomIndicator&&(q="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+q)):g.useIV&&(q=p.clickToExpand);h.html(q)}}function G(c,b){var h="a-dynamic-image";if(!g.acEnabled){var p;a.each(c.main,function(b,d){f.isDefined(p)||(p=parseFloat(d[1]/d[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=p}var e=f.getMaxDimensionsOfMainImage(c.main,
A,g),y=e[0],d=e[1];e=a("\x3cdiv\x3e\x3c/div\x3e");y={"max-height":y,"max-width":d};e.addClass(h).css(y).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return e}function t(a,b,f){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",c,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+a);f=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
f.addClass("celwidget").attr("cel_widget_id",c);f.children("span").css("display","inline-block");O.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),$viewProductsButton:f.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(f,c){f.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),c.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return f}function w(a,b,c){c=G(a,c);a=f.isShoppableScenesEnabled()&&a.shoppableScene?t(b,a,c):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(c);p.find(".list").append(a);n.loadImageManually(c);return a}function L(a){var b=A.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function S(c,
b,h,e){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||e||"unavailable"===c.type){if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){h=f.getImageHash(c.color,c.index,g);if(-1===h)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(c,E,g)||(O.dispatch("updateModel",b),f.showUnavailable(c.color)),-1;e=p.find(".item.itemNo"+c.thumbnailIndex);f.isjQueryObjDefined(e)||(e=w(h,c.thumbnailIndex,b));L(e);O.dispatch("loadMagnifier");
C(c);D(e,h);n.trigger("dp:image-block:update",h)}}else{c=g.colorImages&&g.colorImages[h];b=a(".unrolledImg");h=I(h);var y=f.isDefined(h)&&0<h.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(b){b>=g.maxAlts&&a(this).remove()});f.isDefined(c)&&a.each(c,function(b,d){b<g.maxAlts-y+g.additionalNumberOfImageAlts&&b>=g.maxAlts-y&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+y+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(b+y)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+y)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function k(c){var b=E.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=c);c={type:"updatedData",data:E.getCurrentItem()};O.dispatch("updateView",c);(b=g.colorToAsin[b])&&b.asin&&K.register(f.rankedImagesReadyEvent(b.asin))}function e(){var c=p.find(".item .imgTagWrapper"),b=f.getContainerHeight(A,g.holderRatio,g.holderMaxHeight);
0<b&&(A.height(b),c.height(b));p.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var c=b.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,A,g);b.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function h(c){C(E.getCurrentItem(),"mouseenter"===c.type)}var y,g,E,O,c,p,A,V;return function(m,b,r,t){y=this;g=m;E=b;O=t;n.on("triggerImageAjax",k);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];y.render=function(b,
h,d,q,P,l,B){p=d;c=q;A=P;V=v(h,b,l);l||(h=E.getCurrentItem(),f.lazyLoadingRequired(h,E,g)&&O.dispatch("updateModel",{data:{type:"lazy-loaded"}}));h=E.getCurrentItem();d=!l;f.lazyLoadingRequired(h,E,g)||(a("#imageBlock").css("opacity","1"),p.css("opacity","1"),f.spinner(p,!1),p.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&p.find(".list .item").remove());S(E.getCurrentItem(),B,b,l);return V};y.update=function(b){};g.overrideAltImageClickAction&&
f.addTag("clickEnabledOnAltImages");O.register("imageHover",h);O.register("resize",e)}});"use strict";K.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,a,f){var u,m,M,F;return function(a,Q,v,D){u=this;m=a;M=D;u.render=function(a,v,t,w,D,S,k){F=w;u=this;t=m.maxAlts;w=v;D=m.colorImages[a]?m.colorImages[a].length:0;D+=f.getVideosCount(a,m);a=m.heroImage[a];S=0;a&&(S=a.length);a=D+S;a>t&&(t=a-t,a=F.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
t+="+",w={type:"ingress",index:0,thumbnailIndex:v,variant:""},a.find("#altIngressText").append(t),n.declarative.create(a,"thumb-action",w),F.append(a),w=v++);return w};u.update=function(a){"ingress"===a.data.type&&"click"===a.type&&M.dispatch("imageClick",a)}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,a,f,u){function m(h,e,g,k){if(!f.isjQueryObjDefined(h.find(".a-button-selected"))){var y=w.getCurrentItem();if(!k||"chromeless-video"!==
y.type||!t.autoplayVideo){k=0;if("hero-image"===y.type){k=F(y.color,y.variant);if(-1===k)return;k=-1!==k?k:0}var c=e+k;c>=g&&(k=0,c=e);e=u.getHeroImageHash(t,y.color,k);-1!==e&&(L.dispatch("updateModel",{data:{index:k,thumbnailIndex:c,variant:e.variant,type:"hero-image"}}),e=h.find(".item").get(c),f.selectGivenThumbnail(a(e),h))}}}function Q(h,e,g){if("hero-video"===w.getCurrentItem().type)return h;e=t.heroImage&&t.heroImage[e];var k=h;f.isDefined(e)&&(a.each(e,function(a,c){h<t.maxAlts&&(f.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:h,variant:c.variant},c.thumb,S,"imageThumbnail"),h++)}),m(S,k,h,g));return h}function F(h,e){var g=t.heroImage;if(1>g.length||!f.isDefined(g[h])||!f.isDefined(e))return-1;var k=-1;a.each(g[h],function(a,c){c.variant===e&&(k=a)});return k}function J(){if(k.length&&t.repositionHeroImage){var a=u.getHeroDimParams(t,w.getCurrentItem());if(f.isDefined(a)){var e=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";k.css({"background-position":e,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function I(a,e,g,m){if(k.length&&a&&e){if("function"===typeof g||m){var h=new Image;h.onload=m?function(){k.css("background-image",'url("'+a+'")')}:g;h.src=a}g=e[1];h=e[0];m||k.css({"background-image":'url("'+a+'")'});if(t.repositionHeroImage&&(e=u.getHeroDimParams(t,w.getCurrentItem(),e),f.isDefined(e))){g=e.width;h=e.height;var c=f.isDefined(e.xPos)?e.xPos+"px "+e.yPos+"px ":"center "+e.yPos+
"px "}k.css({"background-position":c,"background-size":g+"px "+h+"px ","max-width":g+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function v(f,e,g,k){f=u.getHeroImageHash(t,f,e);if(-1===f)return-1;e=a.map(f.main,function(a,c){return c})[0];I(e,f.main[e],g,k)}function D(a,f,e){if("hero-image"!==a.type)return-1;var g=F(a.color,w.getCurrentItem().variant);g=-1!==g?g:0;if(-1===u.getHeroImageHash(t,a.color,g))return-1;var h=w.getCurrentItem();a.thumbnailIndex=h.thumbnailIndex;a.type=h.type;
a.variant=h.variant;a.index=g;C(a,f,e)}function C(a,f,g){var h=u.getHeroImageHash(t,a.color,a.index);var m=a&&e&&n.equals(a,e)?!0:!1;e||(e=a);if(!m&&a||f)v(a.color,a.index,f,g),e=a;k.removeClass("hide-background");n.trigger("dp:image-block:update",h)}var G,t,w,L,S,k,e={};return function(e,m,g,n){G=this;t=e;w=m;L=n;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];G.render=function(f,c,e,g,h,m,b){S=g;k=a("#heroImage");f=Q(c,f,m);D(w.getCurrentItem(),b,m);return f};G.update=function(a){var c=
a.data;"ingress"!==c.type&&k.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=w.getCurrentItem().type,-1!==D(c)&&(a.captured=!0)):"hero-image"===c.type&&(C(c),"click"!==a.type&&t.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,S))};L.register("resize",J)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,a,f,Q,m,M){function F(a){S?a.css("cursor","url('"+C.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function J(a){var e=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(e)){e=e[1].split("_");for(var h=0;h<e.length;h++){var k=e[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(k)&&(a[k[1]]=parseInt(k[2],10))}}return a}function I(k,e){function h(){if(e.useClickZoom){var a=e.offsetInClickZoom;a=[Math.min(1,Math.max(0,H[0]-(z[0]+a))/(z[2]-2*a)),Math.min(1,Math.max(0,H[1]-(z[1]+a))/
(z[3]-2*a))]}else a=r&&r.updatePosition();if(a&&b&&b.detailSize){var d=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];n.capabilities.rtl?b.detailImage.get(0).style.right=-(a[0]*d[0])+"px":b.detailImage.get(0).style.left=-(a[0]*d[0])+"px";b.detailImage.get(0).style.top=-(a[1]*d[1])+"px"}}function y(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(b){var d=B?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";H=B?[d.pageX,d.pageY]:[b.pageX,b.pageY];
if(n.capabilities.rtl){var c=a(u).width();H=B?[c-d.pageX,d.pageY]:[c-b.pageX,b.pageY]}}function t(a){B&&a.preventDefault();g(a);e.useClickZoom?a=[z[0],z[1],z[0]+z[2],z[1]+z[3]]:(a=r?r.offset:k.offsetParent().offset(),a=C.acEnabled?[a.left,a.top,w.width()+a.left,w.height()+a.top]:[x[0]+a.left,x[1]+a.top,x[0]+x[2]+a.left,x[1]+x[3]+a.top]);H[0]<a[0]||H[1]<a[1]||H[0]>=a[2]||H[1]>=a[3]||C.acEnabled&&!y(k)?(e.fadeMagnifier?Z||(Z=!0,G=setTimeout(function(){v(!0)},500)):e.useClickZoom||v(),I&&(I=!1,clearTimeout(L))):
(I||(I=!0,L=setTimeout(function(){Q.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&M.logHoverZoomRequestServed(m)},1E3)),e.fadeMagnifier&&Z&&(Z=!1,clearTimeout(G)),h())}function v(d){d&&A.suppressMagnifier(!0);if(q&&(b&&b.hide(),r&&(r.destroy(),r=null),q=!1,B?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),p(),d))k.one("click.magnifier touchstart.magnifier",
function(a){c(a,!0)})}function c(d,c){c&&A.suppressMagnifier(!1);if(!q&&!P&&(0===U&&(Q.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),U=1),da[l]||(Q.postCountMetric("dppc_hoverMain"),da[l]=1),x=[k.position().left,k.position().top,k.width(),k.height()],l&&(g(d),b?b.refit().show():b=new W,e.useClickZoom||(r=r||new R),z=b.getWindowSize(),h()),q=!0,B?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",t).bind("touchend.magnifier",v),a(document).trigger("engaged.magnifier")):
(C.acEnabled?w.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",t)),c&&(d=a("#zoomWindow"),0<d.length)))d.one("click.magnifier touchend.magnifier",function(a){v(!0)})}function p(){e.useHoverZoom&&(B?k.bind("touchstart.magnifier touchmove.magnifier",c):C.acEnabled?y(k)&&w.bind("mousemove.magnifier",c):k.bind("mousemove.magnifier",c))}var A=this,w=k.offsetParent(),D={detailImageUrl:k.attr("data-old-hires"),location:"over",
locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=a.extend(D,e);e.adjustment=[10,0,-10,0];var b=null,r=null,H=null,x=null,z=null,d={"null":1,"":1,undefined:1},q=!1,P=!1,l=e.detailImageUrl,B=e.useHoverZoomIpad||0,U=0,da={},R=function(){function d(a){var d=Math.round(Math.min(k.width(),b.rect.width/a));a=Math.round(Math.min(k.height(),b.rect.height/a));g.css({width:d,height:a});q=[d,a]}var c=this,q=[0,0],l=(b.detailSize&&b.detailSize[0]||5E8)/x[2],f=(b.detailSize&&b.detailSize[1]||
5E8)/x[3];l=f>l?f:l;a("#magnifierLens").remove();var g=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});e.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")"});C.showMagnifierOnHover?F(g):g.css("cursor","pointer");c.updatePosition=function(){var a=[x[2]-q[0],x[3]-q[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(H[0]-q[0]/2-x[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(H[1]-q[1]/2-x[1]-c.offset.top)/a[1])),l=x[0]+
Math.round(b*a[0]);a=x[1]+Math.round(d*a[1]);g.get(0).style.left=l+"px";g.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){g.remove()};c.offset=k.offsetParent().offset();d(l);c.updatePosition();g.appendTo(k.parent());b.detailImage[0].complete||b.detailImage.load(function(){var a=b.detailImage.width()/x[2];d(a);c.updatePosition()})};R.preload=function(){A.preload(e.generalImageUrls.lensBackgroundUrl)};var W=function(){function b(){var b={};if("over"===e.location){b=e.useClickZoom;var d={},
l=a("#leftCol"),g=a("#centerCol"),P=a("#rightCol"),p=a("#hover-zoom-end"),h=a("#actionPanelContainer"),R=f.isjQueryObjDefined(l)?l.outerHeight():g.outerHeight();d.top=f.isjQueryObjDefined(l)?l.offset().top:g.offset().top;d.bottom=R+d.top;d.right=f.isjQueryObjDefined(P)?P.offset().left:h.offset().left;d.left=b?0:l.offset().left+l.outerWidth();f.isjQueryObjDefined(p)&&p.offset().top>d.bottom&&(d.bottom=p.offset().top);b=d}else"right"===e.location&&(b=k.offset(),b={left:b.left+k.outerWidth(),top:b.top,
right:b.left+k.outerWidth()+400,bottom:b.top+400});e.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(e.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,a(u).scrollTop()+a(u).height());b.left+=q[0];b.top+=q[1];b.right+=q[2];b.bottom+=q[3];b.width=b.right-b.left;b.height=b.bottom-b.top;e.enhancedHoverOverlay&&f.isDefined(u.pageXOffset)&&(d=a(u).width(),b.width=d-b.left+u.pageXOffset-18,b.height-=14);B.css({left:b.left,top:b.top,width:b.width,height:b.height});c.rect=b;return c}function d(b){var a=
new Image;c.detailSize=[0,0];a.onload=function(){c.detailSize=[a.width,a.height];h()};a.src=b.attr("src");if(0<a.width&&0<a.height)c.detailSize=[a.width,a.height];else if(e.detailImageSize)c.detailSize=e.detailImageSize;else{b=J(a.src);var d=x[2]/x[3];b.SS||b.AA?(b=b.SS||b.AA,c.detailSize=[b,b]):b.SX?c.detailSize=[b.SX,Math.round(b.SX/d)]:b.SY?c.detailSize=[Math.round(b.SY*d),b.SY]:b.SL&&(c.detailSize=1<=d?[b.SL,Math.round(b.SL/d)]:[Math.round(b.SL*d),b.SL])}}var c=this,q=e.adjustment;a("#zoomWindow").remove();
var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var B=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);e.fadeMagnifier&&B.fadeIn(200);e.useClickZoom&&(S?B.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(B.css("cursor","-webkit-zoom-out"),B.css("cursor","-moz-zoom-out"),B.css("cursor","zoom-out")));c.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+
b+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();B.append(b);a(document).trigger("updated.magnifier");c.detailImage=b;d(c.detailImage)};c.refit=function(){b();d(c.detailImage);return c};e.fadeMagnifier?(c.show=function(){B.fadeIn(200);return c},c.hide=function(){B.fadeOut(200);return c}):(c.show=function(){B.show();return c},c.hide=function(){B.hide();return c});c.destroy=function(){B.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,
c.rect.height]};c.updateImage(l);b();B.appendTo(document.body)},Z=!1,G,I=!1,L;A.preload=function(b){b=a.makeArray(b);for(var c=b.length,l=0;l<c;l++)b[l]instanceof Array?A.preload(b[l]):"string"===typeof b[l]&&b[l]&&!d[b[l]]&&(d[b[l]]=new Image,d[b[l]].src=b[l])};A.changeImage=function(d,c){q&&v();l=c;k.attr("src",d);A.preload(d);x=[k.position().left,k.position().top,k.width(),k.height()];c&&("immediately"===e.preload?A.preload(c,!0):a(u).ready(function(){A.preload(c)}),b?b.updateImage(c):k.attr("data-old-hires",
c))};A.destroy=function(){C.acEnabled?w.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");r&&r.destroy();r=null;b&&b.destroy();b=null};A.detailImage=function(){return b.detailImage};A.suppressMagnifier=function(b){P=b};A.isEngaged=function(){return q};A.engageMagnifier=c;A.disengageMagnifier=v;k[0].complete?p():k.one("load",p);A.preload(k.attr("src"));
u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(e.preload){var K=e.detailImageUrl;D=function(){A.preload(K,!0);e.useClickZoom||R.preload()};var X=e.preload;X.constructor!==Array&&(X=[X]);for(var ba=0;ba<X.length;ba++)if("immediately"===X[ba])D();else if(a(u)[X[ba]])a(u)[X[ba]](D);else a(u).bind(X[ba],D)}return A}function v(){if(C.useHoverZoom){var k={adjustment:[0,0,1,1],generalImageUrls:C.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:C.useHoverZoomIpad,useHoverZoom:C.useHoverZoom,useClickZoom:C.useClickZoom,fadeMagnifier:C.fadeMagnifier,zoomOutIcon:C.staticImages.zoomOutCur,enhancedHoverOverlay:C.enhancedHoverOverlay||C.atfEnhancedHoverOverlay};w&&(w.destroy(),w=aa);var e=L.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(e)?C.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){w=
new I(e,k);w.engageMagnifier(a,!0)}),S?e.css("cursor",'url("'+C.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):w=new I(e,k):m.isEnabled&&M.logHoverZoomApplicability(a,m)}}var D,C,G,t,w,L,S=navigator.userAgent.match(/msie|trident/i);return function(a,f,h,n){D=this;C=a;G=f;m.refToModel=G;t=n;D.render=function(a,f,e,c,p,h){L=e;w&&(w.destroy(),w=aa)};D.update=function(a){};t.register("loadMagnifier",v);t.register("resize",
v)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,a,f,Q){function m(a,m,n){a=(a=n?n:f.getColorFromState(m.getState().hovered_variations,J))&&""!==a?a:J.defaultColor;v.dispatch("updateView",{type:"swatchHover",data:{color:a}});Q.postCountMetric("swatchHover")}function M(a,m,n,t){a=(a=t?t:f.getColorFromState(m.getState().selected_variations,J))&&""!==a?a:J.defaultColor;a===I.getCurrentItem().color?"function"===typeof n&&n():(v.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",a);n()}}),Q.postCountMetric("swatchClick"))}var F,J,I,v;return function(a,f,u,t){F=this;J=a;I=f;v=t;n.on("image-block-twister-swatch-hover",m);n.on("image-block-twister-swatch-click",M);F.render=function(a,f,m,k,e){};F.update=function(a){}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,a,f,Q,m,M,F){function J(b,d,q,e){if(!f.isjQueryObjDefined(b.find(".a-button-selected"))){var l=p.getCurrentItem();if(!e||"chromeless-video"!==l.type||!c.autoplayVideo)if(e=0,"image"===l.type&&(e=Math.max(C(l.color,l.variant),0)),!(l.thumbnailIndex>=c.maxAlts&&0!=e)){var g=d+e;g>=q&&(e=0,g=d);d=f.getImageHash(l.color,e,c);-1!==d&&(A.dispatch("updateModel",{data:{index:e,thumbnailIndex:g,variant:d.variant,type:"image",
shoppableScene:d.shoppableScene}}),d=b.find(".item").get(g),f.selectGivenThumbnail(a(d),b))}}}function I(d,q,e){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&e)return d;var l=c.colorImages&&c.colorImages[q];q=d;2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=l.length||b>=c.maxAlts)&&a(this).remove()});f.isDefined(l)&&(a.each(l,function(q,e){if(d<c.maxAlts)if(2===
c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){d++;var g=a(".thumbItemUnrolled");g[q]?g[q].querySelector("img").src=e.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+q+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else q={type:"image",index:q,thumbnailIndex:d,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(q,e.thumb,b,"imageThumbnail"),c.collapsibleThumbnails&&f.updateImageThumbnailOverlay(e,q,l),d++}),M.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(a,M,p),J(b,q,d,e));return d}function v(b,a){c.useIV&&f.isDefined(a.hiRes)&&
b.css("cursor","pointer")}function D(b,d){if("image"===b.type){var q=a("#image-canvas-caption #canvasCaption"),l=c.staticStrings,e=c.colorImages,g=b.color,P=b.index;if(f.isShoppableScenesEnabled()&&b.shoppableScene)var B=l.clickSceneTagsToShopProducts;else d&&c.useIV?B=l.clickToExpand:e[g]&&e[g][P].hiRes&&c.useHoverZoom?(B=c.useHoverZoomIpad?l.touchToZoom:c.useClickZoom?l.clickToZoom:l.rollOverToZoom,c.hoverZoomIndicator&&(B="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+B)):c.useIV&&
(B=l.clickToExpand);q.html(B)}}function C(b,a){return f.getIndexForVariant(b,a,c)}function G(b,a,d){var l=a.thumbnailIndex,f=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a="altImageHover"===d&&x&&x.altImageIdx===l&&x.asin===f&&"swatchClick"===x.event?!0:"swatchHover"===d?x&&x.asin===f&&x.event===d:x&&x.altImageIdx===l&&x.asin===f&&x.event===d;if(!a){var e="#",g=b.find(".imgTagWrapper img").get(0);g&&(e=g.src);b=new Image;b.onload=function(){if(g){g.src=e;var b=g.width,a=g.height,c=g.naturalWidth,
p=g.naturalHeight;try{var B=(Math.abs(b/c*p-a)/a).toFixed(2);.01<B&&(u.ue&&((("landing"!==d||q||P)&&"swatchClick"!==d||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===d||"swatchClick"===d)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==d||P?"altImageHover"!==d||q||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),q=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),P=!0)),u.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
u.ueLogError("swatchHover"===d?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" Event:"+d+" Diff:"+B.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+l+" Event:"+d+" Diff:"+B.toString()+"]"},b)))}catch(ba){u.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(ba,b))}}};"#"!==e&&(b.src=e);x.altImageIdx=l;x.asin=f;x.event=d}}function t(b,d){var q="a-dynamic-image";if(!c.acEnabled){var l;
a.each(b.main,function(b,a){f.isDefined(l)||(l=parseFloat(a[1]/a[0])<=parseFloat(c.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});q+=l}var e=f.getMaxDimensionsOfMainImage(b.main,H,c),g=e[0],P=e[1];e=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":P};e.addClass(q).css(g).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",b.main);return e}function w(b,a,d){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&
uet("bb",c,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+b);d=r.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.addClass("celwidget").attr("cel_widget_id",c);d.children("span").css("display","inline-block");A.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});
"MutationObserver"in u&&(new MutationObserver(function(d,c){d.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),c.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return d}function L(b,a,d){d=t(b,d);b=f.isShoppableScenesEnabled()&&b.shoppableScene?w(a,b,d):r.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");b.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});b.find(".placeHolder").replaceWith(d);r.find(".list").append(b);
n.loadImageManually(d);n.trigger("dp:image-block:imageBlockImageLoad",a);return b}function S(b){var a=H.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");c.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}function k(b){if(b.isUserGenerated){var a=p.getPreviousItem(),d=b.variant;f.isDefined(d)&&a.thumbnailIndex!==b.thumbnailIndex&&(M.isEnabled&&F.logAltImgRequestServed(M),m.postCountMetric("ImageThumbnailSelectedVariant:"+d),0===
d.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+d),m.postCountMetric("IGImageSelectedEvent:"+b.interaction)))}}function e(b,d,e,g){if(2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||g||"unavailable"===b.type){if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(l=f.isDefined(d))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");e=f.getImageHash(b.color,b.index,c);if(-1===e)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
f.lazyLoadingRequired(b,p,c)||(A.dispatch("updateModel",d),f.showUnavailable(b.color)),-1;g=r.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(g)||(g=L(e,b.thumbnailIndex,d),l?(P=q=!1,G(g,b,"swatchClick")):G(g,b,"altImageHover"));S(g);A.dispatch("loadMagnifier");D(b);v(g,e);k(b);n.trigger("dp:image-block:update",e)}}else if(b=c.colorImages&&c.colorImages[e],a(".unrolledImg").each(function(b){a(this).remove()}),f.isDefined(b)){a.each(b,function(b,d){if(b<c.maxAlts){var q=a(".unrolledImg");
q[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=q.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var l=f.isDefined(d);l&&(m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d())}}function h(b){var d=Math.max(C(b.color,p.getCurrentItem().variant),0);d=f.getImageHash(b.color,d,c);if(-1===d)return f.lazyLoadingRequired(b,p,c)||f.showUnavailable(b.color),-1;var a=r.find(".swatchHoverExp"),q=t(d);a.find(".imgTagWrapper").html(q);n.loadImageManually(q);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");S(a);G(a,b,"swatchHover");n.trigger("dp:image-block:update",d)}function y(b,d){f.lazyLoadingRequired(b,p,c)||(a("#imageBlock").css("opacity","1"),r.css("opacity","1"),
f.spinner(r,!1),r.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&r.find(".list .item").remove())}function g(){var b=r.find(".item .imgTagWrapper"),d=f.getContainerHeight(H,c.holderRatio,c.holderMaxHeight);0<d&&(H.height(d),b.height(d));r.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var d=b.data("a-dynamic-image");d=f.getMaxDimensionsOfMainImage(d,H,c);b.css({"max-height":d[0]+
"px","max-width":d[1]+"px"})})}function E(b){D(p.getCurrentItem(),"mouseenter"===b.type)}var O,c,p,A,V,N,b,r,H,x={},z,d=null,q=!1,P=!1;n.on("triggerImageAjax",function(b){var d=p.getCurrentItem().color;c.colorImages[d]||(c.colorImages[d]=b);b={type:"updatedData",data:p.getCurrentItem()};A.dispatch("updateView",b);(d=c.colorToAsin[d])&&d.asin&&K.register(f.rankedImagesReadyEvent(d.asin))});return function(q,P,k,n){O=this;c=q;p=P;A=n;c.colorImages[c.landingAsinColor]=c.colorImages[c.defaultColor];O.render=
function(q,g,l,P,h,k,m,n){r=2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");b=P;H=h;z=I(g,q,k);k?0===g&&G(r.find(".item.itemNo0"),p.getCurrentItem(),"landing"):(g=p.getCurrentItem(),f.lazyLoadingRequired(g,p,c)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));y(p.getCurrentItem(),!k);2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?"swatchClick"===n&&c&&c.colorImages?(d=c.colorImages[q],e(p.getCurrentItem(),m,q,k)):"updatedData"===
n&&c&&c.colorImages&&c.colorImages[q]!==d&&(d=c.colorImages[q],e(p.getCurrentItem(),m,q,k)):e(p.getCurrentItem(),m,q,k);return z};f.isImageBlockGridViewHoverDelayEnabled()?O.update=function(d){var a=d.data;p.setCurrentEvent(d);"ingress"!==a.type&&"swatchHover"!==d.type&&(p.setToPreviousItem(),"mouseenter"===d.type?(N&&clearTimeout(N),N=setTimeout(function(){p.setToCurrentItem(a);y(d.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===d.type?N&&clearTimeout(N):"click"===d.type&&(p.setToCurrentItem(a),
y(d.data,!1)));"swatchHover"===d.type?("ingress"!==a.type&&y(d.data,!1),a.color===p.getCurrentItem().color?e(p.getCurrentItem(),null,a.color,!0):d.captured||-1===h(a)||(d.captured=!0)):"image"===a.type&&(a.interaction=d.type,a.isUserGenerated=!0,"mouseenter"===d.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+z),V&&clearTimeout(V),V=setTimeout(function(){e(a,null,a.color,!0);c.usePeekHover||f.selectGivenThumbnail(d.$declarativeParent,b)},f.getHoveringDelayTimer())):"mouseleave"===
d.type?V&&clearTimeout(V):"click"===d.type&&(e(a,null,a.color,!0),f.selectGivenThumbnail(d.$declarativeParent,b),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+z)))}:O.update=function(d){var a=d.data;p.setCurrentEvent(d);"ingress"!==a.type&&y(d.data,!1);"swatchHover"===d.type?a.color===p.getCurrentItem().color?e(p.getCurrentItem(),null,a.color,!0):d.captured||-1===h(a)||(d.captured=!0):"image"===a.type&&(a.interaction=d.type,
a.isUserGenerated=!0,"mouseenter"===d.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+z),e(a,null,a.color,!0),c.usePeekHover&&"click"!==d.type||(f.selectGivenThumbnail(d.$declarativeParent,b),"click"===d.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+z))))};c.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");A.register("imageHover",E);A.register("resize",g)}});"use strict";K.when("A",
"jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,a,f,u){function m(f,k){f=a("\x3cimg src\x3d'"+(k?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:k?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return f}function Q(f){var k=a("\x3cspan\x3e");n.each(f.tags,function(f){var e=a("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+
"%",height:"auto",width:"auto"});e.append(m(f,!1));e.append(m(f,!0));e.bind("mouseenter",function(){F(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});n.declarative.create(e,"scenes-show-details-tags-ib",{tagId:f.link});k.append(e)});return k.children()}function F(a){a.addClass("mirai-scene-dot-pulsate");n.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function J(a,f){a.css({display:"none"});f.css({display:"inline-block"})}function I(a,f,e){a.eq(e).css({display:"inline-block"});
f.eq(e).css({display:"none"})}function v(a){K.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",{physicalId:a})})}function D(){var f=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(t.staticStrings.shoppableSceneViewProductsButton);
return f.append(k).append(e)[0].outerHTML}function C(a){function f(){a.$tagPlaceholder.replaceWith(h);var c=h.find(".mirai-scene-tag.active-tag"),f=h.find(".mirai-scene-tag.inactive-tag");I(c,f,0);F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));L=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});w=!0;u.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var e=a.$viewProductsButton.find(".a-button-text");
if(0===e.children().length){e.append(D());n.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var h=Q(a.shoppableScene),m=h.find(".mirai-scene-tag.active-tag"),g=h.find(".mirai-scene-tag.inactive-tag"),v=a.shoppableScene.physicalId,w=!1;n.on("mirai:index:change",function(a){a.scenePhysicalId===v&&(a=a.selectedIndices[0],J(m,g),I(m,g,a),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),L=!0)});n.on("mirai:scene-details-change",
function(a){a.physicalId!==v||L||(J(m,g),I(m,g,0),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),L=!0)});n.on("mirai:no-products-active",function(a){a.scenePhysicalId===v&&J(m,g)});n.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===v&&(J(m,g),I(m,g,0))});n.on("a:image:load:shoppable-scene:"+a.index,function(){w||(f(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",function(c){c.index!=a.index||w||
(f(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});K.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){n.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});n.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,t,w,L=!1;return function(a,m,e,h){G=this;t=a;w=h;f.isShoppableScenesEnabled()?(w.register("initialize-shoppable-scene",C),G.render=
function(a,f,e,h,c,p,m){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?v(a.data.shoppableScene.physicalId):L=!1)}):(a=function(){},G.render=a,G.update=a)}});K.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};K.when("A","jQuery",
"Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,a,f,Q,m,M,F,J,I){function v(b){return null!==b&&"undefined"!==typeof b}function D(b){var d=0;a.each(b,function(b,a){b=parseInt(a[1],10);b>d&&(d=b)});return d}function C(b){var d=0;a.each(b,function(b,a){b=parseInt(a[0],10);b>d&&(d=b)});return d}function G(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=D(b);0<b&&(a=Math.min(a,
b));return a}function t(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=C(b);0<b&&(a=Math.min(a,b));return a}function w(b){var d;a.each(b,function(b,a){v(d)||(d=a[1]/a[0])});return d||1}function L(b){if(b){if(0<b.indexOf(".m3u8"))return"application/x-mpegURL";if(0<b.indexOf(".mp4"))return"video/mp4"}return""}function K(b,c,g,l,p,h,m,n,r,t,u,v,x,y,w){var d=a.extend({},g.foresterMetadataParams);null!==l&&(d.method+="."+l);var q=[];c.disabledViewIds&&(q=c.disabledViewIds);w=w&&w.videoBackgroundChromefulMainView?
w.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===y&&(w="transparent");return f.embed({parentElement:b[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:g.swfUrl,foresterMetadataParams:d,backgroundColor:w,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:g.videoAds,bindings:{play:function(){if("ImmersiveView"===l)A||(A=!0,Q.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(V||(V=!0,Q.postCountMetric("dppc_chromefulVideoPlayedPV")),!t){var b=Q.buildNexusMetric("ib.thumbnailClick",r,c.mediaObjectId,c.rankingStrategy,c.groupType,u,v,x);Q.emitNexusMetric(b)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(b,a,d){p&&(k(0,h,n),e(m))}}],disabledViewIds:q})}function k(b,a,c){a.fadeTo(500,0,function(){h(b,c);a.fadeTo(500,1)})}function e(b){b&&b.toggle()}function h(b,c){c=c.find("img");v(c[b])&&a(c[b]).click()}function y(b,a){r[b]=a?a:r[b];
return r[b]}function g(d,c,f){f=f||b;f=f.colorImages;if(1>f.length||!v(f[d])||!v(c))return-1;var e=-1;a.each(f[d],function(b,a){a.variant===c&&(e=b)});return e}function E(d,c,f){f=f||b;f=f.colorImages;return!(v(f)&&v(f[d])&&v(f[d][c])&&v(f[d][c].main))||1>a.map(f[d][c].main,function(b,a){return a}).length?-1:f[d][c]}function O(b,a,c,f){f.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,b>a?f.css("width",a/b*100+"%"):f.css("height",b/a*100+"%"))}function c(b,c){var d;if(d=b.useIV)d=b.colorImages&&b.colorImages[c]&&
0<b.colorImages[c].length?!0:!1;b=d;F.isEnabled&&(F.IVApplicaple=b,J.logImmersiveViewApplicability(a,F));return b}function p(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var A,V,N,b=a.extend(!0,{},m,M),r={},H=0,x=0,z=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:v,isDefinedAndEmpty:function(b){return v(b)&&"object"===("undefined"===typeof b?"undefined":T(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return v(b)?
"object"===("undefined"===typeof b?"undefined":T(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return v(b)?"object"===("undefined"===typeof b?"undefined":T(b))&&0<Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==b.length},getAspectRatio:w,getMaxHeightOfMainImage:t,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var d=t(b,a,c);a=G(b,a,c);b=w(b);c=a/b;a=Math.min(a,d*b);d=Math.min(d,c);return[d,
a]},getContainerHeight:function(a,c,f){var d=a.get(0);a=0;if(v(d)){a=Math.min(d.offsetWidth/c,f);var e;c=b.mainImageHeightPartitions;f=b.mainImageMaxSizes;if(v(f)&&v(c)){var g=0,q=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(d=0;d<c.length;d++)q>c[d]&&(g=d+1);f.length>=g&&(e=f[g])}v(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(d,c){if(d){c=c||b;var f="";a.each(c.visualDimensions,function(b,a){d[a]&&(f+=" "+d[a])});return f&&f.substring(1)}},
createThumbnail:function(b,a,c,f){var d=c.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=a;d.find(".placeHolder").replaceWith(e);(a=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===a&&d.addClass("heroImageThumbnail");v(f)&&d.addClass(f);p()&&d&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",e.parentNode.insertBefore(f,e));n.declarative.create(d,"thumb-action",b);d.attr&&(d.attr("data-ux-click",""),
b.type&&b.type.match(/video/)?(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-hover")),d.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(d);return d},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+
"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(b,a,c,f,e,g,p,h){K(b,a,c,f,e,g,p,h,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:K,loadMediaIntoAiry:function(b,a,c,f){b&&b.getMediaSourceInfo()!==a.url&&(f?b.loadMedia?(N={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"},
b.loadMedia(N)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:L(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,
aciContentId:a.aciContentId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:k,toggleVideoCaption:e,selectThumbnail:h,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(d),
d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:y,getIndexForVariant:g,getImageHash:E,lazyLoadingRequired:function(b,a,c){a=Math.max(g(b.color,a.getCurrentItem().variant,
c),0);a=-1!==E(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;b=!b||"success"!==y(b);return!c.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:O,repositionVideoBanner:function(b,a,c,f){setTimeout(function(){var d=b.width()/b.height();O(d,16,9,a)},f||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:0},getVideoHash:function(b,
a,c){if(c.useChildVideos){if(!v(c.colorToVideo))return-1;b=c.colorToVideo[b]}else b=c.videos;return v(b)&&v(b[a])&&v(b[a].url)?b[a]:-1},isImmersiveViewEnabled:c,playVideoInImmersiveView:function(b,a){return c(b,a)&&b.useTabbedImmersiveView},useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return v(N)?N.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",
locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(b){u.ue&&u.ue.tag&&u.ue.tag(b)},isShoppableScenesEnabled:function(){return I.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:p,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return H},
updateThumbnailHoverDelay:function(b){if(v(b)){H=0;var a=b.closest("li");a=a.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(a);if(-1!==a){var c=x;b=b.closest("ul").attr("class");b===aa?c=!1:(b=z.exec(b),null===b||3!==b.length?c=!1:(b=b[2],c=Math.floor(c/b)>Math.floor(a/b)));c&&(H=100);x=a}}},logError:function(b,a,c,f){u.ueLogError&&u.ueLogError(f,{logLevel:b,attribution:a,message:c})}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,a,f,Q,m,M){function F(c,d,e,g){!b.autoplayVideo||ka||b.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&(e=r.getCurrentItem(),!g||b.prioritizeVideos||"chromeless-video"===e.type&&b.autoplayVideo)&&(g=f.getVideoHash(e.color,0,b),-1===g||e.thumbnailIndex>=b.maxAlts-1||(d+=0,H.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),
d=c.find(".item").get(d),f.selectGivenThumbnail(a(d),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,q,c))}function J(a){var c=r.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:r.getCurrentItem()};H.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?d():K.when(f.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function I(a){a&&(b.notShowVideoCount=
a,a={type:"updatedData",data:r.getCurrentItem()},H.dispatch("updateView",a))}function v(a){if(!b.useChildVideos)return f.lazyLoadingRequired(r.getCurrentItem(),r,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(b){J(b)},Q.load("/gp/product/features/apparel-main-image/videos.html",
d));return b.colorToVideo&&b.colorToVideo[a]}}function D(a){l&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(l.hide(),z.parent().css("z-index",-1),d.hide())}function C(a,c,d){c=q.width()/q.height();var e=parseInt(a.videoWidth,10),g=parseInt(a.videoHeight,10);f.updateAspectRatio(c,e,g,z);if(l&&"unrolled-video-add"!==d)l.show(),f.loadMediaIntoAiry(l,a,B,b.tabletWeb);else if(b.tabletWeb)l=R;else{if("unrolled-video-add"===d){l=R;return}if(null===R||R===aa)Y=setInterval(function(){l=
R;l!==aa&&null!==l&&(l.show(),f.loadMediaIntoAiry(l,a,B,b.tabletWeb),G(),k(l),clearInterval(Y),Y=null)},500);else if(l=R,l!==aa&&null!==l){l.show();f.loadMediaIntoAiry(l,a,B,b.tabletWeb);G();k(l);return}}G();k(l)}function G(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(b)){if(1<f.getVideosCount(r.getCurrentItem().color,b)){if(f.isDefined(P)){d.show();return}P=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);
d.find("#videoCaption").append(P);n.declarative.create(P,"videoIngressClick",U)}f.playVideoInImmersiveView(b,r.getCurrentItem().color)&&(n.declarative.create(z,"videoIngressClick",U),z.attr&&z.attr("data-ux-click",""),z.children().css("z-index","-1"),z.css("display","inline-block"))}else d.find("#videoCaption").text(b.staticStrings.playVideo),d.show()}function t(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=f.getVideoHash(a.color,a.index,b);if(-1===
d)return-1;"chromeful-video"===a.type&&C(d,a.thumbnailIndex+1,c)}}function w(c,d,e){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&e)return c;var g=v(d);d=c;var h=a(".unrolledImg"),l=f.isDefined(g)&&0<g.length&&b.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&m.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});l&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?
(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):x.find(".item:last").remove(),c--);f.isDefined(g)&&(a.each(g,function(d,e){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var p=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+p+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||L(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{p=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var h={type:p,index:d,thumbnailIndex:c,variant:e.variant};U={type:"video-ingress",index:d,thumbnailIndex:c,variant:e.variant};f.useTabbedImmersiveView(b)&&("chromeful-video"===p&&(ia+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ia+=
" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ia+=" videoImageBlockGridView");f.createThumbnail(h,e.thumb,x,ia);2===b.dp60VideoPosition&&L(x,b.dp60VideoPosition);f.useTabbedImmersiveView(b)&&(S(x.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),d=1<g.length?"multiple-videos":"one-video",(h=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:1<g.length?g.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo)&&x.find(".videoBlockIngress").append(x.find("#videoCount_template").clone().text(h).attr("id",
"videoCount")).addClass(d));e=m.buildNexusMetric("ib.thumbnailRender",c+1,e.mediaObjectId,e.rankingStrategy,e.groupType,Z,W,T,ca);m.emitNexusMetric(e);ba||(ba=!0,m.postCountMetric("chromeless-video"===p?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(b))return!1}),F(x,d,c,e),O(p),b.imageBlockRenderingStartTime&&m.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-b.imageBlockRenderingStartTime));return c}function L(c,d){if(0!==d)if(2===
b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var f=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage");c=c.children(".thumbType"+f);e&&c&&e[d-1]&&a(e[d-1]).before(c[0]);c=a(".unrolledScrollBox .list-unrolled");e=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");e&&c&&e[d-1]&&a(e[d-1]).before(c[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&
(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else e=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),e&&c&&e[d-1]&&a(e[d-1]).before(c[0])}function S(b,a){var c=b.attr("src");c&&a&&(b.attr("src",a),a=new Image,a.onload=function(a){b.attr("src",c)},a.src=c)}function k(a){b.autoplayVideo&&a&&!ka&&(f.toggleVideoCaption(d),a.setVolume(0),a.show(),a.play(),ka=!0)}function e(c){l&&l.pause();c.data=U;c.clickTimeStamp=
c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";H.dispatch("imageClick",c);m.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=m.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].rankingStrategy,b.videos[0].groupType,Z,W,T,ca);m.emitNexusMetric(c);m.postCountMetric(d);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}
function h(b){null!==l&&l!==aa&&(l.frame&&l.frame.remove(),l=null,R.frame&&R.frame.remove(),R=null);R=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");R.hide=function(){R.pause();n.$("#main-video-container").find(".vse-player-container").hide()};R.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};R.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function y(c,g,p,h,m,l){D(l);z=null!==l?a("#unrolledImgNo"+
l.thumbnailIndex):h.find("#main-video-container");d=null!==l?"":z.parent().find("#video-canvas-caption");q=null!==l?a(".unrolledScrollBox"):a("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(z.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));Z=u.location.href;c=r.getCurrentItem().color;!0===m?W=b.mediaAsin:(W=b.colorToAsin[c]&&b.colorToAsin[c].asin,W=f.isDefined(W)?W:b.mediaAsin);b.useChromelessVideoPlayer||z.addClass("chromeful-container");
null!==l?t(l,"unrolled-video-add"):t(r.getCurrentItem(),"");f.useTabbedImmersiveView(b)&&n.declarative("videoIngressClick",["click"],e);if(-1!==k&&null!==l){c=r.getCurrentItem().color;var k=f.getVideoHash(c,l.index,b);M.get(n,"#unrolledImgNo"+l.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:k.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:k.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:k.url,
imageURL:k.slateUrl}},function(){n.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(b,a){function c(b){b=Math.floor((x.width()-1)/g);b=d?b-1:b;a.slice(b).hide();a.slice(0,b).show();a.removeClass("overlayRestOfImages");b<a.length&&a.eq(b-1).addClass("overlayRestOfImages")}var d=0!=x.find(".item.videoThumbnail").length,f=a.eq(0).width(),e=a.eq(1).position().left-a.eq(0).position().left-
f,g=f+e;c();b.register("resize",c)}function E(b){var a=x.find(".item.imageThumbnail");if(!(1>=a.length)){var c=a.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){g(b,a)})}}function O(b){try{if(!b)return!1;la=b;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");b={root:null,rootMargin:"0%",threshold:.75};null!==ja&&ja.disconnect();0<fa.length&&(ja=new IntersectionObserver(c,b));fa.forEach(function(b){ja.observe(b)})}catch(pa){m.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function c(b){la(b,ma,oa,fa,na)}function p(b,c,d,f,e){try{a.each(b,function(b,e){var g=a(f).index(e.target);e.isIntersecting?(c=c.slice(),c.push(g)):c=c.filter(function(b){return b!==g});d=c.sort(function(b,a){return b-a})});var g=A(d,e);if(0!==g.length&&0!==d.length){var p=r.getCurrentItem().color,h=v(p);V(h,g)}}catch(ra){m.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function A(b,a){return a=b=b.slice().filter(function(b){return 0>a.indexOf(b)})}function V(b,c){try{if(!b||!c||0===
b.length||0===c.length)return!1;a.each(c,function(a,c){if(c=1===fa.length?b[0]:b[c])a=m.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.rankingStrategy,c.groupType,u.location.href,W,T,ca),m.emitNexusMetric(a)})}catch(qa){m.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var N,b,r,H,x,z,d,q,P,l,B,U,da,R,W,Z,T,ca,ea,ha,X,ba=!1,ka=!1,ia="videoThumbnail",Y=null,ja=null,oa,na=[],fa,ma=[],la=null;return function(c,e,g,p){N=this;b=c;r=e;H=p;B=b.airyConfig;T=b.contentWeblab&&b.contentWeblab+
":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(ea="tablet",ca="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(ea="tablet",n.capabilities.isAmazonApp&&(ca="applicationType.ImageBlock.vse_ib_tablet_app")):(ea="desktop",ca="desktop_web.ImageBlock.vse_ib_iv");N.render=function(c,e,g,p,h,l){null!==Y&&(clearInterval(Y),Y=null,z&&z.parent&&z.parent().css("z-index",-1),d&&d.hide&&d.hide());var m=
[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){x=a("ul.regularAltImageViewLayout");da=w(e,c,l);m=[];e=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var k=0;k<e.length;k++){var q=e[k].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",t=Number(e[k].classList[2].slice(10)),u=a(".thumbItemUnrolled").index(e[k]);m.push({color:c,
thumbnailIndex:u,type:q,varient:"MAIN",index:t})}for(k=0;k<m.length;k++)y(c,g,p,h,l,m[k])}else x=p,da=w(e,c,l),y(c,g,p,h,l,null),c=r.getCurrentItem().color,g=f.getVideoHash(c,0,b),-1!==g&&(c=b.tabletWeb?f.getNilgiriServiceAjaxRequest(b,c,g):{requester:"MediaBlockSoftlines",marketplaceID:g.marketPlaceID,clientPrefix:"mbSoftlines",locale:g.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:g.url,imageURL:g.slateUrl}},M.get(n,
"#main-video-container",c,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&E(H);return da};N.setupIntersectionObserverToWatchVideoThumbnail=O;N.emitMultipleImpressionMetric=V;f.isImageBlockGridViewHoverDelayEnabled()?N.update=function(a){null!==Y&&(clearInterval(Y),Y=null,z&&z.parent&&z.parent().css("z-index",-1),d&&d.hide&&d.hide());var c=a.data;"ingress"===c.type||
"swatchHover"===a.type||f.lazyLoadingRequired(c,r,b)||(r.setToPreviousItem(),"mouseenter"===a.type?(X&&clearTimeout(X),X=setTimeout(function(){r.setToCurrentItem(c);D(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?X&&clearTimeout(X):"click"===a.type&&(r.setToCurrentItem(c),D(null)));if("swatchHover"===a.type)"ingress"===c.type||f.lazyLoadingRequired(c,r,b)||D(null),c.color===r.getCurrentItem().color?t(r.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,r,b)&&!f.lazyLoadOnHoverEnabled(b)&&
t(r.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=f.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(m.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+da),"chromeless-video"===c.type&&(e=m.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,Z,W,T,ca),m.emitNexusMetric(e)),ha&&clearTimeout(ha),ha=setTimeout(function(){t(c,"");!b.usePeekHover&&n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
f.selectGivenThumbnail(a.$declarativeParent,x)},f.getHoveringDelayTimer())):"mouseleave"===a.type?ha&&clearTimeout(ha):"click"===a.type&&(t(c,""),n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,x),e=m.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,Z,W,T,ca),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==ea)&&m.emitNexusMetric(e),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(e),
m.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+da),U.action="videoIngressClick",U.clickTimeStamp=a.$event.timeStamp,U.$event=a.$event,U.$currentTarget=a.$currentTarget,H.dispatch("videoIngressClick",U),m.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:N.update=function(a){null!==Y&&(clearInterval(Y),Y=null,z&&z.parent&&z.parent().css("z-index",-1),d&&d.hide&&d.hide());var c=a.data;"ingress"===c.type||f.lazyLoadingRequired(c,r,b)||D(null);if("swatchHover"===
a.type)c.color===r.getCurrentItem().color?t(r.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,r,b)&&!f.lazyLoadOnHoverEnabled(b)&&t(r.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=f.getVideoHash(c.color,c.index,b);if("mouseenter"===a.type&&(m.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+da),"chromeless-video"===c.type)){var g=m.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,
Z,W,T,ca);m.emitNexusMetric(g)}t(c,"");b.usePeekHover&&"click"!==a.type||!n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,x),"click"===a.type&&(e=m.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,Z,W,T,ca),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==ea)&&m.emitNexusMetric(e),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(e),m.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+da),U.action="videoIngressClick",U.clickTimeStamp=a.$event.timeStamp,U.$event=a.$event,U.$currentTarget=a.$currentTarget,H.dispatch("videoIngressClick",U),m.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",J),n.on("notShowVideoCountAjax",I));n.on("vsePlayer-imageblock_tablet",h);n.on("vsePlayer-mbsoftlines",h)}});"use strict";K.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,a){function f(a,
f,M,F,J){function m(a){"click"===a.type&&F.postCountMetric("thumbClick");"click"===a.type&&g.overrideAltImageClickAction?E.dispatch("thumbActionClick",a):E.dispatch("updateSelection",a)}function v(a){g.useClickZoom||E.dispatch("imageClick",a)}function D(a){g.useClickZoom||E.dispatch("imageHover",a)}function C(a){E.dispatch("button360Click",a)}function G(c){!M.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(y.update(c),"swatchHover"!==c.type&&O.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&
F.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(y.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",c))}function t(a){E.dispatch("resize",a)}function w(a){M.selectThumbnail(a,c)}function L(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",
events:["click"],alwaysInteractive:!0}]})}function Q(){g.interactiveCallJSPEnabled||("function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===n.useIV?K.when("a-modal").execute(function(){L()}):L());g.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],m);a.declarative("thumb-action",["click"],
m);a.declarative("main-image-click",["click"],v);a.declarative("main-image-click",["mouseenter","mouseleave"],D);a.declarative("button-360-click",["click"],C);a.on("resize",t)}function k(a){var c=a.data,e;c&&"ingress"!==c.type&&"click"===a.type&&(e=a);return e}function e(a){var c=O.getCurrentItem(),e={type:"click"};e.$declarativeParent=a;e.data=c;return e}function h(a){M.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&M.updateThumbnailHoverDelay(a.$target)}var y,g,E,O,c;return function(a,
m,n){y=this;g=a;E=m;O=n;c=f("#imageBlock #altImages ul");var p=f("#imageBlock .canvas"),b=f("#main-image-container"),r;y.subViews=[];for(m=0;m<J.length;m++)y.subViews.push(new J[m](a,n,y,E));y.render=function(a,h,m,d){var k=0;c.find(".item").remove();a=a||O.getCurrentItem().color;f.each(y.subViews,function(e,f){k=(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment?f.render(a,k,p,c,b,h,m,d):f.render(a,k,p,c,b,h,m))||k});var n=c.find(".a-button-selected").closest(".a-declarative");
r=e(n)};y.init=function(){c=f("#imageBlock #altImages ul");var a=c.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=g.landingAsinColor||g.defaultColor;E.dispatch("updateModel",{data:a});y.render(a.color,!0);g.isDebug&&u.console&&console.log(g);E.register("updateView",G);E.register("selectThumbnail",w);Q()};y.update=function(a){h(a);f.each(y.subViews,function(b,c){c.update(a)});g.usePeekHover&&("mouseleave"===a.type?E.dispatch("updateSelection",r):"click"===
a.type&&(r=k(a)||r))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(n.views);K.when.apply(K,a).register("ImageBlockView",function(){for(var a=arguments[0],m=arguments[1],n=arguments[2],u=arguments[3],J=[],I=4,v=arguments.length;I<v;I++)J.push(arguments[I]);return f(a,m,n,u,J)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,d=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;d.guardFatal?d.guardFatal(B)(d,window):d.execute(function(){B(d,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(d,c){var a;return function(c,d,G,t){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(d,c,a,x,f){function G(){f.populateTitle(g.find("#ivTitle"),160,J)}function t(){var c=l.getCurrentItem().color;C=J.colorImages[c];z=J.heroImage[c];v=D=0;a.isDefined(z)&&(v=z.length);a.isDefined(C)&&(D=C.length)}function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=g.find("#ivStage").find("#ivLargeImage"),c=a.width(),d=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var l=f.width(),
m=f.height();0<f.length&&(f[0].naturalWidth&&(l=f[0].naturalWidth),f[0].naturalHeight&&(m=f[0].naturalHeight));a.css("cursor","auto");l=0===l?1:l;m=0===m?1:m;var t=Math.min(c/l,d/m),v=m*t,z=l*t;1>t?(y?a.css("cursor","url('"+J.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),k=!0):k=!1;l=Math.min(z,l);m=Math.min(v-20,m);f.css({"margin-top":(d-m)/2,"margin-left":(c-l)/2,height:m,width:l});a.css("visibility","visible");K=!1}
function B(a){var c=g.find("#ivLargeImage");c.css("visibility","hidden");c.empty();f.animateStageIn(c);c.append(a);q()}function P(l){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var k;"hero-image"===l?a.isDefined(z)&&(k=p(z[w.index])):a.isDefined(C)&&(k=p(C[w.index]));if(a.isDefined(k)){g.find(".fullscreen").remove();var H=c("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),m=g.find("#ivLargeImage");f.animateStageOut(m,function(){H.load(function(){B(H);
d.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index)});if(H[0].complete)B(H),d.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index);else{m.empty();var a=(m.height()-104)/2,g=(m.width()-80)/2;c("\x3cimg\x3e").attr("src",J.staticImages.spinner).css({position:"relative",top:a+"px",left:g+"px"}).appendTo(m)}})}}function Q(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];
P(w.type);x.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(v+D))}function M(){g.delegate(".ivThumb","click",function(){var a=c(this);Q(a)})}function N(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function R(a){var c=W.top-(a.pageY-r[1])*m;a=N(W.left-(a.pageX-r[0])*m,F.left);c=N(c,F.top);g.find(".fullscreen").css({left:a,top:c})}function aa(){g.delegate("#ivLargeImage","click",function(a){if(K)q();else if(k){g.find(".fullscreen").removeAttr("style");if(k){var c=g.find("#ivLargeImage"),
f=c.find(".fullscreen");y?c.css("cursor","url('"+J.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));K=!0;var l=g.find("#ivLargeImage");F.left=l.width()-f.width();F.top=l.height()-f.height();l=c.height()/2;var d=c.width()/2;r=[c.offset().left+d,c.offset().top+l];W.top=l-f.height()/2;W.left=d-f.width()/2;f.css({position:"relative",left:W.left,top:W.top});m=Math.max(f.height()/c.height(),f.width()/c.width())}R(a);x.postCountMetric("dpcc_iv_largeImageCLick")}});
g.delegate("#ivLargeImage","mousemove",function(a){K&&R(a)})}function ia(){g.find("#ivLargeImage").empty()}function X(d){if(S){g=c("#ivMain");t();w=l.getCurrentItem();G();f.populateVariationSelection(g.find("#ivVariationSelection"));d=g.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var k=v+D,m=0,p=0;m<k;)for(var r=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),x=0;4>x&&m<k;x++,m++,p++)if(p<v){var q=z[m].thumb,y=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
m,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":m+1}).appendTo(r);y.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat')}else p>=v&&p<D+v&&(q=C[m-v].thumb,y=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(m-v),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":m-v+1}).appendTo(r),y.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat'));L();S=!1}else G();d=c("#ivImagesTab").height();g.css("height",d);k=g.find("#ivTitle").outerHeight(!0);m=g.find("#ivVariationSelection").outerHeight(!0);p=g.find("#ivThumbs");r=f.getDimension(p,"margin-top")+f.getDimension(p,"margin-bottom");p.css("height",d-k-m-r);g.find("#ivLargeImage").css("height",d);d=g.find("#ivStage");k=g[0]&&g[0].getBoundingClientRect&&
Math.floor(g[0].getBoundingClientRect().width)||g.width();d.css("width",k-f.getDimension(g,"padding-left")-f.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-f.getDimension(d,"margin-left")-f.getDimension(d,"margin-right"));w=l.getCurrentItem();d="hero-image"===w.type?g.find("#ivHeroImage_"+w.index):"image"===w.type?g.find("#ivImage_"+w.index):a.isDefined(z)?g.find("#ivHeroImage_"+w.index):g.find("#ivImage_"+w.index);a.isjQueryObjDefined(d)||(d=g.find("#ivImage_0"));Q(d)}var fa,J,
l,g,z,C,v,D,w,y=navigator.userAgent.match(/msie|trident/i),S=!0,K=!1,k=!1,F={},W={},m,r;S=!0;var L=d.once(function(){M();aa();f.attachImmersiveViewResizeHandler(X);f.attachTabDeselectHandler("ivImagesTab",ia)});return function(a,d,g,k){fa=this;J=a;l=d;fa.render=function(a,d,g,k,l,m){S=!0;t();0===v+D?f.hideTabHeading("ivImagesTabHeading"):f.unhideTabHeading("ivImagesTabHeading");1===v+D?c("#ivThumbs").hide():c("#ivThumbs").show()};fa.update=function(a){};f.attachTabSelectHandler("ivImagesTab",X)}});
"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(d,c,a,x,f,G,t){function p(){var a=M.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),f=a.find(".a-popover-inner");a=a.height()-t.getDimension(f,"padding-top")-t.getDimension(f,"padding-bottom");c("#iv-tab-view-container").css("height",a);aa=c("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
c(this).css("display")}).length;1<aa?(c("#iv-tab-view-container ul.iv-tab-views li").parent().show(),f=c("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=f):c("#iv-tab-view-container ul.iv-tab-views li").parent().hide();c("#iv-tab-view-container .iv-tab-content").css("height",a);d.trigger("dp:image-block:immersive-view:resize")}function ta(){d.trigger("dp:image-block:immersive-view:reset")}function na(l){if(a.isImmersiveViewEnabled(Q,M.getCurrentItem().color))if(X){var g=l.$event.originalEvent;
g.acknowledge&&g.acknowledge(l.$currentTarget[0]);f.isEnabled&&G.logImmersiveViewRequestServed(f);x.postCountMetric("dppc_immersiveViewOpened");a.isDefined(l)&&("button-360-click"===l.action?c("#iv360TabHeading").click():"videoIngressClick"===l.action?(ia=l.clickTimeStamp,c("#ivVideosTabHeading").click()):"showroomIngressClick"===l.action?(ia=l.clickTimeStamp,c("#ivShowroomTabHeading").click()):c("#ivImagesTabHeading").click());g=M.getImmersiveViewModalInstance();if(a.isDefined(g))g.show();else{l=
c("#auiImmersiveViewDiv");g=Math.min(Math.max(c(q).height()-150,540),1080);var p=Math.min(Math.max(c(q).width()-75,990),1980);g=X.create(l,{name:"immersiveView",activate:"onclick",width:p,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});M.setImmersiveViewModalInstance(g);l.click()}R&&(R=!1,fa(),d.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else x.postCountMetric("immersiveViewNotExistsClickCount")}
var P,Q,M,N,R=!0,aa=0,ia,X;B.when("a-modal").execute(function(a){X=a});var fa=d.once(function(){d.on("a:popover:afterUpdatePosition:immersiveView",p);d.on("a:popover:afterShow:immersiveView",p);d.on("a:popover:afterHide:immersiveView",ta)}),J=d.once(function(){var a=c("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(f){var g=a.filter(".iv-active");g.attr("id")!==c(this).attr("id")&&d.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",f);a.removeClass("iv-active");
c(this).addClass("iv-active");c("#iv-tab-view-container .iv-tab-content").hide();g=c(this).find("a").attr("data-iv-tab-view");c("#"+g).show();"ivVideosTab"===g&&(f.clickTimeStamp=ia||f.timeStamp);d.trigger("dp:ivTabs:"+g+":select",f);x.postCountMetric("dppc_"+g);return!1})});return function(c,g,p,t){P=this;Q=c;M=g;f.refToModel=M;N=t;P.render=function(a,c,d,f,g,l){x.postCountMetric("dpcc_altThumbs_"+c);R=!0};P.update=function(a){};P.getTitle=function(){};P.getVariationSelectionInfo=function(){};J();
a.isImmersiveViewEnabled(Q,M.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");N.register("imageClick",na);N.register("button360Click",na);Q.collapsibleThumbnails&&d.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&na(a)});a.useTabbedImmersiveView(Q)&&(N.register("videoIngressClick",na),N.register("showroomIngressClick",na))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(d,c,a,x,f,G,t,p){function ta(e){return e.hiRes||e.large||e.main[e.main.length-1]}function na(){h.find("#ivTitle").click(function(){ba.hide()})}function P(){u=Qa?{type:"360-spin"}:T.getCurrentItem()}function Q(){var e=h.find("#ivStage"),a=ba.$container.find(".a-popover-wrapper"),c=a.find(".a-popover-inner");a=a.height()-p.getDimension(c,"padding-top")-p.getDimension(c,"padding-bottom");h.css("height",a);c=
h.find("#ivTitle").outerHeight(!0);var b=h.find("#ivVariationSelection").outerHeight(!0),d=h.find("#ivMediaSelection").outerHeight(!0),f=h.find("#ivThumbs"),g=p.getDimension(f,"margin-top")+p.getDimension(f,"margin-bottom");f.css("height",a-c-b-d-g);h.find("#ivLargeImage").css("height",a);e.css("width",h.width()-p.getDimension(h,"padding-left")-p.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"))}function M(){h.find("#ivMediaSelect").change(function(){var e=
c(this).val();"all"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===u.type&&h.find("#ivVideo_"+u.index).click()):"images"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===u.type&&(0===U&&0===I?h.find("#iv360").click():0===U?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===e&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==
u.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+u.index).click())})}function N(){var e=h.find("#ivStage").find("#ivLargeImage"),a=e.width(),c=e.height(),b=e.find(".fullscreen");b.removeAttr("style");var d=b.width(),f=b.height();0<b.length&&(b[0].naturalWidth&&(d=b[0].naturalWidth),b[0].naturalHeight&&(f=b[0].naturalHeight));e.css("cursor","auto");d=0===d?1:d;f=0===f?1:f;var g=Math.min(a/d,c/f),k=f*g,m=d*g;1>g?(Ra?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;d=Math.min(m,d);f=Math.min(k-20,f);b.css({"margin-top":(c-f)/2,"margin-left":(a-d)/2,height:f,width:d});e.css("visibility","visible");Ba=!1}function R(e){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();p.animateStageIn(a);a.append(e);N()}function aa(){A&&A.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display",
"none");z()}function ia(e){aa();h.find("#ivLargeImage").css("display","block");var b;"hero-image"===e?a.isDefined(Y)&&(b=ta(Y[u.index])):a.isDefined(ja)&&(b=ta(ja[u.index]));if(a.isDefined(b)){h.find(".fullscreen").remove();var d=c("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),f=h.find("#ivLargeImage");p.animateStageOut(f,function(){d.load(function(){R(d)});if(d[0].complete)R(d);else{f.empty();var e=(f.height()-104)/2,a=(f.width()-80)/2;c("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(f)}})}}function X(){var e=parseInt(u.index,10)+1;e>=ha.length||h.find("#ivVideo_"+e).click()}function fa(){var e;a.isDefined(ha)&&(e=ha[u.index]);if(a.isDefined(e)){aa();var b=h.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(b[0]),a.loadMediaIntoAiry(A,e,ya,n.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(b,e,ya,"ImmersiveView"),ya.enableContinuousPlay&&A.bind("ended",X));A.play({isAsync:!0})}}function J(){P();var e="hero-image"===
u.type?h.find("#ivHeroImage_"+u.index):"image"===u.type?h.find("#ivImage_"+u.index):"chromeful-video"===u.type||"chromeless-video"===u.type?h.find("#ivVideo_"+u.index):"360-spin"===u.type?h.find("#iv360"):a.isDefined(Y)?h.find("#ivHeroImage_"+u.index):h.find("#ivImage_"+u.index);a.isjQueryObjDefined(e)||(e=h.find("#ivImage_0"));l(e)}function l(e){h.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(u.type="chromeful-video",u.index=e.attr("id").split("_")[1],
fa()):e.hasClass("ivHeroImage")?(u.type="hero-image",u.index=e.attr("id").split("_")[1],ia(u.type)):e.hasClass("iv360Image")?(u.type="360-spin",u.index=0,g()):(u.type="image",u.index=e.attr("id").split("_")[1],ia(u.type))}function g(){aa();h.find("#ivLarge360").css("display","block");y();var e=h.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});p.animateStageIn(e)},200);v();f.postCountMetric("dppc_click360");ua=Date.now()}function z(){0<ua&&(C("dppc_duration360",Date.now()-
ua),ua=0)}function C(e,a){q.ue&&q.ue.count(e,a)}function v(){if(0<qa){var e=h.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function D(e,a){if(qa<e.length){var b=c("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:va+"px"});b.hide();a.append(b);b.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(v(),0<ua&&C("dppc_loadTime360",Date.now()-ua)),0<Ia&&C("dppc_perSpriteloadTime360",Date.now()-Ia),h.find("#iv360Spinner").hide(),
b.show(),Ca=5*E.imageLocations[Math.floor(za/E.imageLocations[0].length)][za%E.imageLocations[0].length],D(e,a))};b.attr("src",e[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+wa+"$2"+xa));Ia=Date.now()}}function w(e){if(a.isDefined(E.spriteWidthSizes)&&0<E.spriteWidthSizes.length){var b=E.spriteWidthSizes,c=b.length,f=b[0],d=b[c-1];if(e<=f)return f;if(e>d)return d;for(f=0;f<c;f++)if(e>b[f]&&e<=b[f+1])return b[f+1]}else return e}function y(){var a=h.find("#ivLarge360");a.children("#image-360-sprites").length||
(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),c("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ja=!0,S())}function S(){if(a.isDefined(E.spriteURLs)&&
a.isDefined(h)&&Ja&&!Ka){var e=h.find("#ivLarge360"),b=c("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(E.staticImages.hint360)&&c("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",E.staticImages.hint360).appendTo(b);c("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(b);b.appendTo(e);b=E.imageWidth;var f=E.imageHeight,d=e.parent().width(),g=e.parent().height(),
l=0,u=0;b/f>d/g?(wa=w(d),xa=Math.round(f/b*wa),pa=Math.ceil(d),va=Math.ceil(xa/wa*d),u=(g-va)/2):(xa=w(g),wa=Math.round(b/f*xa),va=Math.ceil(g),pa=Math.ceil(wa/xa*g),l=(d-pa)/2);e.css({"margin-left":l,"margin-top":u,width:pa+"px",height:va+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*pa+"px");D(E.spriteURLs,h.find("#image-360-sprites"),0);b=h.find("#ivLarge360");b.bind("mousedown",W);b.bind("touchstart",K);b.bind("touchmove",k);b.bind("touchend",F);c(document).bind("mousemove",
m);c(document).bind("mouseup",r);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ka=!0}}function K(a){Da=!0;La=a.originalEvent.targetTouches[0].clientX}function k(a){Da&&(L(a.originalEvent.targetTouches[0].clientX-La),La=a.originalEvent.targetTouches[0].clientX)}function F(a){Da&&(Da=!1)}function W(e){Ea=!0;Ma=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),e.parents(".a-declarative").last().css("cursor",
"url('"+n.staticImages.grabbing+"'), auto"));return!1}function m(a){Ea&&(L(a.originalEvent.clientX-Ma),Ma=a.originalEvent.clientX)}function r(e){Ea&&(Ea=!1,a.isDefined(n.staticImages.grab)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function L(e){for(e=Ca-=e/pa*180;0>e;)e+=360;for(;360<e;)e-=360;Ca=e;e=360;for(var b=0;b<qa;b++)for(var c=0;c<E.imageLocations[b].length;c++){var f=Math.abs(Ca-5*E.imageLocations[b][c]);
if(f<e){e=f;var d=b*E.imageLocations[0].length+c}}d!==za&&(e=Math.floor(d/E.imageLocations[0].length),e!==Math.floor(za/E.imageLocations[0].length)&&(a.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),b=h.find("#image-360-sprites").children(),Na.drawImage(b[e],0,0)),e=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=d;e=d%E.imageLocations[0].length*-1*pa;d=-1*Math.floor(d/E.imageLocations[0].length)*va;b=
h.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+e+"px, "+d+"px, 0)");b.css("transform","translate3d("+e+"px, "+d+"px, 0)")}function H(){h.delegate(".ivThumb","click",function(){var a=c(this);l(a)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var a=c(this);a.addClass("selected");u.type="chromeful-video";u.index=a.attr("id").split("_")[1];fa()})}function ca(){A&&!A.isDetached()&&(ya.volume=
A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||(A=null));h.find("#ivLargeImage").empty();z()}function da(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function V(a){var b=ra.left-(a.pageX-Fa[0])*Ga;d.capabilities.rtl&&(b=ra.left-(c(q).width()-a.pageX-Fa[0])*Ga);a=ra.top-(a.pageY-Fa[1])*Ga;b=da(b,Ha.left);a=da(a,Ha.top);h.find(".fullscreen").css({left:b,top:a})}function la(){h.delegate("#ivLargeImage","click",function(a){if(Ba)N();else if(Aa){h.find(".fullscreen").removeAttr("style");
if(Aa){var b=h.find("#ivLargeImage"),e=b.find(".fullscreen");Ra?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ba=!0;var c=h.find("#ivLargeImage");Ha.left=c.width()-e.width();Ha.top=c.height()-e.height();c=b.height()/2;var d=b.width()/2;Fa=[b.offset().left+d,b.offset().top+c];ra.top=c-e.height()/2;ra.left=d-e.width()/2;e.css({position:"relative",left:ra.left,top:ra.top});Ga=Math.max(e.height()/
b.height(),e.width()/b.width())}V(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ba&&V(a)})}function ea(e){if(a.isImmersiveViewEnabled(n,T.getCurrentItem().color))if(Oa){var g=e.$event.originalEvent;g.acknowledge&&g.acknowledge(e.$currentTarget[0]);Qa=a.isDefined(e)&&"button-360-click"===e.action;G.isEnabled&&t.logImmersiveViewRequestServed(G);f.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ba))ba.show();else{e=c("#auiImmersiveViewDiv");g=c(q).height()-150;var k=c(q).width()-
75;ba=Oa.create(e,{name:"immersiveView",activate:"onclick",width:k,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Pa){h=c("#ivMain");e=T.getCurrentItem().color;ja=n.colorImages[e];Y=n.heroImage[e];ha=n.useChildVideos?n.colorToVideo[e]:n.videos;Sa=O()&&n.spin360ColorEnabled[e];E=O()?n.spin360ColorData[e]:sa;P();oa=I=b=U=0;a.isDefined(Y)&&(I=Y.length);a.isDefined(ja)&&(U=ja.length);a.isDefined(ha)&&(b=ha.length);Sa&&(oa=1);p.populateTitle(h.find("#ivTitle"),45,n);p.populateVariationSelection(h.find("#ivVariationSelection"));
e=h.find("#ivMediaSelect");0===U+oa||0===b?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),c("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(I+U+oa+b)+")").appendTo(e),c("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(I+U+oa)+")").appendTo(e),c("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+b+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
g=I+U+b+oa;for(var m=k=0;k<g;)for(var l=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),u=0;3>u&&k<g;u++,k++,m++)if(m<I){var A=Y[k].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+k).appendTo(l);r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat')}else if(m>=I&&m<U+I)A=ja[k-I].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(k-I)).appendTo(l),r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat');else if(m>=I+U&&m<U+I+oa)r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),r.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?p.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(A=ha[k-U-I-oa],r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(k-U-I-oa)).appendTo(l),r.find(".ivThumbImage").css("background",'url("'+A.thumbUrl+'") center no-repeat'),a.isDefined(A)){var v={position:"triggerTop"},x=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(A.title);x.find(".ivVideoPopoverDuration").text(A.durationTimestamp);v.inlineContent=x[0];d.declarative.create(r,"a-tooltip",v)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
g=e.find(".placeholder");for(k=0;k<b;k++)m=ha[k],l=g.clone().removeClass("placeholder").appendTo(e),l.attr("id","ivVideoList_"+k),l.find(".ivThumbImage").css("background",'url("'+m.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(m.title),l.find(".ivThumbDuration").text(m.durationTimestamp);h.find("#ivLarge360").empty();qa=0;Ka=Ja=!1;ya=n.airyConfig;Pa=!1;Ta()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else f.postCountMetric("immersiveViewNotExistsClickCount")}function ma(b){var e=n.colorToAsin[b],c={},d=500;if(e&&e.asin){c.params={asin:e.asin};var g="360"+e.asin,k=Date.now();c.success=function(e){C("dppc_asyncRequestTime360",Date.now()-k);e&&a.isDefined(e.spin360.spin360Model)?(a.ajaxState(g,"success"),n.spin360ColorData[b]=e.spin360.spin360Model,b===T.getCurrentItem().color&&(E=n.spin360ColorData[b],S())):c.error()};c.error=function(){f.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",
Date.now()-k);d*=2;16E3>=d?setTimeout(function(){k=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",c)},d):a.ajaxState(g,"fail")};a.ajaxState(g)&&"fail"!==a.ajaxState(g)||(x.load("/gp/product/features/apparel-main-image/360.html",c),a.ajaxState(g,"sent"))}}function O(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var Z,n,T,ka,ba,h,Y,ja,ha,I,U,b,oa,u,A,ya,E,Sa,pa,va,xa,wa,Ma,La,Qa=!1,Ja=!1,Ka=!1,Ca=0,za=0,ua=0,Ia=0,Ea=!1,Da=!1,qa=0,Na,Ra=navigator.userAgent.match(/msie|trident/i),
Pa=!0,Ba=!1,Aa=!1,Ha={},ra={},Ga,Fa,Oa;B.when("a-modal").execute(function(a){Oa=a});var Ta=d.once(function(){M();H();la();d.on("a:popover:afterUpdatePosition:immersiveView",Q);d.on("a:popover:afterShow:immersiveView",J);d.on("a:popover:afterHide:immersiveView",ca);na()});return function(b,g,k,h){Z=this;n=b;T=g;G.refToModel=T;ka=h;O()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
c("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));Z.render=function(b,e,c,g,k,h){Pa=!0;O()&&n.spin360ColorEnabled[b]&&!a.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},ma(b));a.isImmersiveViewEnabled(n,T.getCurrentItem().color)&&O()&&n.spin360ColorEnabled[b]&&(e===n.maxAlts&&(b=g.find(".item.imageThumbnail"),c=g.find(".item.videoThumbnail"),a.isDefined(c)&&1<c.length?c.last().remove():b.last().remove(),
e--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),d.declarative.create(b,"button-360-click"),g.append(b),e++,f.postCountMetric("dppc_display360"));return e};Z.update=function(a){};a.isImmersiveViewEnabled(n,T.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ka.register("imageClick",ea);ka.register("button360Click",ea)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(d,c,a,x,f,q,t,p,B){function G(){var a=c("#iv360Tab").height();m.css("height",a);var d=m.find("#ivTitle360").outerHeight(!0),f=m.find("#ivVariationSelection360").outerHeight(!0),g=m.find("#ivThumbs360"),k=t.getDimension(g,"margin-top")+t.getDimension(g,"margin-bottom");g.css("height",a-d-f-k);a=m.find("#ivStage360");d=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||
m.width();a.css("width",d-t.getDimension(m,"padding-left")-t.getDimension(m,"padding-right")-m.find("#ivThumbColumn360").width()-t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function P(){R();var a=m.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);Q()}function Q(){if(0<h){var a=m.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function M(a,d){if(h<a.length){var b=c("\x3cimg /\x3e").css({display:"block",
width:6*L+"px",height:H+"px"});b.hide();d.append(b);b.get(0).onload=function(){d.closest(document.documentElement).length&&(h++,1===h&&(Q(),0<n&&(f.time("dppc_loadTime360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<T&&(f.time("dppc_perSpriteloadTime360",Date.now()-T,k.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-T)),m.find("#iv360Spinner").hide(),b.show(),O=5*r.imageLocations[Math.floor(Z/r.imageLocations[0].length)][Z%r.imageLocations[0].length],
M(a,d))};b.attr("src",a[h].replace(/(\._SP)\d+(,)\d+/,"$1"+da+"$2"+ca));T=Date.now()}}function N(b){if(a.isDefined(r.spriteWidthSizes)&&0<r.spriteWidthSizes.length){var c=r.spriteWidthSizes,d=c.length,f=c[0],g=c[d-1];if(b<=f)return f;if(b>g)return g;for(f=0;f<d;f++)if(b>c[f]&&b<=c[f+1])return c[f+1]}else return b}function R(){var a=m.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),c("\x3cimg\x3e").attr("src",k.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ea=!0,aa())}function aa(){if(a.isDefined(r.spriteURLs)&&a.isDefined(m)&&ea&&!ma){var b=m.find("#ivLarge360"),d=c("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(r.staticImages.hint360)&&c("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",r.staticImages.hint360).appendTo(d);c("\x3cdiv\x3e").css({"text-align":"center"}).text(k.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=r.imageWidth;var f=r.imageHeight,h=b.parent().width(),n=b.parent().height(),Y=0,p=0;d/f>h/n?(da=N(h),ca=Math.round(f/d*da),L=Math.ceil(h),H=Math.ceil(ca/da*h),p=(n-H)/2):(ca=N(n),
da=Math.round(d/f*ca),H=Math.ceil(n),L=Math.ceil(da/ca*n),Y=(h-L)/2);b.css({"margin-left":Y,"margin-top":p,width:L+"px",height:H+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*L+"px");M(r.spriteURLs,m.find("#image-360-sprites"),0);d=m.find("#ivLarge360");d.bind("mousedown",J);d.bind("touchstart",ta);d.bind("touchmove",X);d.bind("touchend",fa);c(document).bind("mousemove",l);c(document).bind("mouseup",g);a.isDefined(k.staticImages.grab)&&b.css("cursor",
"url('"+k.staticImages.grab+"'), auto");ma=!0}}function ta(a){ba=!0;la=a.originalEvent.targetTouches[0].clientX}function X(a){ba&&(z(a.originalEvent.targetTouches[0].clientX-la),la=a.originalEvent.targetTouches[0].clientX)}function fa(a){ba&&(ba=!1)}function J(b){ka=!0;V=b.originalEvent.clientX;a.isDefined(k.staticImages.grabbing)&&(b=m.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+k.staticImages.grabbing+"'), auto"));
return!1}function l(a){ka&&(z(a.originalEvent.clientX-V),V=a.originalEvent.clientX)}function g(b){ka&&(ka=!1,a.isDefined(k.staticImages.grab)&&(b=m.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){O-=b/L*180;ja&&(f.count("dppc_360dragToSpin",k.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=O;0>b;)b+=360;for(;360<b;)b-=360;O=b;b=360;for(var c=0;c<h;c++)for(var d=0;d<r.imageLocations[c].length;d++){var g=
Math.abs(O-5*r.imageLocations[c][d]);if(g<b){b=g;var l=c*r.imageLocations[0].length+d}}l!==Z&&(b=Math.floor(l/r.imageLocations[0].length),b!==Math.floor(Z/r.imageLocations[0].length)&&(a.isDefined(Y)||(Y=document.createElement("canvas").getContext("2d")),c=m.find("#image-360-sprites").children(),Y.drawImage(c[b],0,0)),b=m.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));Z=l;b=l%r.imageLocations[0].length*-1*L;l=-1*Math.floor(l/r.imageLocations[0].length)*
H;c=m.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+b+"px, "+l+"px, 0)");c.css("transform","translate3d("+b+"px, "+l+"px, 0)")}function C(){if(I){m=c("#ivMain360");var a=F.getCurrentItem().color;D()&&w(a);r=D()?k.spin360ColorData[a]:sa;t.populateTitle(m.find("#ivTitle360"),160,k);t.populateVariationSelection(m.find("#ivVariationSelection360"));m.find("#ivLarge360").empty();h=0;ma=ea=!1;Z=O=0;U();I=!1}0!==c("#iv360Tab").height()&&(t.detachImmersiveViewResizeHandler(C),
G(),P(),n=Date.now(),ha=ja=!0,f.count("dppc_click360",k.mediaAsin),q.postCountMetric("dppc_click360"))}function v(b,c,d){b=k.colorToAsin[d];var g={},h=500;if(!b||!b.asin)if(d===k.defaultColor)b={asin:k.winningAsin};else return;g.params={asin:b.asin};var l="360"+b.asin,m=Date.now();g.success=function(b){f.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&p.setData(b),a.ajaxState(l,
"success")):g.error()};g.error=function(){f.count("dppc_asyncFailedTransient360",k.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");f.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);h*=2;16E3>=h?setTimeout(function(){m=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",g)},h):(f.count("dppc_asyncFailed360",k.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(l,"fail"))};a.ajaxState(l)&&"fail"!==
a.ajaxState(l)||(x.load("/gp/product/features/apparel-main-image/360.html",g),a.ajaxState(l,"sent"))}function D(){return k&&a.isDefined(k.spin360ConfigEnabled)&&k.spin360ConfigEnabled}function w(b){return a.isDefinedAndNotEmpty(k.spin360ColorData[b])?!0:a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled}function y(){ha&&(f.time("dppc_duration360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-n),ha=!1)}function S(a){a=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;
a||(a=k.mediaAsin);return a}var K,k,F,W,m,r,L,H,ca,da,V,la,ea=!1,ma=!1,O=0,Z=0,n=0,T=0,ka=!1,ba=!1,h=0,Y,ja=!0,ha=!1,I=!0,U=d.once(function(){t.attachImmersiveViewResizeHandler(C);t.attachImmersiveViewResizeHandler(G);t.attachImmersiveViewResetHandler(y);t.attachTabDeselectHandler("iv360Tab",y)});return function(b,g,h,l){K=this;k=b;F=g;W=l;b=k.landingAsinColor;g=k.defaultColor;a.isDefined(k.staticImages.icon360)&&c("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(k.staticImages.icon360,
"_FMpng_RI_"));D()&&(k.spin360ColorData||(k.spin360ColorData={}),b===g&&a.isDefinedAndEmpty(k.spin360ColorData[g])&&delete k.spin360ColorData[g]);d.on(B.TWISTER_DATA_EVENT,function(a){S(F.getCurrentItem())===a&&(r=p.getData(a),aa(),a={type:"updatedData",data:F.getCurrentItem()},W.dispatch("updateView",a))});K.render=function(b,g,h,l,m,n){I=!0;!D()||a.isDefinedAndEmpty(k.spin360ColorData[b])&&!p.getData(S(F.getCurrentItem()))?t.hideTabHeading("iv360TabHeading"):(k.spin360ColorData[b]=p.getData(S(F.getCurrentItem())),
a.isDefinedAndNotEmpty(k.spin360ColorData[b])?(c("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(k,F.getCurrentItem().color)&&D()&&w(b)&&(g===k.maxAlts&&(b=l.find(".item.imageThumbnail"),g=l.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():b.last().remove()),b=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),d.declarative.create(b,"button-360-click"),l.append(b),f.count("dppc_display360",
k.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled?(k.spin360ColorData[b]={},t.hideTabHeading("iv360TabHeading"),v(l,g,b)):t.hideTabHeading("iv360TabHeading"))};K.update=function(a){};t.attachTabSelectHandler("iv360Tab",C)}});B.register("nexusLogger360",function(){return{count:function(d,c){q.ue&&q.ue.event({asin:c,metricName:d,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(d,c,a){q.ue&&q.ue.event({asin:a,metricName:d,
metricValue:c},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(d,c){var a={};return{setData:function(q){var f=q.asin;a[f]||(a[f]=q,d.trigger(c.TWISTER_DATA_EVENT,f))},getData:function(c){return a[c]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(d){function c(){this.render=function(){};this.update=
function(){}}return function(a,q,f,G){var t=!1,p=new c;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(c){c!==sa&&(t=!0,p=new c(a,q,f,G))});a&&!0===a.showroomEnabled&&!1===t&&d.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return p}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(d,
c,a,x,f,B,t){function p(){v.delegate(".ivThumb","click",function(){var a=c(this);v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(D.type="chromeful-video",D.index=a.attr("id").split("_")[1])})}function G(){if(ea){var a=c("#ivVideosTab").height();v.css("height",a);var d=v.find(".vse-lb-container");w=a-f.getDimension(d,"padding-top")-f.getDimension(d,"padding-bottom");d.css({"max-height":a,overflow:"hidden"});if(ca){v.css({"max-width":Math.floor(1.77*w)});
return}a=v.find(".vse-player-container");d=v.find(".vse-video-action-strip");var g=v.find(".vse-lb-video-metadata"),h=Math.floor(w-f.getDimension(g,"height")-f.getDimension(d,"height")),k=Math.floor(1.77*h);a.css({"max-height":h,"max-width":k,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":k,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":k,marginLeft:"auto",marginRight:"auto"})}da&&(a=v.find(".vse-vertical-scroll"),d=f.getDimension(a,"margin-top")+f.getDimension(a,"margin-bottom"),
a.css("max-height",w-d))}function na(){P();y&&y.pause();V=!1;L=!0;F=null;la=!0;ea=!1}function P(){V=!1;y&&y.pause()}function Q(f){F=f.clickTimeStamp?f.clickTimeStamp:d.now();a.isDefined(C)&&(C.eventTimestamp=F);V=!0;H&&(t.get(d,"#ivVideoBlock",z,ba,h),v=c("#ivVideoBlock"),g.getCurrentItem(),D=g.getCurrentItem(),n(),X());G();H=!1;R()}function M(a){H&&(v=c("#ivVideoBlock"),g.getCurrentItem(),D=g.getCurrentItem(),n());V&&R();G()}function N(a){y=a.player;x.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
d.now()-Z);l.imageBlockRenderingStartTime&&x.postTimeMetric("vse_ib_desktop_time_to_player_interactive",d.now()-l.imageBlockRenderingStartTime);ea&&(X(),R())}function R(){if(y&&V&&(v.find(".vse-lb-container").animate({opacity:1},200),y.play(C),x.postCountMetric("dpcc_vse_videoBlock_video_played"),L)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,x.postTimeMetric("dpcc_vse_vitff",a),L=!1)}}function aa(){d.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ia(a){S=
a.popover.$popover;ea=!0;X()}function X(){if(ea&&la&&V&&y){S.addClass(d.$(S).find(".vse-lb-container").data("cssClass"));var a=C;ma&&(a=O,ma=!1);d.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});G();la=!1}}function fa(a){document.getElementsByClassName("videoBlockIngress")[0].click();O=a;ma=!0}var J,l,g,z,C,v,D,w,y,S,K,k,F,W,m,r,L=!0,H=!0,ca=!1,da=!1,V=!1,la=!0,ea=!1,ma=!1,O,Z=0,n=d.once(function(){p();f.attachImmersiveViewResizeHandler(M);f.attachTabDeselectHandler("ivVideosTab",
P);f.attachImmersiveViewResetHandler(na)}),T=function(d,f,h){c("#ivVideoBlockSpinner").addClass("aok-hidden");x.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);d=g.getCurrentItem().color;d=a.getVideoHash(d,0,l);y||(y=a.createAiryInstanceForChromeful(c("#ivVideoBlock"),d,l.airyConfig,"ImmersiveView"));ca=!0;c("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});V&&ca&&y.play({isAsync:!0})},ka=function(a,d,f){H||t.get(a,"#ivVideoBlock",z,ba,h);c("#ivVideoBlockSpinner").addClass("aok-hidden")},
ba=function(a,d,c){da=!0;G()},h=function(a,d,c){x.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+d.pageContext.placement+"_"+d.configuration.type)};return function(c,h,n,p){J=this;l=c;g=h;J.render=function(c,b,h,n,p,q){c=g.getCurrentItem().color;b=a.getVideoHash(c,0,l);!0===q?K=l.mediaAsin:(K=l.colorToAsin[c]&&l.colorToAsin[c].asin,K=a.isDefined(K)?K:l.mediaAsin);k=!0===l.useVSEVideos?"VIDEO_ID":"physicalID";W=l.contentWeblab;m=l.contentWeblabTreatment;r=l.parentAsin||"";H=!0;-1===b?f.hideTabHeading("ivVideosTabHeading"):
(f.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:K,contentIDType:"ASIN",parentContentID:r,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:k,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:l.dpRequestId,weblabContext:[{name:W,assignment:m,ignoreForG2S2Key:!0}],metadata:{ProductTitle:l.title}},C={videoUrl:z.video.videoURL,
contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(F)?F:d.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,rankingStrategy:z.video.rankingStrategy,index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),Z=d.now(),B.get(d,"#ivVideoBlock",z,ka,T))};J.update=function(a){};f.attachTabSelectHandler("ivVideosTab",Q);d.on("vsePlayer-detailpage-imageblock",N);d.on("a:popover:afterShow:immersiveView",ia);d.on("a:popover:beforeHide:immersiveView",aa);d.on("detailpage-imageblock-leave-pip",
fa)}})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,a=l?l("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,f,l){e.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),k=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=c("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){e.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";e.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,h;for(h in a)a[h]&&a[h].length&&(b+=a[h].length);a="image_size_bucket:gt"+g[g.length-1];for(h=1;h<g.length;h++)if(b<=g[h]){a="image_size_bucket:"+g[h-1]+"-"+g[h];break}k.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";e.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});e.register("postEarlyMetric",function(){return null});"use strict";e.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=f.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=f.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,b,c,d,k,g,e,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:c,videoAsinList:"",
rankingStrategy:d,groupType:k,pageUrl:g,pageAsin:e,weblabIds:f}}}});"use strict";e.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=l&&c.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=l&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",
f.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){"use strict";b.when("A").register("payment-options-opt-out-state",function(a){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}})});
/* ******** */
